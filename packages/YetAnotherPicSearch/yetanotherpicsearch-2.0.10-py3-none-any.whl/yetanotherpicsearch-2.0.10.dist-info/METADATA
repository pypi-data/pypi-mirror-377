Metadata-Version: 2.4
Name: YetAnotherPicSearch
Version: 2.0.10
Summary: Yet Another Picture Search Nonebot Plugin
Project-URL: homepage, https://github.com/lgc-NB2Dev/YetAnotherPicSearch
Project-URL: repository, https://github.com/lgc-NB2Dev/YetAnotherPicSearch
Author: NekoAria
Author-email: LgCookie <lgc2333@126.com>
License: GPL-3.0-only
License-File: LICENSE
Keywords: anime,ascii2d,baidu,danbooru,doujin,e-hentai,google,iqdb,nonebot,pixiv,saucenao,tracemoe,yandex
Requires-Python: >=3.10
Requires-Dist: arrow>=1.3.0
Requires-Dist: cookit[loguru,nonebot-alconna,pydantic]>=0.13.2
Requires-Dist: httpx>=0.28.1
Requires-Dist: lxml>=5.4.0
Requires-Dist: msgpack>=1.1.1
Requires-Dist: nonebot-plugin-alconna>=0.59.4
Requires-Dist: nonebot-plugin-waiter>=0.8.1
Requires-Dist: nonebot2>=2.4.3
Requires-Dist: picimagesearch>=3.12.11
Requires-Dist: pillow>=11.3.0
Requires-Dist: pyquery>=2.0.1
Requires-Dist: tenacity>=9.1.2
Provides-Extra: all
Requires-Dist: httpx[socks]>=0.27.2; extra == 'all'
Provides-Extra: socks
Requires-Dist: httpx[socks]>=0.27.2; extra == 'socks'
Description-Content-Type: text/markdown

<!-- markdownlint-disable MD031 MD033 MD036 MD041 MD045 -->

<div align="center">

<a href="https://v2.nonebot.dev/store">
  <img src="https://raw.githubusercontent.com/A-kirami/nonebot-plugin-template/resources/nbp_logo.png" width="180" height="180" alt="NoneBotPluginLogo">
</a>

<p>
  <img src="https://raw.githubusercontent.com/lgc-NB2Dev/readme/main/template/plugin.svg" alt="NoneBotPluginText">
</p>

# YetAnotherPicSearch

_âœ¨ åŸºäº [NoneBot2](https://github.com/nonebot/nonebot2) ä¸ [PicImageSearch](https://github.com/kitUIN/PicImageSearch) çš„å¦ä¸€ä¸ª NoneBot æœå›¾æ’ä»¶ âœ¨_

<img src="https://img.shields.io/badge/python-3.10+-blue.svg" alt="python">
<a href="https://github.com/astral-sh/uv">
  <img src="https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/astral-sh/uv/main/assets/badge/v0.json" alt="uv">
</a>

<br />

<a href="https://pydantic.dev">
  <img src="https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/lgc-NB2Dev/readme/main/template/pyd-v1-or-v2.json" alt="Pydantic Version 1 Or 2" >
</a>
<a href="./LICENSE">
  <img src="https://img.shields.io/github/license/lgc-NB2Dev/YetAnotherPicSearch.svg" alt="license">
</a>
<a href="https://pypi.python.org/pypi/YetAnotherPicSearch">
  <img src="https://img.shields.io/pypi/v/YetAnotherPicSearch.svg" alt="pypi">
</a>
<a href="https://pypi.python.org/pypi/YetAnotherPicSearch">
  <img src="https://img.shields.io/pypi/dm/YetAnotherPicSearch" alt="pypi download">
</a>

<br />

<a href="https://registry.nonebot.dev/plugin/yetanotherpicsearch:YetAnotherPicSearch">
  <img src="https://img.shields.io/endpoint?url=https%3A%2F%2Fnbbdg.lgc2333.top%2Fplugin%2FYetAnotherPicSearch" alt="NoneBot Registry">
</a>
<a href="https://registry.nonebot.dev/plugin/yetanotherpicsearch:YetAnotherPicSearch">
  <img src="https://img.shields.io/endpoint?url=https%3A%2F%2Fnbbdg.lgc2333.top%2Fplugin-adapters%2FYetAnotherPicSearch" alt="Supported Adapters">
</a>

</div>

## ğŸ“– ä»‹ç»

ä¸»è¦å—åˆ° [cq-picsearcher-bot](https://github.com/Tsuk1ko/cq-picsearcher-bot) çš„å¯å‘ã€‚æˆ‘åªéœ€è¦åŸºç¡€çš„æœå›¾åŠŸèƒ½ï¼Œäºæ˜¯å¿ä¸ä½è‡ªå·±ä¹Ÿå†™äº†ä¸€ä¸ªï¼Œç”¨æ¥æœå›¾ã€æœç•ªã€æœæœ¬å­ã€‚

ç›®å‰æ”¯æŒçš„æœå›¾æœåŠ¡ï¼š  
[Ascii2D](https://ascii2d.net/) | [Baidu](https://graph.baidu.com/) | [E-Hentai](https://e-hentai.org/) | [ExHentai](https://exhentai.org/) | [Google](https://www.google.com/imghp) | [Iqdb](https://iqdb.org/) | [SauceNAO](https://saucenao.com/) | [TraceMoe](https://trace.moe/) | [Yandex](https://yandex.com/images/search)

## ğŸ’¿ å®‰è£…

ä»¥ä¸‹æåˆ°çš„æ–¹æ³• ä»»é€‰**å…¶ä¸€** å³å¯

<details open>
<summary>[æ¨è] ä½¿ç”¨ nb-cli å®‰è£…</summary>
åœ¨ nonebot2 é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰“å¼€å‘½ä»¤è¡Œ, è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤å³å¯å®‰è£…

```bash
nb plugin install YetAnotherPicSearch
```

</details>

<details>
<summary>ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…</summary>
åœ¨ nonebot2 é¡¹ç›®çš„æ’ä»¶ç›®å½•ä¸‹, æ‰“å¼€å‘½ä»¤è¡Œ, æ ¹æ®ä½ ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨, è¾“å…¥ç›¸åº”çš„å®‰è£…å‘½ä»¤

<details>
<summary>pip</summary>

```bash
pip install YetAnotherPicSearch
```

</details>
<details>
<summary>pdm</summary>

```bash
pdm add YetAnotherPicSearch
```

</details>
<details>
<summary>poetry</summary>

```bash
poetry add YetAnotherPicSearch
```

</details>
<details>
<summary>conda</summary>

```bash
conda install YetAnotherPicSearch
```

</details>

æ‰“å¼€ nonebot2 é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `pyproject.toml` æ–‡ä»¶, åœ¨ `[tool.nonebot]` éƒ¨åˆ†çš„ `plugins` é¡¹é‡Œè¿½åŠ å†™å…¥

```toml
[tool.nonebot]
plugins = [
    # ...
    "YetAnotherPicSearch"
]
```

</details>

## âš™ï¸ é…ç½®

|             é…ç½®é¡¹             |             å¿…å¡«             |        é»˜è®¤å€¼         |                                                                                                                 è¯´æ˜                                                                                                                  |
| :----------------------------: | :--------------------------: | :-------------------: | :-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|          **é€šç”¨é…ç½®**          |                              |                       |                                                                                                                                                                                                                                       |
|            `PROXY`             |              å¦              |        `None`         |                                                               å¤§éƒ¨åˆ†è¯·æ±‚æ‰€ä½¿ç”¨çš„ä»£ç†åœ°å€ï¼Œå¦‚éœ€è¦ socks åè®®æ”¯æŒè¯·é¢å¤–æ‰§è¡Œ `pip install YetAnotherPicSearch[socks]` å®‰è£…                                                               |
|         **æ•°æ®æºé…ç½®**         |                              |                       |                                                                                                                                                                                                                                       |
|       `SAUCENAO_API_KEY`       | $${\textsf{\color{red}æ˜¯}}$$ |          æ—            | SauceNAO çš„ API KEYï¼Œåœ¨ [è¿™é‡Œ](https://saucenao.com/user.php) æ³¨å†Œååˆ° [è¿™é‡Œ](https://saucenao.com/user.php?page=search-api) è·å–<br />å¦‚æœ SauceNAO çš„ API ä½¿ç”¨è§¦å‘å½“æ—¥ä¸Šé™ï¼Œè¯·åŒæ—¶æ¢æ–°çš„ API Key å’Œä»£ç†èŠ‚ç‚¹ï¼Œä»…æ¢å…¶ä¸­ä¸€ä¸ªæ²¡æœ‰æ„ä¹‰ã€‚ |
|       `ASCII2D_BASE_URL`       |              å¦              | `https://ascii2d.net` |                                                                       Ascii2D Base URL \([#139](https://github.com/lgc-NB2Dev/YetAnotherPicSearch/issues/139)\)                                                                       |
|    `HIDE_ASCII2D_BASE_URL`     |              å¦              |        `True`         |                                                                                    å½“è‡ªå®šä¹‰ Ascii2D Base URL åï¼Œæ˜¯å¦å°†è‡ªå®šä¹‰çš„ URL æ›¿æ¢å›å®˜æ–¹ URL                                                                                    |
|       `EXHENTAI_COOKIES`       |              å¦              |        `None`         |             ExHentai çš„ Cookiesï¼Œæ²¡æœ‰çš„æƒ…å†µä¸‹è‡ªåŠ¨æ”¹ç”¨ E-Hentai æœå›¾ï¼Œè·å–æ–¹å¼å‚è€ƒ è¯·å‚è€ƒ [PicImageSearch æ–‡æ¡£](https://pic-image-search.kituin.fun/wiki/picimagesearch/E-hentai/DataStructure/#cookies%E8%8E%B7%E5%8F%96)             |
|       `NHENTAI_BASE_URL`       |              å¦              | `https://ascii2d.net` |                                                                       NHentai Base URL \([#139](https://github.com/lgc-NB2Dev/YetAnotherPicSearch/issues/139)\)                                                                       |
|    `HIDE_NHENTAI_BASE_URL`     |              å¦              |        `True`         |                                                                                    å½“è‡ªå®šä¹‰ NHentai Base URL åï¼Œæ˜¯å¦å°†è‡ªå®šä¹‰çš„ URL æ›¿æ¢å›å®˜æ–¹ URL                                                                                    |
|      `NHENTAI_USERAGENT`       |              å¦              |        `None`         |     ç”¨æ¥ç»•è¿‡ NHentai Cloudflare æ‹¦æˆªçš„ User Agentï¼Œé…ç½®ååœ¨ E-Hentai æ ‡é¢˜æœç´¢æ— ç»“æœæ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ NHentai æ ‡é¢˜æœç´¢<br />å…ˆç”¨é…ç½®çš„ `PROXY` åšä»£ç†ï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—® NHentai é€šè¿‡ CloudFlare æ£€æµ‹åï¼Œè·å– UA å’Œ Cookies å¡«åˆ°å¯¹åº”é…ç½®é¡¹     |
|       `NHENTAI_COOKIES`        |              å¦              |        `None`         |                                                                                           ç”¨æ¥ç»•è¿‡ NHentai Cloudflare æ‹¦æˆªçš„ Cookiesï¼ŒåŒä¸Š                                                                                            |
|          **è¡Œä¸ºé…ç½®**          |                              |                       |                                                                                                                                                                                                                                       |
|       `SAUCENAO_LOW_ACC`       |              å¦              |         `60`          |                                                                                           SauceNAO ç›¸ä¼¼åº¦ä½äºè¿™ä¸ªç™¾åˆ†æ¯”å°†è¢«è®¤å®šä¸ºç›¸ä¼¼åº¦è¿‡ä½                                                                                           |
|       `AUTO_USE_ASCII2D`       |              å¦              |        `True`         |                                                                            æ˜¯å¦åœ¨ SauceNAO æˆ– IQDB ç›¸ä¼¼åº¦è¿‡ä½æ—¶ / E-Hentai æ— ç»“æœæ—¶ è‡ªåŠ¨ä½¿ç”¨ Ascii2D æœç´¢                                                                             |
|          **äº¤äº’é…ç½®**          |                              |                       |                                                                                                                                                                                                                                       |
|        `SEARCH_KEYWORD`        |              å¦              |        `æœå›¾`         |                                                                                          è§¦å‘æ’ä»¶åŠŸèƒ½çš„æŒ‡ä»¤åï¼Œä½¿ç”¨æ—¶è®°å¾—å¸¦ä¸Šä½ é…ç½®çš„æŒ‡ä»¤å¤´                                                                                           |
|     `SEARCH_KEYWORD_ONLY`      |              å¦              |        `False`        |                                                                        æ˜¯å¦åªå“åº”æŒ‡ä»¤æ¶ˆæ¯ï¼ˆä¼˜å…ˆçº§é«˜äº `SEARCH_IN_GROUP_ONLY_KEYWORD` ä¸ `SEARCH_IMMEDIATELY`ï¼‰                                                                        |
| `SEARCH_IN_GROUP_ONLY_KEYWORD` |              å¦              |        `True`         |                                                                                      æ˜¯å¦åœ¨ç¾¤èŠä¸­åªå“åº”æŒ‡ä»¤æ¶ˆæ¯ï¼Œå¦åˆ™å¯ä»¥é€šè¿‡ @Bot è§¦å‘æœå›¾æ¨¡å¼                                                                                       |
|      `SEARCH_IMMEDIATELY`      |              å¦              |        `True`         |                                                                                            ç§èŠå‘é€å›¾ç‰‡æ˜¯å¦ç›´æ¥è§¦å‘æœå›¾ï¼Œå¦åˆ™éœ€è¦ä½¿ç”¨å‘½ä»¤                                                                                             |
|    `WAIT_FOR_IMAGE_TIMEOUT`    |              å¦              |         `180`         |                                                                                         å½“ç”¨æˆ·æœªæä¾›å›¾ç‰‡æ—¶ï¼Œæç¤ºç”¨æˆ·æä¾›å›¾ç‰‡çš„ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰                                                                                          |
|          **æ¶ˆæ¯é…ç½®**          |                              |                       |                                                                                                                                                                                                                                       |
|           `HIDE_IMG`           |              å¦              |        `False`        |                                                                                                       éšè—æ‰€æœ‰æœç´¢ç»“æœçš„ç¼©ç•¥å›¾                                                                                                        |
|    `HIDE_IMG_WHEN_LOW_ACC`     |              å¦              |        `True`         |                                                                                           SauceNAO / IQDB å¾—åˆ°ä½ç›¸ä¼¼åº¦ç»“æœæ—¶éšè—ç»“æœç¼©ç•¥å›¾                                                                                            |
| `HIDE_IMG_WHEN_WHATANIME_R18`  |              å¦              |        `True`         |                                                                                                WhatAnime å¾—åˆ° R18 ç»“æœæ—¶éšè—ç»“æœç¼©ç•¥å›¾                                                                                                |
|   `SAUCENAO_NSFW_HIDE_LEVEL`   |              å¦              |          `2`          |                           å¯¹ SauceNAO çš„æœç´¢ç»“æœè¿›è¡Œ NSFW åˆ¤æ–­çš„ä¸¥æ ¼ç¨‹åº¦ï¼ˆä¾æ¬¡é€’å¢ï¼‰ï¼Œå¯ç”¨åè‡ªåŠ¨éšè—ç›¸åº”çš„ NSFW ç»“æœçš„ç¼©ç•¥å›¾<br />`0`ï¼šä¸åˆ¤æ–­ï¼Œ `1`ï¼šåªåˆ¤æ–­æ˜ç¡®çš„ï¼Œ `2`ï¼šåŒ…æ‹¬å¯ç–‘çš„ï¼Œ `3`ï¼šéæ˜ç¡®ä¸º SFW çš„                            |
|    `FORWARD_SEARCH_RESULT`     |              å¦              |        `True`         |                                                                              è‹¥ç»“æœæ¶ˆæ¯æœ‰å¤šæ¡ï¼Œæ˜¯å¦é‡‡ç”¨åˆå¹¶è½¬å‘æ–¹å¼å‘é€æœå›¾ç»“æœï¼ˆå¹³å°ä¸æ”¯æŒä¼šè‡ªåŠ¨å›é€€ï¼‰                                                                               |
|       `TO_CONFUSE_URLS`        |              å¦              |          ...          |                                                                   è¦ç ´åå¤„ç†çš„ç½‘å€åˆ—è¡¨ï¼Œå‡å°‘é£æ§æ¦‚ç‡ï¼ˆå‘å‡ºæ¥çš„æ¶ˆæ¯åŒ…å«è¿™äº›ç½‘å€ä¼šåœ¨ç½‘å€çš„ `://` ä¸ `.` ååŠ ä¸Šç©ºæ ¼ï¼‰                                                                    |
|          **æ‚é¡¹é…ç½®**          |                              |                       |                                                                                                                                                                                                                                       |
|         `CACHE_EXPIRE`         |              å¦              |          `3`          |                                                                                                         æ¶ˆæ¯ç¼“å­˜è¿‡æœŸæ—¶é—´ (å¤©)                                                                                                         |

## ğŸ‰ ä½¿ç”¨

ä½¿ç”¨ä½ é…ç½®çš„æŒ‡ä»¤ï¼ˆé»˜è®¤ä¸º `æœå›¾`ï¼‰å³å¯å¼€å§‹ä½¿ç”¨ï¼Œé™„å¸¦æˆ–å›å¤å›¾ç‰‡å¯ç›´æ¥è§¦å‘æœå›¾ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å¸¦å¤šå¼ å›¾  
æ›´è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒ [è¿™é‡Œ](https://github.com/lgc-NB2Dev/YetAnotherPicSearch/tree/main/docs/usage.md)

### æ•ˆæœå›¾

<p float="left">
    <img src="docs/images/image01.jpg" width="32%" />
    <img src="docs/images/image02.jpg" width="32%" />
    <img src="docs/images/image03.jpg" width="32%" />
</p>

## ğŸ“ è”ç³»

<!--
### NekoAria

æš‚æ— 
-->

### LgCookie

QQï¼š3076823485  
Telegramï¼š[@lgc2333](https://t.me/lgc2333)  
å¹æ°´ç¾¤ï¼š[168603371](https://qm.qq.com/q/EikuZ5sP4G)  
é‚®ç®±ï¼š<lgc2333@126.com>

## ğŸ’¡ é¸£è°¢

- [cq-picsearcher-bot](https://github.com/Tsuk1ko/cq-picsearcher-bot)
- [PicImageSearch](https://github.com/kitUIN/PicImageSearch)
- [NoneBot2](https://github.com/nonebot/nonebot2)
- [go-cqhttp](https://github.com/Mrs4s/go-cqhttp)

## ğŸ’° èµåŠ©

**[èµåŠ©æˆ‘](https://blog.lgc2333.top/donate)**

æ„Ÿè°¢å¤§å®¶çš„èµåŠ©ï¼ä½ ä»¬çš„èµåŠ©å°†æ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼

## â­ Star History

[![Star History](https://starchart.cc/lgc-NB2Dev/YetAnotherPicSearch.svg)](https://starchart.cc/lgc-NB2Dev/YetAnotherPicSearch)

## ğŸ“ æ›´æ–°æ—¥å¿—

### 2.0.9 ~ 2.0.10

- ä¿®å¤æ— æ³•ä»ç”¨æˆ·æ¶ˆæ¯ä¸­è·å–å›¾ç‰‡çš„é—®é¢˜

### 2.0.8

- å…¼å®¹ alconna 0.59

### 2.0.7

- ä¿®å¤ SauceNAO æœç´¢æ—¶å‡ºç°çš„ä¸€ä¸ª Bug

### 2.0.6

- æ·»åŠ é…ç½® `NHENTAI_BASE_URL`ã€`HIDE_NHENTAI_BASE_URL`

### 2.0.5

- feat: æ·»åŠ éšè— ascii2d ç½‘é¡µåå‘ä»£ç†åœ°å€çš„é…ç½®åŠåŠŸèƒ½ by [@iona-s](https://github.com/iona-s) in [#186](https://github.com/lgc-NB2Dev/YetAnotherPicSearch/pull/186)

### 2.0.4

- å…¼å®¹ HTTPX 0.28

### 2.0.3

- ç§»é™¤é‡å¤æœç´¢ç»“æœå¹¶æ·»åŠ æ•°é‡æç¤º

### 2.0.2

- æ·»åŠ é…ç½®é¡¹ç”¨äºè‡ªå®šä¹‰ Ascii2D çš„ Base URL

### 2.0.1

- ä¿®å¤ [#137](https://github.com/lgc-NB2Dev/YetAnotherPicSearch/issues/137)
  - ä¿®å¤æ–‡æœ¬é‡å¤çš„é—®é¢˜
  - ä¿®å¤ ExHentai å§‹ç»ˆæ˜¾ç¤ºæ— æ³•ä½¿ç”¨çš„é—®é¢˜
- ä¿®å¤ç¼“å­˜æ¶ˆæ¯æ˜¾ç¤ºé—®é¢˜
- æ·»åŠ ç¼ºå¤±ä¾èµ–

### 2.0.0

é¡¹ç›®é‡æ„ï¼š

- ä½¿ç”¨ alconna æ”¯æŒå¤šå¹³å°ï¼Œé‡æ„æ¶ˆæ¯ç¼“å­˜
- å°†ä¹‹å‰çš„ `æœå›¾å…³é”®è¯` æ”¹ä¸ºæŒ‡ä»¤ï¼›åŒæ—¶ç”±äºä¸æ–¹ä¾¿åˆ¤æ–­æ˜¯å¦å›å¤çš„æ˜¯ Bot è‡ªèº«æ¶ˆæ¯ï¼Œæ‰€ä»¥é˜‰æ‰äº†è¿™ä¸ª
- å…¶ä»–ç»†èŠ‚æ›´æ”¹
- é…ç½®å˜åŠ¨ï¼š
  - æ–°å¢ `SEARCH_IN_GROUP_ONLY_KEYWORD`
  - æ–°å¢ `WAIT_FOR_IMAGE_TIMEOUT`

ä»¥å‰çš„æ›´æ–°æ—¥å¿—è¯·åœ¨ Releases ä¸­æŸ¥çœ‹

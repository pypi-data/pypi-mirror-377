"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[3191],{47815:(e,t,r)=>{var a,o,n,i,s;r.d(t,{Or:()=>o,Z_:()=>i,cM:()=>s,yV:()=>a}),function(e){e.Email="Email",e.Slack="Slack",e.SlackV2="SlackV2"}(a||(a={})),function(e){e.Success="Success",e.Working="Working",e.Error="Error",e.Noop="Not triggered",e.Grace="On Grace"}(o||(o={})),function(e){e.Email="Email",e.Slack="Slack",e.SlackV2="SlackV2"}(n||(n={})),function(e){e.General="generalSection",e.Content="contentSection",e.Alert="alertConditionSection",e.Schedule="scheduleSection",e.Notification="notificationSection"}(i||(i={})),function(e){e.Dashboard="dashboard",e.Chart="chart"}(s||(s={}))},63297:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var a=r(2445),o=r(72234),n=r(17437),i=r(95579),s=r(74353),l=r.n(s),c=r(96540),d=r(61574),u=r(71519),g=r(97470),h=r(44344),m=r(51713),f=r(5261),S=r(95070),p=r(88014),k=r(50500);const b=o.I4.div`
  ${({theme:e})=>n.AH`
    display: flex;
    flex-direction: row;

    a,
    Link {
      margin-left: ${4*e.sizeUnit}px;
      font-size: ${e.fontSizeSM};
      font-weight: ${e.fontWeightNormal};
      text-decoration: underline;
    }
  `}
`,O=(0,f.Ay)((function({addDangerToast:e,addSuccessToast:t,isReportEnabled:r}){const{alertId:o}=(0,d.g)(),{state:{loading:n,resourceCount:s,resourceCollection:f},fetchData:O}=(0,k.RU)(`report/${o}/log`,(0,i.t)("log"),e,!1),{state:{loading:C,resource:D},fetchResource:E}=(0,k.fn)("report",(0,i.t)("reports"),e);(0,c.useEffect)((()=>{null===o||C||E(o)}),[o]);const T=(0,c.useMemo)((()=>[{Cell:({row:{original:{state:e}}})=>(0,a.Y)(p.A,{state:e,isReportEnabled:r}),accessor:"state",Header:(0,i.t)("State"),size:"xs",disableSortBy:!0,id:"state"},{Cell:({row:{original:{uuid:e}}})=>e?e.slice(0,6):"none",accessor:"uuid",Header:(0,i.t)("Execution ID"),size:"xs",disableSortBy:!0,id:"uuid"},{Cell:({row:{original:{scheduled_dttm:e}}})=>l()(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),accessor:"scheduled_dttm",Header:(0,i.t)("Scheduled at (UTC)"),id:"scheduled_dttm"},{Cell:({row:{original:{start_dttm:e}}})=>l()(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),Header:(0,i.t)("Start at (UTC)"),accessor:"start_dttm",id:"start_dttm"},{Cell:({row:{original:{start_dttm:e,end_dttm:t}}})=>(0,S.RW)(new Date(e).getTime(),new Date(t).getTime()),Header:(0,i.t)("Duration"),disableSortBy:!0,id:"duration"},{accessor:"value",Header:(0,i.t)("Value"),id:"value"},{accessor:"error_message",Header:(0,i.t)("Error message"),Cell:({row:{original:{error_message:e=""}}})=>(0,a.Y)(g.m,{title:e,placement:"topLeft",children:(0,a.Y)("span",{children:e})}),id:"error_message"}]),[r]),w=`/${r?"report":"alert"}/list/`,Y=(0,i.t)("Alert"),x=(0,i.t)("Report");return(0,a.FD)(a.FK,{children:[(0,a.Y)(m.A,{name:(0,a.FD)(b,{children:[(0,a.FD)("span",{children:[D?"Alert"===D.type?`${Y}:`:"Report"===D.type?`${x}:`:null:null," ",null==D?void 0:D.name]}),(0,a.Y)("span",{children:(0,a.Y)(u.N_,{to:w,children:(0,i.t)("Back to all")})})]})}),(0,a.Y)(h.uO,{className:"execution-log-list-view",columns:T,count:s,data:f,fetchData:O,initialSort:[{id:"start_dttm",desc:!0}],loading:n,addDangerToast:e,addSuccessToast:t,refreshData:()=>{},pageSize:25})]})}))},88014:(e,t,r)=>{r.d(t,{A:()=>d});var a=r(2445),o=r(72234),n=r(95579),i=r(97470),s=r(38380),l=r(47815);function c(e,t,r){switch(e){case l.Or.Working:return r.colorPrimaryText;case l.Or.Error:return r.colorErrorText;case l.Or.Success:return t?r.colorSuccessText:r.colorErrorText;case l.Or.Noop:return r.colorSuccessText;case l.Or.Grace:return r.colorErrorText;default:return r.colorText}}function d({state:e,isReportEnabled:t=!1}){const r=(0,o.DP)(),d={icon:s.F.CheckOutlined,label:"",status:""};switch(e){case l.Or.Success:d.icon=t?s.F.CheckOutlined:s.F.WarningOutlined,d.label=t?(0,n.t)("Report sent"):(0,n.t)("Alert triggered, notification sent"),d.status=l.Or.Success;break;case l.Or.Working:d.icon=s.F.Running,d.label=t?(0,n.t)("Report sending"):(0,n.t)("Alert running"),d.status=l.Or.Working;break;case l.Or.Error:d.icon=s.F.CloseOutlined,d.label=t?(0,n.t)("Report failed"):(0,n.t)("Alert failed"),d.status=l.Or.Error;break;case l.Or.Noop:d.icon=s.F.CheckOutlined,d.label=(0,n.t)("Nothing triggered"),d.status=l.Or.Noop;break;case l.Or.Grace:d.icon=s.F.WarningOutlined,d.label=(0,n.t)("Alert Triggered, In Grace Period"),d.status=l.Or.Grace;break;default:d.icon=s.F.CheckOutlined,d.label=(0,n.t)("Nothing triggered"),d.status=l.Or.Noop}const u=d.icon;return(0,a.Y)(i.m,{title:d.label,placement:"bottomLeft",children:(0,a.Y)(u,{iconSize:"m",iconColor:c(d.status,t,r)})})}}}]);
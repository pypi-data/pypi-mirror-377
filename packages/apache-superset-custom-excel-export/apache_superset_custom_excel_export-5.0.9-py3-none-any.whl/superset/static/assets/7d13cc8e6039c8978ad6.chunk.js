"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8604],{11460:(e,t,r)=>{r.d(t,{A:()=>n});var s=r(53259),i=r.n(s);const o={onRenderFailure(){},onRenderSuccess(){}};function n(e){const t=i().Map(e);class r extends t{componentDidMount(){this.afterRender()}componentDidUpdate(){this.afterRender()}afterRender(){const{loaded:e,loading:t,error:r}=this.state,{onRenderFailure:s,onRenderSuccess:i}=this.props;t||(r?s(r):e&&Object.keys(e).length>0&&i())}}return r.defaultProps=void 0,r.defaultProps=o,r.preload=t.preload,r}},28846:(e,t,r)=>{r.d(t,{A:()=>F});var s=r(2445),i=r(96540),o=r(94177),n=r(80116),a=r(1081),h=r(98837),d=r(91249),l=r(80145),c=r(95579),p=r(27577),u=r(40012),f=r(54111),m=r(11460);function g(e){return e}const v=()=>null,y={id:"",className:"",preTransformProps:g,overrideTransformProps:void 0,postTransformProps:g,onRenderSuccess(){},onRenderFailure(){}},P=new f.A;class D extends i.PureComponent{constructor(...e){super(...e),this.container=void 0,this.processChartProps=(0,a.Mz)([e=>e.chartProps,e=>e.preTransformProps,e=>e.transformProps,e=>e.postTransformProps],((e,t=g,r=g,s=g)=>s(r(t(e))))),this.createLoadableRenderer=(0,a.Mz)([e=>e.chartType,e=>e.overrideTransformProps],((e,t)=>{if(e){const r=(0,m.A)({loader:{Chart:()=>(0,p.A)().getAsPromise(e),transformProps:t?()=>Promise.resolve(t):()=>(0,u.A)().getAsPromise(e)},loading:t=>this.renderLoading(t,e),render:this.renderChart});return r.preload(),r}return v})),this.renderChart=(e,t)=>{const{Chart:r,transformProps:i}=e,{chartProps:o,preTransformProps:n,postTransformProps:a}=t;return(0,s.Y)(r,{...this.processChartProps({chartProps:o,preTransformProps:n,transformProps:i,postTransformProps:a})})},this.renderLoading=(e,t)=>{const{error:r}=e;return r?(0,s.FD)("div",{className:"alert alert-warning",role:"alert",children:[(0,s.Y)("strong",{children:(0,c.t)("ERROR")})," ",(0,s.FD)("code",{children:['chartType="',t,'"']})," —",r.toString()]}):null},this.setRef=e=>{this.container=e}}render(){const{id:e,className:t,preTransformProps:r,postTransformProps:i,chartProps:o=P,onRenderSuccess:n,onRenderFailure:a}=this.props,h=this.createLoadableRenderer(this.props);if(null===o)return null;const d={};return e&&(d.id=e),t&&(d.className=t),(0,s.Y)("div",{...d,ref:this.setRef,children:(0,s.Y)(h,{preTransformProps:r,postTransformProps:i,chartProps:o,onRenderSuccess:n,onRenderFailure:a})})}}D.defaultProps=y;var R=r(72234),S=r(17437);const w={maxWidth:800},C=R.I4.div`
  ${({theme:e,width:t,height:r})=>S.AH`
    align-items: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    height: ${r}px;
    width: ${t}px;
    padding: ${4*e.sizeUnit}px;

    & .no-results-title {
      font-size: ${e.fontSizeLG}px;
      font-weight: ${e.fontWeightStrong};
      padding-bottom: ${2*e.sizeUnit};
    }

    & .no-results-body {
      font-size: ${e.fontSize}px;
    }
  `}
`,b=({className:e,height:t,id:r,width:i})=>{const o="string"==typeof i||i>250,n=(0,c.t)("No results were returned for this query. If you expected results to be returned, ensure any filters are configured properly and the datasource contains data for the selected time range.");return(0,s.Y)(C,{height:t,width:i,className:e,id:r,title:o?void 0:n,children:(0,s.FD)("div",{style:w,children:[(0,s.Y)("div",{className:"no-results-title",children:(0,c.t)("No Results")}),o&&(0,s.Y)("div",{className:"no-results-body",children:n})]})})},T={FallbackComponent:function({error:e,height:t,width:r}){return(0,s.Y)("div",{css:e=>({backgroundColor:e.colors.grayscale.dark2,color:e.colors.grayscale.light5,overflow:"auto",padding:32}),style:{height:t,width:r},children:(0,s.FD)("div",{children:[(0,s.Y)("div",{children:(0,s.Y)("b",{children:(0,c.t)("Oops! An error occurred!")})}),(0,s.Y)("code",{children:e?e.toString():"Unknown Error"})]})})},height:400,width:"100%",enableNoResults:!0};class x extends i.PureComponent{constructor(...e){super(...e),this.core=void 0,this.createChartProps=f.A.createSelector(),this.parseDimension=(0,a.Mz)([({width:e})=>e,({height:e})=>e],((e,t)=>{const r=(0,d.A)(e),o=(0,d.A)(t),n={height:o.isDynamic?100*o.multiplier+"%":o.value,width:r.isDynamic?100*r.multiplier+"%":r.value};return{BoundingBox:r.isDynamic&&o.isDynamic&&1===r.multiplier&&1===o.multiplier?i.Fragment:({children:e})=>(0,s.Y)("div",{style:n,children:e}),heightInfo:o,widthInfo:r}})),this.setRef=e=>{this.core=e},this.getQueryCount=()=>{var e,t;return null!=(e=null==(t=(0,l.A)().get(this.props.chartType))?void 0:t.queryObjectCount)?e:1}}renderChart(e,t){const{id:r,className:i,chartType:n,preTransformProps:a,overrideTransformProps:h,postTransformProps:d,onRenderSuccess:l,onRenderFailure:c,disableErrorBoundary:p,FallbackComponent:u,onErrorBoundary:f,Wrapper:m,queriesData:g,enableNoResults:v,noResults:y,theme:P,...R}=this.props,S=this.createChartProps({...R,queriesData:g,height:t,width:e,theme:P});let w;if(!v||g&&!g.slice(0,this.getQueryCount()).every((({data:e})=>!e||Array.isArray(e)&&0===e.length))){const o=(0,s.Y)(D,{ref:this.setRef,id:r,className:i,chartType:n,chartProps:S,preTransformProps:a,overrideTransformProps:h,postTransformProps:d,onRenderSuccess:l,onRenderFailure:c});w=m?(0,s.Y)(m,{width:e,height:t,children:o}):o}else w=y||(0,s.Y)(b,{id:r,className:i,height:t,width:e});return!0===p?w:(0,s.Y)(o.tH,{FallbackComponent:r=>(0,s.Y)(u,{width:e,height:t,...r}),onError:f,children:w})}render(){const{heightInfo:e,widthInfo:t,BoundingBox:r}=this.parseDimension(this.props);if(t.isDynamic||e.isDynamic){const{debounceTime:i}=this.props;return(0,s.Y)(r,{children:(0,s.Y)(n.A,{debounceTime:i,children:({width:r,height:s})=>this.renderChart(t.isDynamic?Math.floor(r):t.value,e.isDynamic?Math.floor(s):e.value)})})}return this.renderChart(t.value,e.value)}}x.defaultProps=T;const F=(0,h.b)(x)},45905:(e,t,r)=>{r.d(t,{h:()=>o});var s=r(96540),i=r(83505);function o(e,t){const r=(0,i.Z)(e);(0,s.useEffect)((()=>{e!==r&&t(r,e)}),[e,r,t])}},54111:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(1081),i=r(75451);const o=800,n=600;class a{constructor(e={}){this.annotationData=void 0,this.datasource=void 0,this.rawDatasource=void 0,this.initialValues=void 0,this.formData=void 0,this.rawFormData=void 0,this.height=void 0,this.hooks=void 0,this.ownState=void 0,this.filterState=void 0,this.legendState=void 0,this.legendIndex=void 0,this.queriesData=void 0,this.width=void 0,this.behaviors=void 0,this.displaySettings=void 0,this.appSection=void 0,this.isRefreshing=void 0,this.inputRef=void 0,this.inContextMenu=void 0,this.emitCrossFilters=void 0,this.theme=void 0;const{annotationData:t={},datasource:r={},formData:s={},hooks:a={},ownState:h={},filterState:d={},legendState:l,legendIndex:c,initialValues:p={},queriesData:u=[],behaviors:f=[],displaySettings:m={},width:g=o,height:v=n,appSection:y,isRefreshing:P,inputRef:D,inContextMenu:R=!1,emitCrossFilters:S=!1,theme:w}=e;this.width=g,this.height=v,this.annotationData=t,this.datasource=(0,i.A)(r),this.rawDatasource=r,this.formData=(0,i.A)(s),this.rawFormData=s,this.hooks=a,this.initialValues=p,this.queriesData=u,this.ownState=h,this.filterState=d,this.legendState=l,this.legendIndex=c,this.behaviors=f,this.displaySettings=m,this.appSection=y,this.isRefreshing=P,this.inputRef=D,this.inContextMenu=R,this.emitCrossFilters=S,this.theme=w}}a.createSelector=void 0,a.createSelector=function(){return(0,s.Mz)((e=>e.annotationData),(e=>e.datasource),(e=>e.formData),(e=>e.height),(e=>e.hooks),(e=>e.initialValues),(e=>e.queriesData),(e=>e.width),(e=>e.ownState),(e=>e.filterState),(e=>e.legendState),(e=>e.legendIndex),(e=>e.behaviors),(e=>e.displaySettings),(e=>e.appSection),(e=>e.isRefreshing),(e=>e.inputRef),(e=>e.inContextMenu),(e=>e.emitCrossFilters),(e=>e.theme),((e,t,r,s,i,o,n,h,d,l,c,p,u,f,m,g,v,y,P,D)=>new a({annotationData:e,datasource:t,formData:r,height:s,hooks:i,initialValues:o,queriesData:n,ownState:d,filterState:l,legendState:c,legendIndex:p,width:h,behaviors:u,displaySettings:f,appSection:m,isRefreshing:g,inputRef:v,inContextMenu:y,emitCrossFilters:P,theme:D})))}},91249:(e,t,r)=>{r.d(t,{A:()=>i});const s={isDynamic:!0,multiplier:1};function i(e){return"auto"===e||"100%"===e?s:"string"==typeof e&&e.length>0&&"%"===e[e.length-1]?{isDynamic:!0,multiplier:parseFloat(e)/100}:{isDynamic:!1,value:"number"==typeof e?e:parseFloat(e)}}}}]);
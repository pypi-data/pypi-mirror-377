(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[4235],{13090:(e,t,n)=>{"use strict";n.d(t,{a1:()=>R,nf:()=>d.A,hq:()=>w.A,hs:()=>r,oZ:()=>i.A,XB:()=>x.A,Oj:()=>u.A,Ho:()=>m.A,mu:()=>g.A,Am:()=>f.A,aT:()=>v.A,qw:()=>p.A,lM:()=>b.A,VJ:()=>S.A,qO:()=>a.A,w_:()=>y.A,CP:()=>A.A,zM:()=>l.A,wI:()=>F.w,Ck:()=>h.A,fH:()=>C.fH,iw:()=>C.iw,LC:()=>N.A,F5:()=>T.A,RE:()=>c.A,o3:()=>k.o3,yG:()=>k.yG,nn:()=>o.A,OB:()=>k.OB,HG:()=>C.Ay,cH:()=>s.A,E2:()=>k.E2,Ob:()=>k.Ob});var r=n(94963),i=n(10526),a=n(20750),o=n(76968),l=n(54249),s=n(69161),c=n(30885),h=n(22054),d=n(94584),u=n(9755),m=n(35638),g=n(65621),f=n(32215),p=n(33269),y=n(44767),b=n(32637),v=n(67051),x=n(66361),w=n(58540),S=n(49482),A=n(20455),N=n(58966),T=n(17838),k=n(39472),F=n(63756),C=n(7148);const R="#00A699"},31746:(e,t,n)=>{var r={"./langAR":[95380,5380],"./langAR.js":[95380,5380],"./langCS":[64053,4053],"./langCS.js":[64053,4053],"./langDE":[87020,7020],"./langDE.js":[87020,7020],"./langEN":[45764],"./langEN.js":[45764],"./langES":[61591,1591],"./langES.js":[61591,1591],"./langFA":[78510,8510],"./langFA.js":[78510,8510],"./langFI":[9702,9702],"./langFI.js":[9702,9702],"./langFR":[51515,1515],"./langFR.js":[51515,1515],"./langHU":[45888,5888],"./langHU.js":[45888,5888],"./langIT":[48378,8378],"./langIT.js":[48378,8378],"./langJA":[1626,1626],"./langJA.js":[1626,1626],"./langKO":[95401,5401],"./langKO.js":[95401,5401],"./langNL":[13985,3985],"./langNL.js":[13985,3985],"./langPL":[39271,9271],"./langPL.js":[39271,9271],"./langPT-br":[43620,3620],"./langPT-br.js":[43620,3620],"./langRO":[28079,460],"./langRO.js":[28079,460],"./langRU":[69118,6737],"./langRU.js":[69118,6737],"./langSI":[72603,2603],"./langSI.js":[72603,2603],"./langSV":[46746,6746],"./langSV.js":[46746,6746],"./langTH":[90703,703],"./langTH.js":[90703,703],"./langTR":[26841,6841],"./langTR.js":[26841,6841],"./langUK":[82335,2335],"./langUK.js":[82335,2335],"./langVI":[10102,102],"./langVI.js":[10102,102],"./langZH":[23073],"./langZH.js":[23073]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(i)))}i.keys=()=>Object.keys(r),i.id=31746,e.exports=i},35725:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(76977),i=n(79305),a=n(55856);function o(e,t){const{text:n,className:o,style:l,container:s}=e;if(0===n.length)return{height:0,width:0};const c=a.z.createInContainer(s),h=a.k.createInContainer(c);(0,r.A)(h,{className:o,style:l,text:n});const d=(0,i.A)(h,t);return setTimeout((()=>{a.k.removeFromContainer(c),a.z.removeFromContainer(s)}),500),d}},55856:(e,t,n)=>{"use strict";n.d(t,{z:()=>a,k:()=>o});class r{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}const i="http://www.w3.org/2000/svg",a=new r((function(){const e=document.createElementNS(i,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e})),o=new r((function(){return document.createElementNS(i,"text")}))},64235:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(2445),i=n(96540),a=n(32142),o=n(95579),l=n(73865),s=n(72234),c=n(7349),h=n(58928),d=n(13090),u=n(85867);const m=(0,a.gV)(),g=.3;class f extends i.PureComponent{constructor(...e){super(...e),this.metricNameRef=(0,i.createRef)(),this.kickerRef=(0,i.createRef)(),this.headerRef=(0,i.createRef)(),this.subheaderRef=(0,i.createRef)(),this.subtitleRef=(0,i.createRef)(),this.state={elementsRendered:!1,recalculateTrigger:!1}}componentDidMount(){setTimeout((()=>{this.setState({elementsRendered:!0})}),0)}componentDidUpdate(e){e.height===this.props.height&&e.showTrendLine===this.props.showTrendLine||this.setState((e=>({recalculateTrigger:!e.recalculateTrigger})))}getClassName(){const{className:e,showTrendLine:t,bigNumberFallback:n}=this.props,r=`superset-legacy-chart-big-number ${e} ${n?"is-fallback-value":""}`;return t?r:`${r} no-trendline`}createTemporaryContainer(){const e=document.createElement("div");return e.className=this.getClassName(),e.style.position="absolute",e.style.opacity="0",e}renderFallbackWarning(){const{bigNumberFallback:e,formatTime:t,showTimestamp:n}=this.props;return t&&e&&!n?(0,r.Y)("span",{className:"alert alert-warning",role:"alert",title:(0,o.t)("Last available value seen on %s",t(e[0])),children:(0,o.t)("Not up to date")}):null}renderMetricName(e){const{metricName:t,width:n,showMetricName:i}=this.props;if(!i||!t)return null;const a=t,o=this.createTemporaryContainer();document.body.append(o);const s=(0,l.A)({text:a,maxWidth:n,maxHeight:e,className:"metric-name",container:o});return o.remove(),(0,r.Y)("div",{ref:this.metricNameRef,className:"metric-name",style:{fontSize:s,height:"auto"},children:a})}renderKicker(e){const{timestamp:t,showTimestamp:n,formatTime:i,width:a}=this.props;if(!i||!n||"string"==typeof t||"bigint"==typeof t||"boolean"==typeof t)return null;const o=null===t?"":i(t),s=this.createTemporaryContainer();document.body.append(s);const c=(0,l.A)({text:o,maxWidth:a,maxHeight:e,className:"kicker",container:s});return s.remove(),(0,r.Y)("div",{ref:this.kickerRef,className:"kicker",style:{fontSize:c,height:"auto"},children:o})}renderHeader(e){const{bigNumber:t,headerFormatter:n,width:i,colorThresholdFormatters:a}=this.props,c=null===t?(0,o.t)("No data"):n(t),h=Array.isArray(a)&&a.length>0,{theme:d}=s.vP;let u;h?a.forEach((e=>{const n=!!t&&e.getColorFromValue(t);n&&(u=n)})):u=d.colorText;const m=this.createTemporaryContainer();document.body.append(m);const g=(0,l.A)({text:c,maxWidth:.9*i,maxHeight:e,className:"header-line",container:m});return m.remove(),(0,r.Y)("div",{ref:this.headerRef,className:"header-line",style:{display:"flex",alignItems:"center",fontSize:g,height:"auto",color:u},onContextMenu:e=>{this.props.onContextMenu&&(e.preventDefault(),this.props.onContextMenu(e.nativeEvent.clientX,e.nativeEvent.clientY))},children:c})}rendermetricComparisonSummary(e){const{subheader:t,width:n}=this.props;let i=0;const a=t;if(a){const t=this.createTemporaryContainer();document.body.append(t);try{i=(0,l.A)({text:a,maxWidth:.9*n,maxHeight:e,className:"subheader-line",container:t})}finally{t.remove()}return(0,r.Y)("div",{ref:this.subheaderRef,className:"subheader-line",style:{fontSize:i,height:e},children:a})}return null}renderSubtitle(e){const{subtitle:t,width:n,bigNumber:i,bigNumberFallback:a}=this.props;let s=0;const c=(0,o.t)("No data after filtering or data is NULL for the latest time record"),h=(0,o.t)("Try applying different filters or ensuring your datasource has data");let d=t;if(null===i&&(d=t||(a?h:c)),d){const t=this.createTemporaryContainer();return document.body.append(t),s=(0,l.A)({text:d,maxWidth:.9*n,maxHeight:e,className:"subtitle-line",container:t}),t.remove(),(0,r.Y)(r.FK,{children:(0,r.Y)("div",{ref:this.subtitleRef,className:"subtitle-line subheader-line",style:{fontSize:`${s}px`,height:e},children:d})})}return null}renderTrendline(e){const{width:t,trendLineData:n,echartOptions:i,refs:a}=this.props;if(null==n||!n.some((e=>null!==e[1])))return null;const o={contextmenu:e=>{if(this.props.onContextMenu){e.event.stop();const{data:a}=e;if(a){var t,n,r,i;const o=e.event.event,l=[];l.push({col:null==(t=this.props.formData)?void 0:t.granularitySqla,grain:null==(n=this.props.formData)?void 0:n.timeGrainSqla,op:"==",val:a[0],formattedVal:null==(r=(i=this.props).xValueFormatter)?void 0:r.call(i,a[0])}),this.props.onContextMenu(o.clientX,o.clientY,{drillToDetail:l})}}}};return i&&(0,r.Y)(u.A,{refs:a,width:Math.floor(t),height:e,echartOptions:i,eventHandlers:o})}getTotalElementsHeight(){const e=[this.metricNameRef,this.kickerRef,this.headerRef,this.subheaderRef,this.subtitleRef].filter((e=>e.current));return e.reduce(((t,n,r)=>{var i;return t+((null==(i=n.current)?void 0:i.offsetHeight)||0)+(r<e.length-1?8:0)}),0)}shouldApplyOverflow(e){return!!this.state.elementsRendered&&this.getTotalElementsHeight()>e}render(){const{showTrendLine:e,height:t,kickerFontSize:n,headerFontSize:i,subtitleFontSize:a,metricNameFontSize:o,subheaderFontSize:l}=this.props,s=this.getClassName();if(e){const e=Math.floor(g*t),c=t-e,h=this.shouldApplyOverflow(c);return(0,r.FD)("div",{className:s,children:[(0,r.FD)("div",{className:"text-container",style:{height:c,...h?{display:"block",boxSizing:"border-box",overflowX:"hidden",overflowY:"auto",width:"100%"}:{}},children:[this.renderFallbackWarning(),this.renderMetricName(Math.ceil(.7*(o||0)*t)),this.renderKicker(Math.ceil(.7*(n||0)*t)),this.renderHeader(Math.ceil(.7*i*t)),this.rendermetricComparisonSummary(Math.ceil(.7*l*t)),this.renderSubtitle(Math.ceil(.7*a*t))]}),this.renderTrendline(e)]})}const c=this.shouldApplyOverflow(t);return(0,r.Y)("div",{className:s,style:{height:t,...c?{display:"block",boxSizing:"border-box",overflowX:"hidden",overflowY:"auto",width:"100%"}:{}},children:(0,r.FD)("div",{className:"text-container",children:[this.renderFallbackWarning(),this.renderMetricName((o||0)*t),this.renderKicker((n||0)*t),this.renderHeader(Math.ceil(i*t)),this.rendermetricComparisonSummary(Math.ceil(l*t)),this.renderSubtitle(Math.ceil(a*t))]})})}}f.defaultProps={className:"",headerFormatter:m,formatTime:(0,c.mo)(h.M),headerFontSize:.3,kickerFontSize:.1,metricNameFontSize:.125,showMetricName:!0,mainColor:d.a1,showTimestamp:!1,showTrendLine:!1,startYAxisAtZero:!0,subheader:"",subheaderFontSize:.125,timeRangeFixed:!1};const p=(0,s.I4)(f)`
  ${({theme:e})=>`\n    font-family: ${e.fontFamily};\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n\n    &.no-trendline .subheader-line {\n      padding-bottom: 0.3em;\n    }\n\n    .text-container {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-start;\n      .alert {\n        font-size: ${e.fontSizeSM};\n        margin: -0.5em 0 0.4em;\n        line-height: 1;\n        padding: ${e.sizeUnit}px;\n        border-radius: ${e.borderRadius}px;\n      }\n    }\n\n    .kicker {\n      line-height: 1em;\n      margin-bottom: ${2*e.sizeUnit}px;\n    }\n\n    .metric-name {\n      line-height: 1em;\n      margin-bottom: ${2*e.sizeUnit}px;\n    }\n\n    .header-line {\n      position: relative;\n      line-height: 1em;\n      white-space: nowrap;\n      margin-bottom:${2*e.sizeUnit}px;\n      span {\n        position: absolute;\n        bottom: 0;\n      }\n    }\n\n    .subheader-line {\n      line-height: 1em;\n      margin-bottom: ${2*e.sizeUnit}px;\n    }\n\n    .subtitle-line {\n      line-height: 1em;\n      margin-bottom: ${2*e.sizeUnit}px;\n    }\n\n    &.is-fallback-value {\n      .kicker,\n      .header-line,\n      .subheader-line {\n        opacity: 60%;\n      }\n    }\n  `}
`},73865:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(35725);function i(e,t,n){let r=e,i=t(r);for(;!n(i);){if(r-=1,r<0){r=e;break}i=t(r)}return r}function a(e){const{idealFontSize:t,maxWidth:n,maxHeight:a,style:o,...l}=e;let s;if(null!=t)s=t;else{if(null==a)throw new Error("You must specify at least one of maxHeight or idealFontSize");s=Math.floor(a)}function c(e){return(0,r.A)({...l,style:{...o,fontSize:`${e}px`}})}return null!=n&&(s=i(s,c,(e=>e.width>0&&e.width<=n))),null!=a&&(s=i(s,c,(e=>e.height>0&&e.height<=a))),s}},76977:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];function i(e,{className:t,style:n={},text:i}={}){const a=e;return a.textContent!==i&&(a.textContent=void 0===i?null:i),a.getAttribute("class")!==t&&a.setAttribute("class",null!=t?t:""),a.style.removeProperty("font"),a.style.removeProperty("font-weight"),a.style.removeProperty("font-style"),a.style.removeProperty("font-size"),a.style.removeProperty("font-family"),a.style.removeProperty("letter-spacing"),r.filter((e=>void 0!==n[e]&&null!==n[e])).forEach((e=>{a.style[e]=`${n[e]}`})),a}},79305:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r={height:20,width:100};function i(e,t=r){const{width:n,height:i}=e.getBBox?e.getBBox():t;return{height:Math.ceil(i),width:Math.ceil(n)}}},85867:(e,t,n)=>{"use strict";n.d(t,{A:()=>V});var r=n(55364),i=n.n(r),a=n(2445),o=n(96540),l=n(61225),s=n(72234),c=n(3087),h=n(53080),d=n(92351),u=n(42900),m=n(51719),g=n(17979),f=n(74508),p=n(61030),y=n(45567),b=n(49714),v=n(11734),x=n(80491),w=n(25652),S=n(73900),A=n(32003),N=n(22329),T=n(31441),k=n(12458),F=n(39539),C=n(5553),R=n(45967),z=n(40830),E=n(45620),j=n(39838),M=n(42998),H=n(69380),O=n(25384),L=n(6641),$=n(74064),I=n(28540),P=n(35278),U=n(51536);const Y=s.I4.div`
  height: ${({height:e})=>e};
  width: ${({width:e})=>e};
`;function D({width:e,height:t,echartOptions:r,eventHandlers:c,zrEventHandlers:u,selectedValues:m={},refs:g},f){const p=(0,o.useRef)(null);g&&(g.divRef=p);const[y,b]=(0,o.useState)(!1),v=(0,o.useRef)(),x=(0,o.useMemo)((()=>Object.keys(m)||[]),[m]),w=(0,o.useRef)([]);(0,o.useImperativeHandle)(f,(()=>({getEchartInstance:()=>v.current})));const S=(0,l.d4)((e=>{var t,n;return null!=(t=null==e||null==(n=e.common)?void 0:n.locale)?t:U.Xn})).toUpperCase(),A=(0,o.useCallback)((({width:e,height:t})=>{v.current&&v.current.resize({width:e,height:t})}),[]);return(0,o.useEffect)((()=>{(async e=>{var t;let r;try{r=await n(31746)(`./lang${e}`)}catch(t){console.error(`Locale ${e} not supported in ECharts`,t)}return null==(t=r)?void 0:t.default})(S).then((e=>{e&&(0,h.E)(S,e),p.current&&(v.current||(v.current=(0,d.Ts)(p.current,null,{locale:S})),b(!0))}))}),[S]),(0,o.useEffect)((()=>{if(y){var n;Object.entries(c||{}).forEach((([e,t])=>{var n,r;null==(n=v.current)||n.off(e),null==(r=v.current)||r.on(e,t)})),Object.entries(u||{}).forEach((([e,t])=>{var n,r;null==(n=v.current)||n.getZr().off(e),null==(r=v.current)||r.getZr().on(e,t)}));const a=i()({},(e=>{const t=s.vP.theme,n={textStyle:{color:t.colorText,fontFamily:t.fontFamily},title:{textStyle:{color:t.colorText}},legend:{textStyle:{color:t.colorTextSecondary}},tooltip:{backgroundColor:t.colorBgContainer,textStyle:{color:t.colorText}},axisPointer:{lineStyle:{color:t.colorPrimary},label:{color:t.colorText}}};return null!=e&&e.xAxis&&(n.xAxis={axisLine:{lineStyle:{color:t.colorSplit}},axisLabel:{color:t.colorTextSecondary},splitLine:{lineStyle:{color:t.colorSplit}}}),null!=e&&e.yAxis&&(n.yAxis={axisLine:{lineStyle:{color:t.colorSplit}},axisLabel:{color:t.colorTextSecondary},splitLine:{lineStyle:{color:t.colorSplit}}}),n})(r),r);null==(n=v.current)||n.setOption(a,!0),A({width:e,height:t})}}),[y,r,c,u]),(0,o.useEffect)((()=>()=>{var e;return null==(e=v.current)?void 0:e.dispose()}),[]),(0,o.useEffect)((()=>{v.current&&(v.current.dispatchAction({type:"downplay",dataIndex:w.current.filter((e=>!x.includes(e)))}),x.length&&v.current.dispatchAction({type:"highlight",dataIndex:x}),w.current=x)}),[x,v.current]),(0,o.useLayoutEffect)((()=>{A({width:e,height:t})}),[e,t,A]),(0,a.Y)(Y,{ref:p,height:t,width:e})}(0,c.Y)([F.a,u.a,m.a,g.a,f.a,p.a,y.a,b.a,v.a,x.a,w.a,S.a,A.a,N.a,T.a,k.a,C.a,R.a,z.a,E.a,j.a,M.a,H.a,O.a,L.a,$.a,I.a,P._]);const V=(0,o.forwardRef)(D)}}]);
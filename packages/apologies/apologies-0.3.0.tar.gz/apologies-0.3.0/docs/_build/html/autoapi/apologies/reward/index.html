<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>apologies.reward &#8212; apologies 0.3.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=6625fa76" />
    <link rel="stylesheet" type="text/css" href="../../../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=ec641305" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../../_static/documentation_options.js?v=e259d695"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="apologies.rules" href="../rules/index.html" />
    <link rel="prev" title="apologies.render" href="../render/index.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-apologies.reward">
<span id="apologies-reward"></span><h1>apologies.reward<a class="headerlink" href="#module-apologies.reward" title="Link to this heading">¶</a></h1>
<p>Reward calculations.</p>
<p>Version 1 of the reward algorithm was developed by hand following my own mental model for the
strength of a position.  I used the spreadsheet found in notes/reward.xlsx to refine my
thoughts as I developed the algorithm.</p>
<p>Basically, a pawn is worth more the closer it is to home.  It’s worth incrementally more in the
safe zone (where it can’t be hurt).  There’s an additional bonus for winning, to incentivize
the engine to pick a move that ends the game as fast as possible.  The score is calculated by
comparing the player’s position relative to the positions of all its opponents.  We want the
engine to pick the move that both maximizes the player’s position and also minimizes the
positions of its opponents.</p>
<p>In simulation runs generated by simulation.py, a reward-based character source vastly out
performs a source that picks its moves randomly.  The worst-case scenario is a 4-player
STANDARD mode game between a single reward-based source and 3 random sources, where the
reward-based source wins about 70% of the time.  This is probably because in a STANDARD mode
game, the possible moves in each turn are fairly limited, due to each player picking and
playing the top card off the deck.  This evens the playing field, because it’s quite likely
that any player will have no good move on their turn.  In a 4-player ADULT mode game, where the
engine has the opportunity to choose between more possible moves for each turn, a reward-based
source wins more than 98% of the time against 3 random sources.</p>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="apologies.reward.RewardCalculator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apologies.reward.</span></span><span class="sig-name descname"><span class="pre">RewardCalculator</span></span><a class="headerlink" href="#apologies.reward.RewardCalculator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>Abstract reward calculator interface, to support multiple reward implementations.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apologies.reward.RewardCalculator.calculate">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../game/index.html#apologies.game.PlayerView" title="apologies.game.PlayerView"><span class="pre">apologies.game.PlayerView</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#apologies.reward.RewardCalculator.calculate" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the reward associated with a player view.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apologies.reward.RewardCalculator.range">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">players</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#apologies.reward.RewardCalculator.range" title="Link to this definition">¶</a></dt>
<dd><p>Return the range of possible rewards for a game.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apologies.reward.RewardCalculatorV1">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apologies.reward.</span></span><span class="sig-name descname"><span class="pre">RewardCalculatorV1</span></span><a class="headerlink" href="#apologies.reward.RewardCalculatorV1" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#apologies.reward.RewardCalculator" title="apologies.reward.RewardCalculator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RewardCalculator</span></code></a></p>
<p>Version 1 of the reward calculator.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apologies.reward.RewardCalculatorV1.calculate">
<span class="sig-name descname"><span class="pre">calculate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../game/index.html#apologies.game.PlayerView" title="apologies.game.PlayerView"><span class="pre">apologies.game.PlayerView</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#apologies.reward.RewardCalculatorV1.calculate" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the reward associated with an observation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apologies.reward.RewardCalculatorV1.range">
<span class="sig-name descname"><span class="pre">range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">players</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#apologies.reward.RewardCalculatorV1.range" title="Link to this definition">¶</a></dt>
<dd><p>Return the range of possible rewards for a game.</p>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">apologies</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=pronovic&repo=apologies&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">API Reference</a><ul>
  <li><a href="../index.html">apologies</a><ul>
      <li>Previous: <a href="../render/index.html" title="previous chapter">apologies.render</a></li>
      <li>Next: <a href="../rules/index.html" title="next chapter">apologies.rules</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;(c) Kenneth J. Pronovici.
      
    </div>

    
    <a href="https://github.com/pronovic/apologies" class="github">
        <img src="../../../_static/github-banner.svg" alt="Fork me on GitHub" class="github"/>
    </a>
    

    
  </body>
</html>
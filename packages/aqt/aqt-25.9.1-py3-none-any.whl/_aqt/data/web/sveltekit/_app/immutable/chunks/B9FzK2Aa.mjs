import{z as R,o as x,at as ne,au as se,q as ie,w as te,g as P,j as le,a3 as fe,H as ue,y as V,A as k,E as C,av as ve,aw as oe,K as U,L as X,M as de,ax as Q,ay as W,az as ce,m as _e,C as Y,aA as H,D as he,am as G,aB as y,aC as me,aD as L,B as J,aE as pe,aF as Ee,aG as Te,aH as ge,aI as Ae,aJ as we,h as xe,i as Ie,r as be,b as Ce,c as Ne}from"./D0Kcqh4a.mjs";import"./BbkoyQuY.mjs";import"./-ESH3Vzs.mjs";import{s as De}from"./BfDh-mSI.mjs";import{q as Me,r as Re}from"./Ch7ZtZmv.mjs";import{p as ke}from"./8hkm7YIM.mjs";import{r as He,g as ye}from"./CAm1qXYJ.mjs";function Ke(i,e){return e}function Le(i,e,a,t){for(var u=[],v=e.length,o=0;o<v;o++)pe(e[o].e,u,!0);var c=v>0&&u.length===0&&a!==null;if(c){var T=a.parentNode;Ee(T),T.append(a),t.clear(),w(i,e[0].prev,e[v-1].next)}Te(u,()=>{for(var h=0;h<v;h++){var d=e[h];c||(t.delete(d.k),w(i,d.prev,d.next)),ge(d.e,!c)}})}function Ue(i,e,a,t,u,v=null){var o=i,c={flags:e,items:new Map,first:null},T=(e&Q)!==0;if(T){var h=i;o=x?R(ne(h)):h.appendChild(se())}x&&ie();var d=null,I=!1,s=le(()=>{var f=a();return ce(f)?f:f==null?[]:W(f)});te(()=>{var f=P(s),r=f.length;if(I&&r===0)return;I=r===0;let m=!1;if(x){var p=fe(o)===ue;p!==(r===0)&&(o=V(),R(o),k(!1),m=!0)}if(x){for(var E=null,g,_=0;_<r;_++){if(C.nodeType===ve&&C.data===oe){o=C,m=!0,k(!1);break}var n=f[_],l=t(n,_);g=Z(C,c,E,null,n,l,_,u,e,a),c.items.set(l,g),E=g}r>0&&R(V())}x||Oe(f,c,o,u,e,t,a),v!==null&&(r===0?d?U(d):d=X(()=>v(o)):d!==null&&de(d,()=>{d=null})),m&&k(!0),P(s)}),x&&(o=C)}function Oe(i,e,a,t,u,v,o){var S,q,B,F;var c=(u&me)!==0,T=(u&(L|y))!==0,h=i.length,d=e.items,I=e.first,s=I,f,r=null,m,p=[],E=[],g,_,n,l;if(c)for(l=0;l<h;l+=1)g=i[l],_=v(g,l),n=d.get(_),n!==void 0&&((S=n.a)==null||S.measure(),(m!=null?m:m=new Set).add(n));for(l=0;l<h;l+=1){if(g=i[l],_=v(g,l),n=d.get(_),n===void 0){var ae=s?s.e.nodes_start:a;r=Z(ae,e,r,r===null?e.first:r.next,g,_,l,t,u,o),d.set(_,r),p=[],E=[],s=r.next;continue}if(T&&Se(n,g,l,u),(n.e.f&H)!==0&&(U(n.e),c&&((q=n.a)==null||q.unfix(),(m!=null?m:m=new Set).delete(n))),n!==s){if(f!==void 0&&f.has(n)){if(p.length<E.length){var N=E[0],A;r=N.prev;var O=p[0],D=p[p.length-1];for(A=0;A<p.length;A+=1)K(p[A],N,a);for(A=0;A<E.length;A+=1)f.delete(E[A]);w(e,O.prev,D.next),w(e,r,O),w(e,D,N),s=N,r=D,l-=1,p=[],E=[]}else f.delete(n),K(n,s,a),w(e,n.prev,n.next),w(e,n,r===null?e.first:r.next),w(e,r,n),r=n;continue}for(p=[],E=[];s!==null&&s.k!==_;)(s.e.f&H)===0&&(f!=null?f:f=new Set).add(s),E.push(s),s=s.next;if(s===null)continue;n=s}p.push(n),r=n,s=n.next}if(s!==null||f!==void 0){for(var b=f===void 0?[]:W(f);s!==null;)(s.e.f&H)===0&&b.push(s),s=s.next;var M=b.length;if(M>0){var re=(u&Q)!==0&&h===0?a:null;if(c){for(l=0;l<M;l+=1)(B=b[l].a)==null||B.measure();for(l=0;l<M;l+=1)(F=b[l].a)==null||F.fix()}Le(e,b,re,d)}}c&&he(()=>{var z;if(m!==void 0)for(n of m)(z=n.a)==null||z.apply()}),G.first=e.first&&e.first.e,G.last=r&&r.e}function Se(i,e,a,t){(t&L)!==0&&J(i.v,e),(t&y)!==0?J(i.i,a):i.i=a}function Z(i,e,a,t,u,v,o,c,T,h){var d=(T&L)!==0,I=(T&Ae)===0,s=d?I?_e(u,!1,!1):Y(u):u,f=(T&y)===0?o:Y(o),r={i:f,v:s,k:v,a:null,e:null,prev:a,next:t};try{return r.e=X(()=>c(i,s,f,h),x),r.e.prev=a&&a.e,r.e.next=t&&t.e,a===null?e.first=r:(a.next=r,a.e.next=r.e),t!==null&&(t.prev=r,t.e.prev=r.e),r}finally{}}function K(i,e,a){for(var t=i.next?i.next.e.nodes_start:a,u=e?e.e.nodes_start:a,v=i.e.nodes_start;v!==t;){var o=we(v);u.before(v),v=o}}function w(i,e,a){e===null?i.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}var qe=xe("<div><!></div>");function Xe(i,e){let a=ke(e,"class",8,"");var t=qe(),u=Ie(t);De(u,e,"default",{}),be(t),Ce(()=>{var v;return Me(t,1,`row ${(v=a())!=null?v:""}`,"svelte-hl5xdk")}),Ne(i,t)}function $(){return{isDark:document.documentElement.classList.contains("night-mode")}}let j=null;const ee=He($(),i=>{j=i});ye(ee);const Be=new MutationObserver((i,e)=>{j($())});Be.observe(document.documentElement,{attributeFilter:["class"]});Re("anki/theme",{pageTheme:ee});export{Xe as R,Ue as e,Ke as i,ee as p};

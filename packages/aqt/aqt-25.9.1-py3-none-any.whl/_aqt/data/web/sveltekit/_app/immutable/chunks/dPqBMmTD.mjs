import{v as A,o as n,u as y,Q as u,R as D,S as E,D as S}from"./D0Kcqh4a.mjs";import{l as b}from"./CAm1qXYJ.mjs";function q(e,c,a=c){var d=A();b(e,"input",l=>{var v=l?e.defaultValue:e.value;if(v=k(e)?m(v):v,a(v),d&&v!==(v=c())){var f=e.selectionStart,s=e.selectionEnd;e.value=v!=null?v:"",s!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(s,e.value.length))}}),(n&&e.defaultValue!==e.value||y(c)==null&&e.value)&&a(k(e)?m(e.value):e.value),u(()=>{var l=c();k(e)&&l===m(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l!=null?l:"")})}const h=new Set;function B(e,c,a,d,l=d){var t;var v=a.getAttribute("type")==="checkbox",f=e;let s=!1;if(c!==null)for(var _ of c)f=(t=f[_])!=null?t:f[_]=[];f.push(a),b(a,"change",()=>{var r=a.__value;v&&(r=w(f,r,a.checked)),l(r)},()=>l(v?[]:null)),u(()=>{var r=d();if(n&&a.defaultChecked!==a.checked){s=!0;return}v?(r=r||[],a.checked=r.includes(a.__value)):a.checked=D(a.__value,r)}),E(()=>{var r=f.indexOf(a);r!==-1&&f.splice(r,1)}),h.has(f)||(h.add(f),S(()=>{f.sort((r,o)=>r.compareDocumentPosition(o)===4?-1:1),h.delete(f)})),S(()=>{if(s){var r;if(v)r=w(f,r,a.checked);else{var o=f.find(C=>C.checked);r=o==null?void 0:o.__value}l(r)}})}function M(e,c,a=c){b(e,"change",d=>{var l=d?e.defaultChecked:e.checked;a(l)}),(n&&e.defaultChecked!==e.checked||y(c)==null)&&a(e.checked),u(()=>{var d=c();e.checked=!!d})}function w(e,c,a){for(var d=new Set,l=0;l<e.length;l+=1)e[l].checked&&d.add(e[l].__value);return a||d.delete(c),Array.from(d)}function k(e){var c=e.type;return c==="number"||c==="range"}function m(e){return e===""?null:+e}export{M as a,B as b,q as c};

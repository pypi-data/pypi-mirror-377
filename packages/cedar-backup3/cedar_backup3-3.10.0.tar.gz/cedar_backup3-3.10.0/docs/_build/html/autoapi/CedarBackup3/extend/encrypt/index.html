<!DOCTYPE html>

<html lang="en" data-content_root="../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CedarBackup3.extend.encrypt &#8212; cedar-backup3 3.10.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=6625fa76" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css?v=ec641305" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../../../_static/documentation_options.js?v=f8d09eac"></script>
    <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="CedarBackup3.extend.mbox" href="../mbox/index.html" />
    <link rel="prev" title="CedarBackup3.extend.capacity" href="../capacity/index.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-CedarBackup3.extend.encrypt">
<span id="cedarbackup3-extend-encrypt"></span><h1>CedarBackup3.extend.encrypt<a class="headerlink" href="#module-CedarBackup3.extend.encrypt" title="Link to this heading">¶</a></h1>
<p>Provides an extension to encrypt staging directories.</p>
<p>When this extension is executed, all backed-up files in the configured Cedar
Backup staging directory will be encrypted using gpg.  Any directory which has
already been encrypted (as indicated by the <code class="docutils literal notranslate"><span class="pre">cback.encrypt</span></code> file) will be
ignored.</p>
<p>This extension requires a new configuration section &lt;encrypt&gt; and is intended
to be run immediately after the standard stage action or immediately before the
standard store action.  Aside from its own configuration, it requires the
options and staging configuration sections in the standard Cedar Backup
configuration file.</p>
<dl class="field-list simple">
<dt class="field-odd">author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Kenneth J. Pronovici &lt;<a class="reference external" href="mailto:pronovic&#37;&#52;&#48;ieee&#46;org">pronovic<span>&#64;</span>ieee<span>&#46;</span>org</a>&gt;</p>
</dd>
</dl>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.logger">
<span class="sig-prename descclassname"><span class="pre">CedarBackup3.extend.encrypt.</span></span><span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#CedarBackup3.extend.encrypt.logger" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.GPG_COMMAND">
<span class="sig-prename descclassname"><span class="pre">CedarBackup3.extend.encrypt.</span></span><span class="sig-name descname"><span class="pre">GPG_COMMAND</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['gpg']</span></em><a class="headerlink" href="#CedarBackup3.extend.encrypt.GPG_COMMAND" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.VALID_ENCRYPT_MODES">
<span class="sig-prename descclassname"><span class="pre">CedarBackup3.extend.encrypt.</span></span><span class="sig-name descname"><span class="pre">VALID_ENCRYPT_MODES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['gpg']</span></em><a class="headerlink" href="#CedarBackup3.extend.encrypt.VALID_ENCRYPT_MODES" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.ENCRYPT_INDICATOR">
<span class="sig-prename descclassname"><span class="pre">CedarBackup3.extend.encrypt.</span></span><span class="sig-name descname"><span class="pre">ENCRYPT_INDICATOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'cback.encrypt'</span></em><a class="headerlink" href="#CedarBackup3.extend.encrypt.ENCRYPT_INDICATOR" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.EncryptConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CedarBackup3.extend.encrypt.</span></span><span class="sig-name descname"><span class="pre">EncryptConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encryptMode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encryptTarget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.EncryptConfig" title="Link to this definition">¶</a></dt>
<dd><p>Class representing encrypt configuration.</p>
<p>Encrypt configuration is used for encrypting staging directories.</p>
<p>The following restrictions exist on data in this class:</p>
<blockquote>
<div><ul class="simple">
<li><p>The encrypt mode must be one of the values in <code class="docutils literal notranslate"><span class="pre">VALID_ENCRYPT_MODES</span></code></p></li>
<li><p>The encrypt target value must be a non-empty string</p></li>
</ul>
</div></blockquote>
<dl class="py attribute">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.EncryptConfig.encryptMode">
<span class="sig-name descname"><span class="pre">encryptMode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#CedarBackup3.extend.encrypt.EncryptConfig.encryptMode" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.EncryptConfig.encryptTarget">
<span class="sig-name descname"><span class="pre">encryptTarget</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#CedarBackup3.extend.encrypt.EncryptConfig.encryptTarget" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.EncryptConfig.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.EncryptConfig.__repr__" title="Link to this definition">¶</a></dt>
<dd><p>Official string representation for class instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.EncryptConfig.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.EncryptConfig.__str__" title="Link to this definition">¶</a></dt>
<dd><p>Informal string representation for class instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.EncryptConfig.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.EncryptConfig.__eq__" title="Link to this definition">¶</a></dt>
<dd><p>Equals operator, iplemented in terms of original Python 2 compare operator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.EncryptConfig.__lt__">
<span class="sig-name descname"><span class="pre">__lt__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.EncryptConfig.__lt__" title="Link to this definition">¶</a></dt>
<dd><p>Less-than operator, iplemented in terms of original Python 2 compare operator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.EncryptConfig.__gt__">
<span class="sig-name descname"><span class="pre">__gt__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.EncryptConfig.__gt__" title="Link to this definition">¶</a></dt>
<dd><p>Greater-than operator, iplemented in terms of original Python 2 compare operator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.EncryptConfig.__cmp__">
<span class="sig-name descname"><span class="pre">__cmp__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.EncryptConfig.__cmp__" title="Link to this definition">¶</a></dt>
<dd><p>Original Python 2 comparison operator.
Lists within this class are “unordered” for equality comparisons.
:param other: Other object to compare to</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-1/0/1 depending on whether self is <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">=</span></code> or <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> other</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.LocalConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CedarBackup3.extend.encrypt.</span></span><span class="sig-name descname"><span class="pre">LocalConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xmlData</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmlPath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.LocalConfig" title="Link to this definition">¶</a></dt>
<dd><p>Class representing this extension’s configuration document.</p>
<p>This is not a general-purpose configuration object like the main Cedar
Backup configuration object.  Instead, it just knows how to parse and emit
encrypt-specific configuration values.  Third parties who need to read and
write configuration related to this extension should access it through the
constructor, <code class="docutils literal notranslate"><span class="pre">validate</span></code> and <code class="docutils literal notranslate"><span class="pre">addConfig</span></code> methods.</p>
<p><em>Note:</em> Lists within this class are “unordered” for equality comparisons.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.LocalConfig.encrypt">
<span class="sig-name descname"><span class="pre">encrypt</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#CedarBackup3.extend.encrypt.LocalConfig.encrypt" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.LocalConfig.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.LocalConfig.__repr__" title="Link to this definition">¶</a></dt>
<dd><p>Official string representation for class instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.LocalConfig.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.LocalConfig.__str__" title="Link to this definition">¶</a></dt>
<dd><p>Informal string representation for class instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.LocalConfig.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.LocalConfig.__eq__" title="Link to this definition">¶</a></dt>
<dd><p>Equals operator, iplemented in terms of original Python 2 compare operator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.LocalConfig.__lt__">
<span class="sig-name descname"><span class="pre">__lt__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.LocalConfig.__lt__" title="Link to this definition">¶</a></dt>
<dd><p>Less-than operator, iplemented in terms of original Python 2 compare operator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.LocalConfig.__gt__">
<span class="sig-name descname"><span class="pre">__gt__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.LocalConfig.__gt__" title="Link to this definition">¶</a></dt>
<dd><p>Greater-than operator, iplemented in terms of original Python 2 compare operator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.LocalConfig.__cmp__">
<span class="sig-name descname"><span class="pre">__cmp__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.LocalConfig.__cmp__" title="Link to this definition">¶</a></dt>
<dd><p>Original Python 2 comparison operator.
Lists within this class are “unordered” for equality comparisons.
:param other: Other object to compare to</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-1/0/1 depending on whether self is <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">=</span></code> or <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> other</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.LocalConfig.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.LocalConfig.validate" title="Link to this definition">¶</a></dt>
<dd><p>Validates configuration represented by the object.</p>
<p>Encrypt configuration must be filled in.  Within that, both the encrypt
mode and encrypt target must be filled in.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If one of the validations fails</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.LocalConfig.addConfig">
<span class="sig-name descname"><span class="pre">addConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xmlDom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parentNode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.LocalConfig.addConfig" title="Link to this definition">¶</a></dt>
<dd><p>Adds an &lt;encrypt&gt; configuration section as the next child of a parent.</p>
<p>Third parties should use this function to write configuration related to
this extension.</p>
<p>We add the following fields to the document:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">encryptMode</span>    <span class="o">//</span><span class="n">cb_config</span><span class="o">/</span><span class="n">encrypt</span><span class="o">/</span><span class="n">encrypt_mode</span>
<span class="n">encryptTarget</span>  <span class="o">//</span><span class="n">cb_config</span><span class="o">/</span><span class="n">encrypt</span><span class="o">/</span><span class="n">encrypt_target</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xmlDom</strong> – DOM tree as from <code class="docutils literal notranslate"><span class="pre">impl.createDocument()</span></code></p></li>
<li><p><strong>parentNode</strong> – Parent that the section should be appended to</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CedarBackup3.extend.encrypt.executeAction">
<span class="sig-prename descclassname"><span class="pre">CedarBackup3.extend.encrypt.</span></span><span class="sig-name descname"><span class="pre">executeAction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configPath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CedarBackup3.extend.encrypt.executeAction" title="Link to this definition">¶</a></dt>
<dd><p>Executes the encrypt backup action.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>configPath</strong> (<em>String representing a path on disk</em>) – Path to configuration file on disk</p></li>
<li><p><strong>options</strong> (<em>Options object</em>) – Program command-line options</p></li>
<li><p><strong>config</strong> (<em>Config object</em>) – Program configuration</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – Under many generic error conditions</p></li>
<li><p><strong>IOError</strong> – If there are I/O problems reading or writing files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../index.html">cedar-backup3</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=pronovic&repo=cedar-backup3&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../index.html">API Reference</a><ul>
  <li><a href="../../index.html">CedarBackup3</a><ul>
  <li><a href="../index.html">CedarBackup3.extend</a><ul>
      <li>Previous: <a href="../capacity/index.html" title="previous chapter">CedarBackup3.extend.capacity</a></li>
      <li>Next: <a href="../mbox/index.html" title="next chapter">CedarBackup3.extend.mbox</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;(c) Kenneth J. Pronovici.
      
    </div>

    
    <a href="https://github.com/pronovic/cedar-backup3" class="github">
        <img src="../../../../_static/github-banner.svg" alt="Fork me on GitHub" class="github"/>
    </a>
    

    
  </body>
</html>
[package]
name = "digit-bin-index"
version = "0.4.2"
edition = "2021"
authors = ["Lars Rönnbäck <lars.ronnback@anchormodeling.com>"]
license = "MIT"
description = "A high-performance, O(P) data structure for weighted random sampling of binned probabilities, ideal for large-scale simulations."
repository = "https://github.com/Roenbaeck/digit-bin-index"
readme = "README.md"
keywords = ["statistics", "probability", "weighted-sampling", "simulation", "data-structure"]
categories = ["data-structures", "algorithms", "science", "simulation"]

[dependencies]
wyrand = "0.3"
rand = "0.9" 
roaring = "0.11"

[dependencies.pyo3]
version = "0.26.0"
features = ["extension-module", "abi3-py38", "macros"] # Added abi3-py38 for broader Python compatibility
optional = true

[features]
python-bindings = ["dep:pyo3"]

[dev-dependencies]
criterion = { version = "0.7", features = ["html_reports"] }

[lib]
name = "digit_bin_index"
crate-type = ["lib", "cdylib"]

[profile.release]
opt-level = 3
lto = "fat"  # Link-time optimization: inlines across crates
codegen-units = 1  # Better optimizations, slower compiles

[[bench]]
name = "selection_benchmark"
harness = false


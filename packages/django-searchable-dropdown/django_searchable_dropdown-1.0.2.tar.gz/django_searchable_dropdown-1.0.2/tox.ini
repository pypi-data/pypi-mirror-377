[tox]
envlist = 
    py{37,38,39,310,311,312}-django{22,30,31,32,40,41,42,50}
    lint
    docs

[testenv]
deps = 
    django22: Django>=2.2,<3.0
    django30: Django>=3.0,<3.1
    django31: Django>=3.1,<3.2
    django32: Django>=3.2,<4.0
    django40: Django>=4.0,<4.1
    django41: Django>=4.1,<4.2
    django42: Django>=4.2,<5.0
    django50: Django>=5.0,<5.1
    pytest>=6.0
    pytest-django>=4.0
    pytest-cov>=3.0
    factory-boy>=3.0
commands = 
    pytest {posargs:tests}

[testenv:lint]
deps = 
    black>=22.0
    flake8>=4.0
    isort>=5.0
    bandit>=1.7
commands = 
    black --check .
    isort --check-only .
    flake8 .
    bandit -r .

[testenv:docs]
deps = 
    sphinx>=4.0
    sphinx-rtd-theme>=1.0
commands = 
    sphinx-build -W -b html docs docs/_build/html

[project]
name = "eta-mistral"
version = "0.0.4"
description = "Pinch based optimization for placement of decentral energy converters."
license = "BSD-2-Clause License"
readme = "README.md"
requires-python = ">=3.11,<3.14"
keywords = ["optimization", "graph based modeling", "networks"]
authors = [
    {name = "Technical University of Darmstadt, Institute for Production Management, Technology and Machine Tools (PTW)", email="m.frank@ptw.tu-darmstadt.de"}
]
dynamic = ["classifiers", "dependencies"]

[project.urls]
# Specify URLs for the project (optional)
# See https://packaging.python.org/en/latest/specifications/well-known-project-urls/#well-known-labels
homepage = "https://www.ptw.tu-darmstadt.de"

[tool.poetry]
# Specify some classifiers, to signify, who you are developing for. See: https://pypi.org/classifiers/
classifiers = [
    "License :: OSI Approved :: BSD License",
    "Development Status :: 4 - Beta",
    "Intended Audience :: Developers",
    "Intended Audience :: Science/Research",
    "Intended Audience :: Manufacturing",
    "Topic :: Scientific/Engineering :: Artificial Intelligence",
    "Operating System :: OS Independent",
]

#  '^' limits to the next major version, '~' limits to the next minor version
# e.g. ^3.9.0: 3.9.0 <= x < 4.0.0 and ~3.9.0: 3.9.0 <= x < 3.10.0
[tool.poetry.dependencies]
stable_baselines3 = "^2.1"
backports-datetime-fromisoformat = "==2.0.0"
pandas = "^2.2.3"
matplotlib = "^3.10.3"
colorama = "^0.4.6"
dash = "^3.0.4"
dash-bootstrap-components = "^2.0.3"
igraph = "^0.11.8"
pyomo = "^6.9.2"
bokeh = "^3.7.3"
fmpy = "^0.3.23"
numpy = "^2.2.6"
openpyxl = "^3.1.5"
networkx = "^3.5"
pywin32 = "^310"
pyside6 = "^6.9.1"
pyqtgraph = "^0.13.7"

[tool.poetry.group.dev.dependencies]
ruff = "~0.9.6"
pre-commit = "^3.5.0"
sphinx = "^8.2.3"
sphinx-copybutton = "^0.5.2"
sphinx-rtd-theme = "^3.0.2"

[tool.ruff]
include = ["pyproject.toml", "eta_mistral/**/*.py"]

line-length = 120
indent-width = 4

required-version = ">=0.9.0"
target-version= "py311"

# Only fix with $ruff check --fix
fix = false

[tool.ruff.lint]
select = [
    "F",       # Pyflakes
    "E", "W",  # Pycodestyle, Error and Warning
    "I",       # Isort
    "N",       # Pep8-naming conventions
    "UP",      # Pyupgrade
    "PL",      # Pylint
    "ERA",     # Eradicate
    "PD",      # Pandas-vet
    "NPY",     # NumPy-specific
    "RUF",     # Ruff

    # Flake8:
    # 2020, asyncio, bugbear, builtins, commas, comprehensions, datetimez, eradicate, future-annotations, implicit-str-concat
    # logging, logging-format, no-pep420, print, pyi, pytest-style, return, simplify, use-pathlib todo
    "YTT", "ASYNC", "B", "A", "COM", "C4", "DTZ", "ERA", "FA", "ISC",
    "LOG", "G", "INP", "T20", "PYI", "PT", "RET", "SIM", "PTH", "TD"
]

ignore = [
    "SIM105",
    "PLR2004",  # Pylint: magic values
    # Recommended to ignore as they conflict with the formatter
    "W191", "E111", "E114", "E117", "D206", "D300", "COM812", "COM819", "ISC001"
]

[tool.ruff.lint.isort]
combine-as-imports = true
force-wrap-aliases = true

[tool.ruff.lint.pylint]
# Configure these as wanted
max-args = 10
max-statements = 60

[build-system]
requires = ["poetry-core>=2.0.1"]
build-backend = "poetry.core.masonry.api"

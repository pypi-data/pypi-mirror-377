# files-vector-mcp

**Note: This project is entirely generated by [coze](https://coze.cn)**

A FastMCP server for file vectorization and similarity search with automatic directory monitoring.

## Features
- üîç Auto-monitor directories and process new/changed files
- üìÑ Support multiple file types (Markdown, PDF, DOCX, PPTX, images)
- üß© Intelligent chunking with overlap for long documents
- üöÄ Fast vector search with PostgreSQL+pgvector
- ‚ö° UVX-compatible entry point for quick startup

## Installation

### With pip
```bash
pip install files-vector-mcp-server
```

### With uvx (recommended)
```bash
uvx files-vector-mcp-server
```

## Configuration

Environment

```ini
# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key
OPENAI_API_URL=https://api.openai.com/v1
EMBEDDING_MODEL=text-embedding-ada-002
EMBEDDING_DIM=1536

# Database Configuration
DB_CONNECTION_STRING=postgres://user:password@localhost:5432/vector_db

# Monitoring Configuration
WATCH_TOPICS={"docs": ["./docs"], "notes": ["./notes"]}

# Optional MinerU API (for advanced OCR and document processing)(Optional & Untested)
MINERU_API_KEY=your_mineru_key
MINERU_API_URL=https://mineru.net/api/v4

# Chunk Configuration
CHUNK_SIZE=4000
CHUNK_OVERLAP=200
```

## Usage

### Basic Usage
```bash
files-vector-mcp
```

### With Custom Config
```bash
files-vector-mcp --config path/to/your/config.toml
```

## File Type Support

| File Type | Handling Method | Requirements |
|-----------|----------------|--------------|
| Markdown (.md) | Direct text extraction | - |
| PDF | MinerU API or PyPDF2 | MinerU API or PyPDF2 |
| DOCX | python-docx | python-docx |
| PPTX | python-pptx | python-pptx |
| Images | MinerU OCR | MinerU API |
| Text (.txt) | Direct text extraction | - |

## Project Structure
```
src/files-vector-mcp-server/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ __main__.py       # Entry point
‚îú‚îÄ‚îÄ main.py           # Main application
‚îú‚îÄ‚îÄ config/           # Configuration
‚îú‚îÄ‚îÄ services/         # Business logic
‚îî‚îÄ‚îÄ utils/            # Helper functions
```

## Development
```bash
# Clone repository
git clone https://github.com/yourusername/files-vector-mcp.git
cd files-vector-mcp

# Install dependencies
uv venv
source .venv/bin/activate
pip install -e .[dev]
```

## License
Apache 2.0 License - see LICENSE file for details.

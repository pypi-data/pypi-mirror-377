# FJUD MCP Server - å°ç£å¸æ³•é™¢åˆ¤æ±ºæŸ¥è©¢ MCP ä¼ºæœå™¨

[![PyPI version](https://badge.fury.io/py/fjud-mcp.svg)](https://badge.fury.io/py/fjud-mcp)
[![Python versions](https://img.shields.io/pypi/pyversions/fjud-mcp.svg)](https://pypi.org/project/fjud-mcp/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

åŸºæ–¼ fastMCP å¯¦ç¾çš„å°ç£å¸æ³•é™¢åˆ¤æ±ºæ›¸æŸ¥è©¢èˆ‡è§£æå·¥å…·ï¼Œæä¾›å®Œæ•´çš„ MCP (Model Context Protocol) æ”¯æ´ã€‚

## åŠŸèƒ½ç‰¹è‰²

### ğŸ” åˆ¤æ±ºæœå°‹
- **é—œéµå­—æœå°‹**: æ”¯æ´å…¨æ–‡æœå°‹åˆ¤æ±ºæ›¸å…§å®¹
- **æ³•é™¢ç¯©é¸**: å¯æŒ‡å®šç‰¹å®šæ³•é™¢æˆ–æœå°‹å…¨éƒ¨æ³•é™¢
- **æ¡ˆè™Ÿæœå°‹**: æ ¹æ“šå®Œæ•´æˆ–éƒ¨åˆ†æ¡ˆè™ŸæŸ¥æ‰¾åˆ¤æ±º

### ğŸ“„ å…§å®¹è§£æ
- **å®Œæ•´æ¨¡å¼**: å–å¾—åˆ¤æ±ºæ›¸å®Œæ•´å…§å®¹ã€å…ƒè³‡æ–™ã€æ­·å¯©è³‡è¨Š
- **ç‰‡æ®µæ¨¡å¼**: æ“·å–åŒ…å«é—œéµå­—çš„å¥å­ç‰‡æ®µ
- **æ–‡å­—è™•ç†**: ä¸­æ–‡æ–‡æœ¬æ¸…ç†ã€é‡æ’ã€æ–·å¥ç­‰åŠŸèƒ½

### ğŸ›ï¸ æ³•é™¢è³‡è¨Š
- **æ³•é™¢åˆ—è¡¨**: å–å¾—æ‰€æœ‰æ”¯æ´çš„æ³•é™¢ä»£ç¢¼å’Œåç¨±
- **åˆ†é¡æœå°‹**: æ”¯æ´æŒ‰æ³•é™¢é¡å‹é€²è¡Œæœå°‹

## MCP å·¥å…·åˆ—è¡¨

### 1. `quick_search` - å¿«é€Ÿæœå°‹ âš¡ (æ¨è–¦)
å°ˆç‚ºç¯€çœ token è¨­è¨ˆçš„å¿«é€Ÿæœå°‹ï¼Œåªè¿”å›åˆ¤æ±ºåŸºæœ¬è³‡è¨Šã€‚

**åƒæ•¸:**
```json
{
  "keyword": "é—œéµå­—",
  "max_items": 5
}
```

### 2. `search_judgments` - å®Œæ•´æœå°‹
æ ¹æ“šé—œéµå­—æœå°‹åˆ¤æ±ºæ›¸ï¼Œæ”¯æ´å¤šç¨®æ¨¡å¼ã€‚

**åƒæ•¸:**
```json
{
  "keyword": "é—œéµå­—",
  "max_items": 3,
  "court_code": "TPS",
  "mode": "summary",
  "section_scope": "all",
  "max_content_length": 2000,
  "include_full_text": false
}
```

**æ¨¡å¼èªªæ˜:**
- `summary`: æ‘˜è¦æ¨¡å¼ï¼ˆæ¨è–¦ï¼Œç¯€çœ tokenï¼‰
- `snippet`: ç‰‡æ®µæ¨¡å¼
- `full`: å®Œæ•´æ¨¡å¼ï¼ˆæ¶ˆè€—è¼ƒå¤š tokenï¼‰

### 3. `extract_snippets` - æ“·å–ç‰‡æ®µ
å°ˆé–€ç”¨æ–¼ç‰‡æ®µæ¨¡å¼æœå°‹ï¼Œæå–åŒ…å«ç‰¹å®šé—œéµå­—çš„å¥å­ã€‚

**åƒæ•¸:**
```json
{
  "keyword": "é—œéµå­—",
  "max_items": 3,
  "snippet_after": false,
  "window": 0,
  "snippets_per_doc": 5,
  "section_scope": "all",
  "court_code": null
}
```

### 4. `get_judgment_detail` - å–å¾—åˆ¤æ±ºè©³æƒ…
æ ¹æ“šåˆ¤æ±ºæ›¸ ID å–å¾—å®Œæ•´å…§å®¹ã€‚

**åƒæ•¸:**
```json
{
  "judgment_id": "TPSV_103_2434_20141119",
  "timeout": 25
}
```

### 5. `get_court_list` - å–å¾—æ³•é™¢åˆ—è¡¨
è¿”å›ç³»çµ±æ”¯æ´çš„æ³•é™¢ä»£ç¢¼å’Œåç¨±ã€‚

**åƒæ•¸:** ç„¡

### 6. `process_text` - æ–‡å­—è™•ç†
è™•ç†ä¸­æ–‡æ³•å¾‹æ–‡æœ¬ï¼Œæ”¯æ´æ¸…ç†ã€é‡æ’ã€æ–·å¥ã€‚

**åƒæ•¸:**
```json
{
  "text": "è¦è™•ç†çš„æ–‡å­—",
  "operation": "clean"
}
```

### 7. `search_by_case_number` - æ¡ˆè™Ÿæœå°‹
æ ¹æ“šæ¡ˆè™Ÿæœå°‹ç›¸é—œåˆ¤æ±ºï¼ˆæ‘˜è¦æ¨¡å¼ï¼‰ã€‚

**åƒæ•¸:**
```json
{
  "case_number": "114å¹´åº¦ä¸Šå­—ç¬¬123è™Ÿ",
  "max_items": 3
}
```

### 8. `get_judgment_summary` - å–å¾—åˆ¤æ±ºæ‘˜è¦
è¿”å›åˆ¤æ±ºæ›¸åŸºæœ¬å…ƒè³‡æ–™ï¼Œä¸åŒ…å«å®Œæ•´å…§æ–‡ã€‚

**åƒæ•¸:**
```json
{
  "judgment_id": "TPSV_103_2434_20141119"
}
```

## ğŸ’¡ Token ä½¿ç”¨å»ºè­°

### æ¨è–¦ä½¿ç”¨é †åºï¼ˆç”±çœåˆ°è²»ï¼‰ï¼š
1. **`quick_search`** - æœ€çœ tokenï¼Œé©åˆåˆæ­¥æœå°‹
2. **`search_judgments` (mode="summary")** - ä¸­ç­‰æ¶ˆè€—ï¼Œå–å¾—æ‘˜è¦
3. **`get_judgment_detail`** - è¼ƒå¤šæ¶ˆè€—ï¼Œå–å¾—ç‰¹å®šåˆ¤æ±ºå®Œæ•´å…§å®¹
4. **`search_judgments` (mode="full")** - æœ€å¤šæ¶ˆè€—ï¼Œæ‰¹é‡å–å¾—å®Œæ•´å…§å®¹

### å»ºè­°å·¥ä½œæµç¨‹ï¼š
```
1. ä½¿ç”¨ quick_search æ‰¾åˆ°æ„Ÿèˆˆè¶£çš„åˆ¤æ±º
2. è¨˜ä¸‹åˆ¤æ±º ID
3. ä½¿ç”¨ get_judgment_detail å–å¾—å®Œæ•´å…§å®¹
```

## å¿«é€Ÿé–‹å§‹

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ uv/uvx (æ¨è–¦)

```bash
# ç›´æ¥åŸ·è¡Œï¼Œç„¡éœ€å®‰è£
uvx fjud-mcp

# æˆ–è€…å®‰è£å¾Œä½¿ç”¨
uv add fjud-mcp
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨ pip

```bash
# å®‰è£å¥—ä»¶
pip install fjud-mcp

# å•Ÿå‹• MCP ä¼ºæœå™¨
fjud-mcp
```

### æ–¹æ³•ä¸‰ï¼šå¾åŸå§‹ç¢¼å®‰è£

```bash
# å…‹éš†å°ˆæ¡ˆ
git clone https://github.com/your-username/fjud-mcp.git
cd fjud-mcp

# ä½¿ç”¨ uv å®‰è£
uv install

# æˆ–ä½¿ç”¨ pip
pip install -e .

# å•Ÿå‹•ä¼ºæœå™¨
fjud-mcp
```

## Claude Desktop è¨­å®š

å°‡ä»¥ä¸‹è¨­å®šåŠ å…¥åˆ° Claude Desktop çš„ `claude_desktop_config.json` æª”æ¡ˆä¸­ï¼š

```json
{
  "mcpServers": {
    "fjud-mcp": {
      "command": "uvx",
      "args": ["fjud-mcp"]
    }
  }
}
```

æˆ–è€…å¦‚æœæ‚¨ä½¿ç”¨ pip å®‰è£ï¼š

```json
{
  "mcpServers": {
    "fjud-mcp": {
      "command": "fjud-mcp"
    }
  }
}
```

## ä½¿ç”¨ç¯„ä¾‹

### æœå°‹åŒ…å«ç‰¹å®šé—œéµå­—çš„åˆ¤æ±º
```python
# ä½¿ç”¨ MCP å·¥å…·
search_judgments({
    "keyword": "ä¸ç•¶å¾—åˆ©",
    "max_items": 5,
    "mode": "full"
})
```

### æ“·å–é—œéµå­—ç‰‡æ®µ
```python
# æ“·å–åŒ…å«é—œéµå­—çš„å¥å­ç‰‡æ®µ
extract_snippets({
    "keyword": "ä¾µæ¬Šè¡Œç‚º",
    "snippet_after": true,
    "window": 1,
    "section_scope": "reason"
})
```

### å–å¾—æ³•é™¢åˆ—è¡¨
```python
# å–å¾—æ‰€æœ‰æ”¯æ´çš„æ³•é™¢
get_court_list()
```

## æ”¯æ´çš„æ³•é™¢ä»£ç¢¼

- `TPS`: å°ç£é«˜ç­‰æ³•é™¢
- `TPH`: å°åŒ—é«˜ç­‰æ³•é™¢
- `TPD`: å°åŒ—åœ°æ–¹æ³•é™¢
- `TCH`: å°ä¸­é«˜ç­‰æ³•é™¢
- `KSD`: é«˜é›„åœ°æ–¹æ³•é™¢
- ç­‰ç­‰...

## é–‹ç™¼èˆ‡è²¢ç»

### é–‹ç™¼ç’°å¢ƒè¨­å®š

```bash
# å…‹éš†å°ˆæ¡ˆ
git clone https://github.com/your-username/fjud-mcp.git
cd fjud-mcp

# ä½¿ç”¨ uv å»ºç«‹é–‹ç™¼ç’°å¢ƒ
uv venv
uv install --dev

# åŸ·è¡Œæ¸¬è©¦
uv run pytest

# æ ¼å¼åŒ–ç¨‹å¼ç¢¼
uv run black .
uv run isort .
```

### ç™¼å¸ƒåˆ° PyPI

å°ˆæ¡ˆåŒ…å«è‡ªå‹•åŒ– PyPI ä¸Šå‚³è…³æœ¬ï¼š

```bash
# åŸ·è¡Œä¸Šå‚³è…³æœ¬
python upload_to_pypi.py
```

è…³æœ¬åŠŸèƒ½ï¼š
- âœ… è‡ªå‹•æª¢æŸ¥å¿…è¦å·¥å…· (build, twine)
- ğŸ§¹ æ¸…ç†èˆŠçš„å»ºç½®æª”æ¡ˆ
- ğŸ“¦ å»ºç½®å¥—ä»¶
- ğŸ” æª¢æŸ¥å¥—ä»¶å®Œæ•´æ€§
- ğŸ§ª ä¸Šå‚³åˆ° Test PyPI ä¸¦æ¸¬è©¦å®‰è£
- ğŸš€ ä¸Šå‚³åˆ°æ­£å¼ PyPI

## æ³¨æ„äº‹é …

1. **ç¶²è·¯é€£ç·š**: éœ€è¦ç©©å®šçš„ç¶²è·¯é€£ç·šå­˜å–å¸æ³•é™¢ç¶²ç«™
2. **è«‹æ±‚é »ç‡**: å…§å»ºå»¶é²æ©Ÿåˆ¶é¿å…éæ–¼é »ç¹çš„è«‹æ±‚
3. **è³‡æ–™æ™‚æ•ˆ**: åˆ¤æ±ºæ›¸è³‡æ–™ä¾†æºç‚ºå¸æ³•é™¢å®˜æ–¹ç¶²ç«™
4. **ç·¨ç¢¼è™•ç†**: è‡ªå‹•è™•ç†ç¹é«”ä¸­æ–‡ç·¨ç¢¼å’Œæ ¼å¼

## æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ã€‚åƒ…ä¾›å­¸è¡“ç ”ç©¶å’Œåˆæ³•ç”¨é€”ä½¿ç”¨ã€‚ä½¿ç”¨è€…æ‡‰éµå®ˆç›¸é—œæ³•å¾‹æ³•è¦å’Œå¸æ³•é™¢ç¶²ç«™ä½¿ç”¨æ¢æ¬¾ã€‚
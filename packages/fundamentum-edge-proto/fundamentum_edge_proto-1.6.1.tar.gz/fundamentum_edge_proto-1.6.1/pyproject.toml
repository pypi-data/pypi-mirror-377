[project]
name = "fundamentum-edge-proto"
description = "fundamentum-edge protobufs"
urls.repository = "https://bitbucket.org/amotus/fundamentum-edge-proto-python"
authors = [
  { name = "Alex Sirois", email = "asirois@dimonoff.com" },
  { name = "Jonathan Chouinard", email = "jchouinard@dimonoff.com" },
]
dynamic = ["version"]
readme = "README.md"
license = { file = "LICENSE" }

requires-python = ">=3.10"
dependencies = [
  "grpcio~=1.63",
  # must match with protobuf compiler
  "protobuf~=4.25.3",
]

[dependency-groups]
build = [
  "grpcio-tools==1.62.2",
  "mypy-protobuf==3.6.0",
  "protoletariat>=3.2.19",
]
type-check = [
    "mypy>=1.9",
    "types-grpcio>=1.0.0.20250703",
    "types-protobuf>=4.24",
]
lint = ["ruff>=0.3"]

[tool.hatch.version]
source = "vcs"

[tool.ruff]
target-version = "py310"
line-length = 110
src = ["fundamentum_edge_proto"]

[tool.ruff.lint]
pydocstyle.convention = "google"
select = ["ALL"]
ignore = [
  # Ignore missing docstring in public module
  "D100",
  # Ignore missing docstring in public function
  "D103",
  # Ignore missing docstring in public package
  "D104",
]

[tool.mypy]
check_untyped_defs = true
namespace_packages = true
pretty = true
warn_return_any = true
warn_unreachable = true
warn_unused_ignores = true

[[tool.mypy.overrides]]
module = ["fundamentum_edge_proto.*"]
ignore_errors = true

[[tool.mypy.overrides]]
module = ["fundamentum_edge_proto", "fundamentum_edge_proto.typed_stubs"]
ignore_errors = false

[build-system]
requires = ["hatchling", "hatch-vcs"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["src/fundamentum_edge_proto"]

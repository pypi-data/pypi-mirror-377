Metadata-Version: 2.4
Name: funtts-plus
Version: 0.1.10
Summary: ç»Ÿä¸€çš„æ–‡æœ¬è½¬è¯­éŸ³(TTS)å·¥å…·åº“ï¼Œæ”¯æŒå¤šç§å¼€æºTTSå¼•æ“å’Œå­—å¹•æ ¼å¼
Author-email: ç‰›å“¥ <niuliangtao@qq.com>, farfarfun <farfarfun@qq.com>
Maintainer-email: ç‰›å“¥ <niuliangtao@qq.com>, farfarfun <farfarfun@qq.com>
License: MIT
Project-URL: Organization, https://github.com/farfarfun
Project-URL: Repository, https://github.com/farfarfun/funtts
Project-URL: Releases, https://github.com/farfarfun/funtts/releases
Keywords: tts,text-to-speech,audio,subtitle,speech-synthesis
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Multimedia :: Sound/Audio :: Speech
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: funutil>=0.1.0
Requires-Dist: pydub>=0.25.0
Requires-Dist: ffmpeg-python>=0.2.0
Provides-Extra: edge
Requires-Dist: edge-tts>=6.1.0; extra == "edge"
Provides-Extra: azure
Requires-Dist: azure-cognitiveservices-speech>=1.30.0; extra == "azure"
Provides-Extra: bark
Requires-Dist: bark>=0.1.5; extra == "bark"
Requires-Dist: torch>=1.9.0; extra == "bark"
Requires-Dist: torchaudio>=0.9.0; extra == "bark"
Requires-Dist: scipy>=1.7.0; extra == "bark"
Requires-Dist: soundfile>=0.10.0; extra == "bark"
Requires-Dist: numpy>=1.20.0; extra == "bark"
Provides-Extra: tortoise
Requires-Dist: tortoise-tts>=2.4.0; extra == "tortoise"
Requires-Dist: torch>=1.9.0; extra == "tortoise"
Requires-Dist: torchaudio>=0.9.0; extra == "tortoise"
Requires-Dist: soundfile>=0.10.0; extra == "tortoise"
Requires-Dist: numpy>=1.20.0; extra == "tortoise"
Provides-Extra: indextts2
Requires-Dist: torch>=1.9.0; extra == "indextts2"
Requires-Dist: torchaudio>=0.9.0; extra == "indextts2"
Requires-Dist: transformers>=4.20.0; extra == "indextts2"
Requires-Dist: soundfile>=0.10.0; extra == "indextts2"
Requires-Dist: numpy>=1.20.0; extra == "indextts2"
Provides-Extra: kitten
Requires-Dist: torch>=1.9.0; extra == "kitten"
Requires-Dist: torchaudio>=0.9.0; extra == "kitten"
Requires-Dist: soundfile>=0.10.0; extra == "kitten"
Requires-Dist: numpy>=1.20.0; extra == "kitten"
Provides-Extra: espeak
Provides-Extra: pyttsx3
Requires-Dist: pyttsx3>=2.90; extra == "pyttsx3"
Provides-Extra: all
Requires-Dist: funtts-plus[azure,bark,edge,espeak,indextts2,kitten,pyttsx3,tortoise]; extra == "all"

# FunTTS - ç»Ÿä¸€TTSæ¥å£åº“

[![PyPI version](https://badge.fury.io/py/funtts-plus.svg)](https://badge.fury.io/py/funtts-plus)
[![Python](https://img.shields.io/pypi/pyversions/funtts-plus.svg)](https://pypi.org/project/funtts-plus/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

FunTTSæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„Pythonæ–‡æœ¬è½¬è¯­éŸ³(TTS)åº“ï¼Œæä¾›ç»Ÿä¸€çš„æ¥å£æ¥æ— ç¼åˆ‡æ¢ä¸åŒçš„å¼€æºTTSå¼•æ“ã€‚é€šè¿‡ç®€å•çš„é…ç½®ï¼Œä½ å¯ä»¥åœ¨å¤šä¸ªTTSå¼•æ“ä¹‹é—´è½»æ¾åˆ‡æ¢ï¼Œè€Œæ— éœ€ä¿®æ”¹ä»£ç ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **ç»Ÿä¸€æ¥å£**: æ‰€æœ‰TTSå¼•æ“ä½¿ç”¨ç›¸åŒçš„APIæ¥å£ï¼Œæ”¯æŒRequest/Responseæ¨¡å¼
- ğŸ”„ **æ— ç¼åˆ‡æ¢**: é€šè¿‡é…ç½®è½»æ¾åˆ‡æ¢ä¸åŒçš„TTSå¼•æ“
- ğŸµ **å¤šå¼•æ“æ”¯æŒ**: æ”¯æŒEdge TTSã€Azure TTSã€eSpeakã€pyttsx3ç­‰ä¸»æµå¼•æ“
- âš™ï¸ **çµæ´»é…ç½®**: æ”¯æŒå…¨å±€é…ç½®å’Œå¼•æ“ç‰¹å®šé…ç½®ç®¡ç†
- ğŸ“ **æ™ºèƒ½å­—å¹•**: æ”¯æŒSRTã€VTTã€FRTä¸‰ç§å­—å¹•æ ¼å¼ï¼Œè‡ªåŠ¨æ—¶é—´åŒæ­¥
- ğŸ­ **å¤šè§’è‰²æ”¯æŒ**: æ”¯æŒå¤šè¯´è¯è€…åœºæ™¯ï¼Œè§’è‰²ä¿¡æ¯ç®¡ç†
- ğŸ”§ **å·¥å…·é›†æˆ**: æä¾›éŸ³é¢‘åˆå¹¶ã€å­—å¹•åˆå¹¶ã€å“åº”åˆå¹¶ç­‰å®ç”¨å·¥å…·
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒå¤šç§è¯­è¨€å’Œè¯­éŸ³ï¼Œæ™ºèƒ½è¯­éŸ³é€‰æ‹©
- ğŸ“Š **æ•°æ®æ¨¡å‹**: å®Œæ•´çš„æ•°æ®ç»“æ„å®šä¹‰ï¼Œç±»å‹å®‰å…¨
- ğŸš€ **é«˜æ€§èƒ½**: å¼‚æ­¥å¤„ç†æ”¯æŒï¼Œæ‰¹é‡æ“ä½œä¼˜åŒ–

## æ”¯æŒçš„TTSå¼•æ“

| å¼•æ“ | çŠ¶æ€ | å­—å¹•æ”¯æŒ | æè¿° | æ–‡æ¡£ |
|------|------|----------|------|------|
| Edge TTS | âœ… | âœ… | å¾®è½¯Edgeæµè§ˆå™¨çš„TTSå¼•æ“ï¼Œå…è´¹ä¸”é«˜è´¨é‡ | [ğŸ“– æ–‡æ¡£](src/funtts/tts/edge/README.md) |
| Azure TTS | âœ… | âœ… | å¾®è½¯Azureè®¤çŸ¥æœåŠ¡TTSï¼Œéœ€è¦APIå¯†é’¥ | [ğŸ“– æ–‡æ¡£](src/funtts/tts/azure/README.md) |
| Coqui TTS | âœ… | âœ… | åŠŸèƒ½å¼ºå¤§çš„æ·±åº¦å­¦ä¹ TTSå·¥å…·åŒ…ï¼Œæ”¯æŒå¤šç§æ¨¡å‹ | [ğŸ“– æ–‡æ¡£](src/funtts/tts/coqui/README.md) |
| Bark TTS | âœ… | âœ… | æ”¯æŒéè¯­è¨€å£°éŸ³å’ŒéŸ³ä¹ç”Ÿæˆçš„Transformer TTS | [ğŸ“– æ–‡æ¡£](src/funtts/tts/bark/README.md) |
| Tortoise TTS | âœ… | âœ… | é«˜è´¨é‡è¯­éŸ³å…‹éš†TTSï¼ŒéŸ³è´¨æ¥è¿‘çœŸäººæ°´å¹³ | [ğŸ“– æ–‡æ¡£](src/funtts/tts/tortoise/README.md) |
| IndexTTS2 | âœ… | âœ… | å·¥ä¸šçº§å¯æ§åˆ¶TTSï¼Œæ”¯æŒæƒ…æ„Ÿæ§åˆ¶å’Œè‡ªç„¶è¯­è¨€æŒ‡ä»¤ | [ğŸ“– æ–‡æ¡£](src/funtts/tts/indextts2/README.md) |
| KittenTTS | âœ… | âœ… | åŸºäºæ·±åº¦å­¦ä¹ çš„é«˜è´¨é‡TTSå¼•æ“ï¼Œç¥ç»ç½‘ç»œ | [ğŸ“– æ–‡æ¡£](src/funtts/tts/kitten/README.md) |
| eSpeak | âœ… | âœ… | å¼€æºçš„å¤šè¯­è¨€è¯­éŸ³åˆæˆå™¨ï¼Œè½»é‡çº§ | [ğŸ“– æ–‡æ¡£](src/funtts/tts/espeak/README.md) |
| pyttsx3 | âœ… | âœ… | è·¨å¹³å°çš„Python TTSåº“ï¼Œæœ¬åœ°ç¦»çº¿ | [ğŸ“– æ–‡æ¡£](src/funtts/tts/pyttsx3/README.md) |

> ğŸ’¡ **æç¤º**: ç‚¹å‡»æ–‡æ¡£é“¾æ¥æŸ¥çœ‹æ¯ä¸ªå¼•æ“çš„è¯¦ç»†é…ç½®è¯´æ˜ã€ä½¿ç”¨ç¤ºä¾‹å’Œæ•…éšœæ’é™¤æŒ‡å—ã€‚

## ğŸ“¦ å®‰è£…

### åŸºç¡€å®‰è£…

```bash
# åŸºç¡€åŠŸèƒ½å®‰è£…
pip install funtts-plus
```

### æŒ‰éœ€å®‰è£…å¼•æ“

æ ¹æ®éœ€è¦å®‰è£…ç‰¹å®šTTSå¼•æ“çš„ä¾èµ–ï¼š

```bash
# Edge TTS (æ¨èï¼Œå…è´¹é«˜è´¨é‡)
pip install funtts-plus[edge]

# Azure TTS (éœ€è¦APIå¯†é’¥)
pip install funtts-plus[azure]

# Coqui TTS (åŠŸèƒ½å¼ºå¤§çš„æ·±åº¦å­¦ä¹ TTSå·¥å…·åŒ…)
pip install funtts-plus[coqui]

# Bark TTS (æ”¯æŒéè¯­è¨€å£°éŸ³å’ŒéŸ³ä¹ç”Ÿæˆ)
pip install funtts-plus[bark]

# Tortoise TTS (é«˜è´¨é‡è¯­éŸ³å…‹éš†)
pip install funtts-plus[tortoise]

# IndexTTS2 (å·¥ä¸šçº§TTSï¼Œæ”¯æŒæƒ…æ„Ÿæ§åˆ¶)
pip install funtts-plus[indextts2]

# KittenTTS (æ·±åº¦å­¦ä¹ TTSï¼Œéœ€è¦GPUæ”¯æŒ)
pip install funtts-plus[kitten]

# pyttsx3 (è·¨å¹³å°æœ¬åœ°TTS)
pip install funtts-plus[pyttsx3]

# å®Œæ•´å®‰è£…ï¼ˆæ‰€æœ‰å¼•æ“ï¼‰
pip install funtts-plus[all]
```

### ç³»ç»Ÿä¾èµ–

æŸäº›å¼•æ“éœ€è¦é¢å¤–çš„ç³»ç»Ÿä¾èµ–ï¼š

```bash
# eSpeak (éœ€è¦ç³»ç»Ÿå®‰è£…)
# Ubuntu/Debian
sudo apt-get install espeak espeak-data

# macOS
brew install espeak

# Windows
# ä» http://espeak.sourceforge.net/download.html ä¸‹è½½å®‰è£…

# FFmpeg (ç”¨äºéŸ³é¢‘å¤„ç†ï¼Œå¯é€‰)
# Ubuntu/Debian
sudo apt-get install ffmpeg

# macOS
brew install ffmpeg

# Windows
# ä» https://ffmpeg.org/download.html ä¸‹è½½å®‰è£…
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ä½¿ç”¨

```python
from funtts import create_tts, TTSRequest

# ä½¿ç”¨é»˜è®¤é…ç½®åˆ›å»ºTTSå®ä¾‹
tts = create_tts()

# æ–¹å¼1ï¼šç®€å•è°ƒç”¨ï¼ˆå…¼å®¹æ—§ç‰ˆæœ¬ï¼‰
tts.create_tts(
    text="ä½ å¥½ï¼Œè¿™æ˜¯ä¸€ä¸ªTTSæµ‹è¯•ã€‚",
    voice_rate=1.0,
    voice_file="output.wav",
    subtitle_file="output.srt"  # å¯é€‰ï¼Œç”Ÿæˆå­—å¹•æ–‡ä»¶
)

# æ–¹å¼2ï¼šä½¿ç”¨Request/Responseæ¨¡å¼ï¼ˆæ¨èï¼‰
request = TTSRequest(
    text="ä½ å¥½ï¼Œè¿™æ˜¯FunTTSçš„æ–°æ¶æ„æ¼”ç¤ºã€‚",
    voice_name="zh-CN-XiaoxiaoNeural",
    voice_rate=1.2,
    output_file="demo.wav",
    generate_subtitles=True,
    subtitle_format="srt"
)

response = tts.synthesize(request)
if response.success:
    print(f"âœ… ç”ŸæˆæˆåŠŸï¼")
    print(f"éŸ³é¢‘æ–‡ä»¶: {response.audio_file}")
    print(f"å­—å¹•æ–‡ä»¶: {response.subtitle_file}")
    print(f"FRTå­—å¹•: {response.frt_subtitle_file}")
    print(f"éŸ³é¢‘æ—¶é•¿: {response.duration:.2f}ç§’")
else:
    print(f"âŒ ç”Ÿæˆå¤±è´¥: {response.error_message}")
```

### æŒ‡å®šTTSå¼•æ“

```python
from funtts import TTSFactory

# ä½¿ç”¨Edge TTS
edge_tts = TTSFactory.create_tts(
    engine_name="edge",
    voice_name="zh-CN-XiaoxiaoNeural"
)

# ä½¿ç”¨eSpeak
espeak_tts = TTSFactory.create_tts(
    engine_name="espeak", 
    voice_name="zh"
)

# ä½¿ç”¨pyttsx3
pyttsx3_tts = TTSFactory.create_tts(
    engine_name="pyttsx3",
    voice_name="0"  # ä½¿ç”¨ç¬¬ä¸€ä¸ªå¯ç”¨è¯­éŸ³
)
```

### é…ç½®ç®¡ç†

```python
from funtts import get_config

# è·å–å…¨å±€é…ç½®
config = get_config()

# è®¾ç½®é»˜è®¤å¼•æ“
config.set_default_engine("edge")
config.set_default_voice("zh-CN-XiaoxiaoNeural")
config.set_default_rate(1.2)

# è®¾ç½®å¼•æ“ç‰¹å®šé…ç½®
config.set_engine_config("azure", {
    "subscription_key": "your-api-key",
    "region": "eastus"
})

# ä¿å­˜é…ç½®
config.save_config()
```

### è·å–å¯ç”¨è¯­éŸ³

```python
from funtts import TTSFactory

# åˆ›å»ºTTSå®ä¾‹
tts = TTSFactory.create_tts("edge", "zh-CN-XiaoxiaoNeural")

# è·å–æ‰€æœ‰å¯ç”¨è¯­éŸ³
voices = tts.get_available_voices()

# è·å–ä¸­æ–‡è¯­éŸ³
chinese_voices = tts.get_available_voices(language="zh-CN")

# æ£€æŸ¥è¯­éŸ³æ˜¯å¦å¯ç”¨
is_available = tts.is_voice_available("zh-CN-XiaoxiaoNeural")
```

## é«˜çº§ç”¨æ³•

### å·¥å‚æ¨¡å¼

```python
from funtts import TTSFactory, get_available_engines

# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å¼•æ“
engines = get_available_engines()
print(f"å¯ç”¨å¼•æ“: {engines}")

# æ‰¹é‡åˆ›å»ºä¸åŒå¼•æ“çš„å®ä¾‹
tts_instances = {}
for engine in engines:
    try:
        tts_instances[engine] = TTSFactory.create_tts(
            engine_name=engine,
            voice_name="default"
        )
    except Exception as e:
        print(f"åˆ›å»º{engine}å¼•æ“å¤±è´¥: {e}")
```

### è‡ªå®šä¹‰é…ç½®

```python
from funtts import TTSFactory

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
custom_config = {
    "volume": 0.8,
    "pitch": 1.1
}

tts = TTSFactory.create_tts(
    engine_name="pyttsx3",
    voice_name="0",
    config=custom_config
)
```

### æ‰¹é‡å¤„ç†

```python
from funtts import create_tts
import os

# æ‰¹é‡å¤„ç†æ–‡æœ¬æ–‡ä»¶
texts = [
    "ç¬¬ä¸€æ®µæ–‡æœ¬å†…å®¹",
    "ç¬¬äºŒæ®µæ–‡æœ¬å†…å®¹", 
    "ç¬¬ä¸‰æ®µæ–‡æœ¬å†…å®¹"
]

tts = create_tts(engine_name="edge")

for i, text in enumerate(texts):
    audio_file = f"output_{i+1}.wav"
    subtitle_file = f"output_{i+1}.srt"
    
    tts.create_tts(
        text=text,
        voice_rate=1.0,
        voice_file=audio_file,
        subtitle_file=subtitle_file
    )
    
    print(f"ç”Ÿæˆå®Œæˆ: {audio_file}")
```

## é…ç½®æ–‡ä»¶

FunTTSä½¿ç”¨JSONæ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤ä½ç½®ä¸º `~/.funtts/config.json`ï¼š

```json
{
  "default_engine": "edge",
  "default_voice": "zh-CN-XiaoxiaoNeural",
  "default_rate": 1.0,
  "engines": {
    "edge": {
      "enabled": true,
      "config": {}
    },
    "azure": {
      "enabled": true,
      "config": {
        "subscription_key": "",
        "region": "eastus"
      }
    },
    "espeak": {
      "enabled": true,
      "config": {
        "executable_path": "espeak"
      }
    },
    "pyttsx3": {
      "enabled": true,
      "config": {
        "volume": 1.0
      }
    }
  }
}
```

## ğŸ“š ç¤ºä¾‹ä»£ç 

é¡¹ç›®æä¾›äº†ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç ï¼ŒæŸ¥çœ‹ `examples/` ç›®å½•ï¼š

- **`basic_usage.py`** - åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºæ ¸å¿ƒåŠŸèƒ½
- **`advanced_usage.py`** - é«˜çº§åŠŸèƒ½ç¤ºä¾‹ï¼ŒåŒ…æ‹¬é…ç½®ç®¡ç†ã€å¼•æ“å¯¹æ¯”ã€è‡ªå®šä¹‰å¼•æ“
- **`utils_example.py`** - å·¥å…·å‡½æ•°ç¤ºä¾‹ï¼ŒéŸ³é¢‘åˆå¹¶ã€å­—å¹•å¤„ç†ã€å¤šè§’è‰²å¯¹è¯

### è¿è¡Œç¤ºä¾‹

```bash
# åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹
python examples/basic_usage.py

# é«˜çº§åŠŸèƒ½æ¼”ç¤º
python examples/advanced_usage.py

# å·¥å…·å‡½æ•°æ¼”ç¤º
python examples/utils_example.py
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
funtts/
â”œâ”€â”€ base/           # åŸºç¡€æŠ½è±¡ç±»
â”‚   â””â”€â”€ base.py     # BaseTTSåŸºç±»
â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ audio_segment.py      # éŸ³é¢‘ç‰‡æ®µ
â”‚   â”œâ”€â”€ voice_info.py         # è¯­éŸ³ä¿¡æ¯
â”‚   â”œâ”€â”€ subtitle_maker.py     # å­—å¹•åˆ¶ä½œå™¨
â”‚   â””â”€â”€ request_response.py   # è¯·æ±‚å“åº”æ¨¡å‹
â”œâ”€â”€ tts/            # TTSå¼•æ“å®ç°
â”‚   â”œâ”€â”€ edge/       # Edge TTS
â”‚   â”œâ”€â”€ azure/      # Azure TTS
â”‚   â”œâ”€â”€ espeak/     # eSpeak
â”‚   â””â”€â”€ pyttsx3/    # pyttsx3
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ audio_utils.py        # éŸ³é¢‘å¤„ç†
â”‚   â”œâ”€â”€ subtitle_utils.py     # å­—å¹•å¤„ç†
â”‚   â””â”€â”€ response_utils.py     # å“åº”åˆå¹¶
â”œâ”€â”€ config.py       # é…ç½®ç®¡ç†
â”œâ”€â”€ factory.py      # TTSå·¥å‚
â””â”€â”€ __init__.py     # ä¸»å…¥å£
```

## ğŸ”¥ é«˜çº§åŠŸèƒ½

### å¤šè§’è‰²å¯¹è¯ç”Ÿæˆ

```python
from funtts import create_tts, TTSRequest
from funtts.utils import merge_tts_responses_with_speakers

# åˆ›å»ºTTSå®ä¾‹
tts = create_tts("edge")

# å®šä¹‰å¯¹è¯å†…å®¹
dialogue = [
    ("å°æ˜", "ä½ å¥½ï¼Œä»Šå¤©å¤©æ°”çœŸä¸é”™ï¼", "zh-CN-YunxiNeural"),
    ("å°çº¢", "æ˜¯å•Šï¼Œæˆ‘ä»¬å»å…¬å›­èµ°èµ°å§ã€‚", "zh-CN-XiaoxiaoNeural"),
    ("å°æ˜", "å¥½ä¸»æ„ï¼Œæˆ‘ä»¬ç°åœ¨å°±å‡ºå‘ã€‚", "zh-CN-YunxiNeural"),
]

# ç”Ÿæˆå„è§’è‰²è¯­éŸ³
responses = []
speaker_names = []
for speaker, text, voice in dialogue:
    request = TTSRequest(
        text=text,
        voice_name=voice,
        output_file=f"{speaker}_{len(responses)+1}.wav",
        generate_subtitles=True
    )
    response = tts.synthesize(request)
    if response.success:
        responses.append(response)
        speaker_names.append(speaker)

# åˆå¹¶æˆå®Œæ•´å¯¹è¯
merged = merge_tts_responses_with_speakers(
    responses=responses,
    speaker_names=speaker_names,
    output_audio_file="dialogue.wav",
    gap_duration=0.5  # å¯¹è¯é—´éš”0.5ç§’
)

if merged.success:
    print(f"ğŸ­ å¯¹è¯ç”Ÿæˆå®Œæˆ: {merged.audio_file}")
    print(f"ğŸ“ å­—å¹•æ–‡ä»¶: {merged.subtitle_file}")
```

### å­—å¹•æ ¼å¼æ”¯æŒ

```python
from funtts import create_tts, TTSRequest
from funtts.models import SubtitleMaker

tts = create_tts("edge")

# ç”Ÿæˆå¤šç§å­—å¹•æ ¼å¼
request = TTSRequest(
    text="FunTTSæ”¯æŒå¤šç§å­—å¹•æ ¼å¼ï¼ŒåŒ…æ‹¬SRTã€VTTå’ŒFRTæ ¼å¼ã€‚",
    voice_name="zh-CN-XiaoxiaoNeural",
    output_file="demo.wav",
    generate_subtitles=True,
    subtitle_format="srt"  # æ ‡å‡†æ ¼å¼
)

response = tts.synthesize(request)
if response.success:
    # è‡ªåŠ¨ç”Ÿæˆä¸¤ç§å­—å¹•æ–‡ä»¶
    print(f"ğŸ“ SRTå­—å¹•: {response.subtitle_file}")
    print(f"ğŸ¯ FRTå­—å¹•: {response.frt_subtitle_file}")
    
    # æ‰‹åŠ¨ä¿å­˜å…¶ä»–æ ¼å¼
    if response.subtitle_maker:
        # ä¿å­˜VTTæ ¼å¼
        vtt_file = "demo.sub.vtt"
        response.subtitle_maker.save_to_file(vtt_file, "vtt")
        print(f"ğŸ¬ VTTå­—å¹•: {vtt_file}")
```

## ğŸ“š å¼•æ“æ–‡æ¡£

æ¯ä¸ªTTSå¼•æ“éƒ½æœ‰è¯¦ç»†çš„æ–‡æ¡£è¯´æ˜ï¼ŒåŒ…å«å®‰è£…ã€é…ç½®ã€ä½¿ç”¨ç¤ºä¾‹å’Œæ•…éšœæ’é™¤æŒ‡å—ï¼š

### ğŸ¯ Edge TTS
- **æ–‡æ¡£**: [src/funtts/tts/edge/README.md](src/funtts/tts/edge/README.md)
- **ç‰¹ç‚¹**: å…è´¹ã€é«˜è´¨é‡ã€å¤šè¯­è¨€æ”¯æŒ
- **é€‚ç”¨**: å¤§å¤šæ•°åº”ç”¨åœºæ™¯ï¼Œæ¨èé¦–é€‰

### â˜ï¸ Azure TTS  
- **æ–‡æ¡£**: [src/funtts/tts/azure/README.md](src/funtts/tts/azure/README.md)
- **ç‰¹ç‚¹**: ä¼ä¸šçº§ã€SSMLæ”¯æŒã€é«˜åº¦å¯å®šåˆ¶
- **é€‚ç”¨**: å•†ä¸šåº”ç”¨ã€éœ€è¦é«˜çº§åŠŸèƒ½çš„åœºæ™¯

### ğŸ¸ Coqui TTS
- **æ–‡æ¡£**: [src/funtts/tts/coqui/README.md](src/funtts/tts/coqui/README.md)
- **ç‰¹ç‚¹**: å¤šæ¨¡å‹æ”¯æŒã€è¯­éŸ³å…‹éš†ã€å¤šè¯­è¨€ã€å¯è®­ç»ƒ
- **é€‚ç”¨**: ç ”ç©¶å¼€å‘ã€è‡ªå®šä¹‰æ¨¡å‹ã€å¤šè¯­è¨€åº”ç”¨

### ğŸŒ³ Bark TTS
- **æ–‡æ¡£**: [src/funtts/tts/bark/README.md](src/funtts/tts/bark/README.md)
- **ç‰¹ç‚¹**: éè¯­è¨€å£°éŸ³ã€éŸ³ä¹ç”Ÿæˆã€ç‰¹æ•ˆéŸ³æ•ˆã€æƒ…æ„Ÿè¡¨è¾¾
- **é€‚ç”¨**: åˆ›æ„å†…å®¹ã€æ’­å®¢åˆ¶ä½œã€æ¸¸æˆéŸ³æ•ˆã€å¨±ä¹åº”ç”¨

### ğŸ¢ Tortoise TTS
- **æ–‡æ¡£**: [src/funtts/tts/tortoise/README.md](src/funtts/tts/tortoise/README.md)
- **ç‰¹ç‚¹**: æé«˜éŸ³è´¨ã€è¯­éŸ³å…‹éš†ã€æ¥è¿‘çœŸäººã€å¤šç§é¢„è®¾
- **é€‚ç”¨**: é«˜è´¨é‡é…éŸ³ã€è¯­éŸ³å…‹éš†ã€ä¸“ä¸šåˆ¶ä½œ

### ğŸ­ IndexTTS2
- **æ–‡æ¡£**: [src/funtts/tts/indextts2/README.md](src/funtts/tts/indextts2/README.md)
- **ç‰¹ç‚¹**: å·¥ä¸šçº§ã€æƒ…æ„Ÿæ§åˆ¶ã€è‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€ç²¾ç¡®æ—¶é•¿æ§åˆ¶
- **é€‚ç”¨**: ä¸“ä¸šåº”ç”¨ã€æƒ…æ„Ÿè¯­éŸ³ã€å†…å®¹åˆ›ä½œã€AIåŠ©æ‰‹

### ğŸ± KittenTTS
- **æ–‡æ¡£**: [src/funtts/tts/kitten/README.md](src/funtts/tts/kitten/README.md)
- **ç‰¹ç‚¹**: æ·±åº¦å­¦ä¹ ã€é«˜è´¨é‡ã€ç¥ç»ç½‘ç»œã€å¤šè¯­éŸ³é£æ ¼
- **é€‚ç”¨**: é«˜è´¨é‡è¯­éŸ³éœ€æ±‚ã€AIåº”ç”¨ã€å†…å®¹åˆ›ä½œ

### ğŸ”Š eSpeak TTS
- **æ–‡æ¡£**: [src/funtts/tts/espeak/README.md](src/funtts/tts/espeak/README.md)
- **ç‰¹ç‚¹**: è½»é‡çº§ã€å¼€æºã€å¤šè¯­è¨€
- **é€‚ç”¨**: Linuxç¯å¢ƒã€åµŒå…¥å¼ç³»ç»Ÿã€èµ„æºå—é™åœºæ™¯

### ğŸ–¥ï¸ Pyttsx3 TTS
- **æ–‡æ¡£**: [src/funtts/tts/pyttsx3/README.md](src/funtts/tts/pyttsx3/README.md)
- **ç‰¹ç‚¹**: è·¨å¹³å°ã€æœ¬åœ°ç¦»çº¿ã€ç³»ç»Ÿé›†æˆ
- **é€‚ç”¨**: æ¡Œé¢åº”ç”¨ã€ç¦»çº¿ç¯å¢ƒã€å¿«é€ŸåŸå‹

> ğŸ“‹ **å¼€å‘è§„èŒƒ**: æŸ¥çœ‹ [docs/ENGINE_DEVELOPMENT_GUIDE.md](docs/ENGINE_DEVELOPMENT_GUIDE.md) äº†è§£å¦‚ä½•å¼€å‘æ–°çš„TTSå¼•æ“ã€‚

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„TTSå¼•æ“

1. ç»§æ‰¿ `BaseTTS` åŸºç±»
2. å®ç°å¿…è¦çš„æŠ½è±¡æ–¹æ³•
3. åœ¨å·¥å‚ç±»ä¸­æ³¨å†Œæ–°å¼•æ“

```python
from funtts.base import BaseTTS
from funtts import TTSFactory, TTSRequest, TTSResponse
from funtts.models import VoiceInfo
from typing import List

class MyCustomTTS(BaseTTS):
    """è‡ªå®šä¹‰TTSå¼•æ“ç¤ºä¾‹"""
    
    def synthesize(self, request: TTSRequest) -> TTSResponse:
        """å®ç°è¯­éŸ³åˆæˆ"""
        try:
            # è¿™é‡Œå®ç°ä½ çš„TTSé€»è¾‘
            print(f"CustomTTS: æ­£åœ¨åˆæˆ '{request.text[:20]}...'")
            
            # åˆ›å»ºç¤ºä¾‹éŸ³é¢‘æ–‡ä»¶
            with open(request.output_file, 'wb') as f:
                f.write(b'\x00' * 1024)  # ç¤ºä¾‹æ•°æ®
            
            return TTSResponse(
                success=True,
                request=request,
                audio_file=request.output_file,
                duration=2.0,
                voice_used="custom_voice",
                engine_info={"engine": "custom", "version": "1.0"}
            )
        except Exception as e:
            return TTSResponse(
                success=False,
                request=request,
                error_message=str(e)
            )
    
    def list_voices(self, language: str = None) -> List[VoiceInfo]:
        """è¿”å›å¯ç”¨è¯­éŸ³åˆ—è¡¨"""
        return [
            VoiceInfo(
                name="custom_voice_1",
                display_name="è‡ªå®šä¹‰è¯­éŸ³1",
                language="zh-CN",
                gender="female",
                engine="custom"
            )
        ]
    
    def is_voice_available(self, voice_name: str) -> bool:
        """æ£€æŸ¥è¯­éŸ³æ˜¯å¦å¯ç”¨"""
        return voice_name == "custom_voice_1"

# æ³¨å†Œæ–°å¼•æ“
TTSFactory.register_engine("mycustom", MyCustomTTS)

# ä½¿ç”¨è‡ªå®šä¹‰å¼•æ“
custom_tts = TTSFactory.create_tts("mycustom", "custom_voice_1")
```

### é¡¹ç›®æ„å»º

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/farfarfun/funtts.git
cd funtts

# å®‰è£…å¼€å‘ä¾èµ–
pip install -e .[all]

# è¿è¡Œæµ‹è¯•
python -m pytest tests/

# ä»£ç æ ¼å¼åŒ–
black src/
isort src/

# ç±»å‹æ£€æŸ¥
mypy src/
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. **Fork** æœ¬ä»“åº“
2. **åˆ›å»º** åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. **æäº¤** æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€** åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. **æ‰“å¼€** Pull Request

### è´¡çŒ®ç±»å‹

- ğŸ› **Bugä¿®å¤**: ä¿®å¤å·²çŸ¥é—®é¢˜
- âœ¨ **æ–°åŠŸèƒ½**: æ·»åŠ æ–°çš„TTSå¼•æ“æˆ–åŠŸèƒ½
- ğŸ“š **æ–‡æ¡£**: æ”¹è¿›æ–‡æ¡£å’Œç¤ºä¾‹
- ğŸ¨ **ä¼˜åŒ–**: ä»£ç é‡æ„å’Œæ€§èƒ½ä¼˜åŒ–
- ğŸ§ª **æµ‹è¯•**: æ·»åŠ æˆ–æ”¹è¿›æµ‹è¯•ç”¨ä¾‹

### å¼€å‘è§„èŒƒ

- éµå¾ªPEP 8ä»£ç è§„èŒƒ
- æ·»åŠ é€‚å½“çš„ç±»å‹æ³¨è§£
- ç¼–å†™æ¸…æ™°çš„æ–‡æ¡£å­—ç¬¦ä¸²
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š

- [edge-tts](https://github.com/rany2/edge-tts) - Microsoft Edgeçš„æ–‡æœ¬è½¬è¯­éŸ³
- [Azure Cognitive Services](https://azure.microsoft.com/services/cognitive-services/) - å¾®è½¯Azure TTSæœåŠ¡
- [eSpeak](http://espeak.sourceforge.net/) - å¼€æºè¯­éŸ³åˆæˆå™¨
- [pyttsx3](https://github.com/nateshmbhat/pyttsx3) - Pythonæ–‡æœ¬è½¬è¯­éŸ³åº“
- [pydub](https://github.com/jiaaro/pydub) - éŸ³é¢‘å¤„ç†åº“

## ğŸ“ è”ç³»æˆ‘ä»¬

- **GitHub Issues**: [æäº¤é—®é¢˜](https://github.com/farfarfun/funtts/issues)
- **GitHub Discussions**: [å‚ä¸è®¨è®º](https://github.com/farfarfun/funtts/discussions)
- **Email**: farfarfun@qq.com

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ Starï¼**

Made with â¤ï¸ by [FarFarFun Team](https://github.com/farfarfun)

</div>

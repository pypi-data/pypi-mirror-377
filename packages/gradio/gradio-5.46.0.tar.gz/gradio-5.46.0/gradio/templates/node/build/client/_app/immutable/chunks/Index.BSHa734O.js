import{setContext as sl,tick as rt,SvelteComponent as Oe,init as je,safe_not_equal as ze,element as P,svg_element as oe,claim_element as U,children as S,claim_svg_element as ue,detach as d,attr as h,null_to_empty as al,insert_hydration as z,append_hydration as T,listen as fe,stop_propagation as Xe,noop as Ae,binding_callbacks as pe,bind as De,create_component as ie,claim_component as _e,mount_component as re,add_flush_callback as Ie,transition_in as E,transition_out as q,destroy_component as se,space as Q,empty as ye,claim_space as Z,group_outros as me,check_outros as ge,createEventDispatcher as pt,toggle_class as x,set_input_value as ol,action_destroyer as gi,run_all as Qe,bubble as $e,prevent_default as fn,text as Be,claim_text as qe,set_data as Me,HtmlTagHydration as bi,claim_html_tag as wi,construct_svelte_component as ul,get_svelte_dataset as et,is_function as Ge,set_style as Ve,create_slot as Vt,add_render_callback as _l,add_iframe_resize_listener as fl,resize_observer_content_box as ki,update_slot_base as Pt,get_all_dirty_from_scope as Ut,get_slot_changes as Rt,onMount as _t,ensure_array_like as We,update_keyed_each as ft,outro_and_destroy_block as ct,ResizeObserverSingleton as vi,destroy_each as pi,onDestroy as yi,component_subscribe as Ei,afterUpdate as Ni,globals as Ti,flush as ve,assign as Ci,get_spread_update as Ai,get_spread_object as Si}from"../../../svelte/svelte.js";import{writable as Bi,get as Pe}from"../../../svelte/svelte-submodules.js";import{M as qi,D as Ft,F as Mi,B as Di,S as Ii}from"./2.DkBldhLH.js";import{d as Ht}from"./index.tFQomdd2.js";import{d as Li}from"./dsv.DB8NKgIY.js";import{d as ut}from"./index.CnqicUFC.js";import{a as Oi}from"./Upload.3z06iKkJ.js";import{C as cn}from"./Checkbox.DNIYXYiK.js";import{D as ji}from"./DropdownArrow.BXHmk3jO.js";import{F as zi}from"./FullscreenButton.a4IuZkVh.js";import Hi from"./Index.CN8vxx2M.js";import{default as _a}from"./Example.DSf4H_Iq.js";function wt(l,e,t){if(!e.length)return"none";const n=e.find(i=>{const s=i.col;return s<0||s>=t.length?!1:t[s]===l});return n?n.direction:"none"}function Vi(l,e){if(!l||!l.length||!l[0])return[];if(e.length>0){const t=[...Array(l.length)].map((n,i)=>i);return t.sort((n,i)=>{const s=l[n],r=l[i];for(const{col:a,direction:u}of e){if(!s||!r||a<0||a>=s.length||a>=r.length||!s[a]||!r[a])continue;const _=s[a].value,o=r[a].value,f=_<o?-1:_>o?1:0;if(f!==0)return u==="asc"?f:-f}return 0}),t}return[...Array(l.length)].map((t,n)=>n)}function Pi(l,e,t,n,i,s){let r=null;i&&i[0]in l&&i[1]in l[i[0]]&&(r=l[i[0]][i[1]].id),hn(l,e,t,n);let a=i;if(r){const[u,_]=s(r,l);a=[u,_]}return{data:l,selected:a}}function Ui(l,e){if(!l||!l.length||!l[0])return[];let t=[...Array(l.length)].map((n,i)=>i);return e.length>0?(e.forEach(n=>{if(n.datatype==="string")switch(n.filter){case"Contains":t=t.filter(i=>{var s;return(s=l[i][n.col])==null?void 0:s.value.toString().includes(n.value)});break;case"Does not contain":t=t.filter(i=>{var s;return!((s=l[i][n.col])!=null&&s.value.toString().includes(n.value))});break;case"Starts with":t=t.filter(i=>{var s;return(s=l[i][n.col])==null?void 0:s.value.toString().startsWith(n.value)});break;case"Ends with":t=t.filter(i=>{var s;return(s=l[i][n.col])==null?void 0:s.value.toString().endsWith(n.value)});break;case"Is":t=t.filter(i=>{var s;return((s=l[i][n.col])==null?void 0:s.value.toString())===n.value});break;case"Is not":t=t.filter(i=>{var s;return((s=l[i][n.col])==null?void 0:s.value.toString())!==n.value});break;case"Is empty":t=t.filter(i=>{var s;return((s=l[i][n.col])==null?void 0:s.value.toString())===""});break;case"Is not empty":t=t.filter(i=>{var s;return((s=l[i][n.col])==null?void 0:s.value.toString())!==""});break}else if(n.datatype==="number")switch(n.filter){case"=":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)===Number(n.value):!1});break;case"≠":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)!==Number(n.value):!1});break;case">":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)>Number(n.value):!1});break;case"<":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)<Number(n.value):!1});break;case"≥":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)>=Number(n.value):!1});break;case"≤":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)<=Number(n.value):!1});break;case"Is empty":t=t.filter(i=>{var s;return((s=l[i][n.col])==null?void 0:s.value.toString())===""});break;case"Is not empty":t=t.filter(i=>{var s,r;return isNaN(Number((s=l[i][n.col])==null?void 0:s.value))?!1:((r=l[i][n.col])==null?void 0:r.value.toString())!==""});break}}),t):[...Array(l.length)].map((n,i)=>i)}function Ri(l,e,t,n,i,s,r,a,u){let _=null;i&&i[0]in l&&i[1]in l[i[0]]&&(_=l[i[0]][i[1]].id),Ji(l,e,t,n,r,a,u);let o=i;if(_){const[f,c]=s(_,l);o=[f,c]}return{data:l,selected:o}}function Fi(l){if(!l||!l.length)return[];let e=l[0].slice();for(let t=0;t<l.length;t++)for(let n=0;n<l[t].length;n++)`${e[n].value}`.length<`${l[t][n].value}`.length&&(e[n]=l[t][n]);return e}function hn(l,e,t,n){if(!n.length||!l||!l.length)return;const i=Vi(l,n),s=i.map(r=>l[r]);if(l.splice(0,l.length,...s),e){const r=i.map(a=>e[a]);e.splice(0,e.length,...r)}if(t){const r=i.map(a=>t[a]);t.splice(0,t.length,...r)}}function Ji(l,e,t,n,i,s,r){const a=i??l,u=s??e,_=r??t;if(!n.length){l.splice(0,l.length,...a.map(c=>[...c])),e&&u&&e.splice(0,e.length,...u.map(c=>[...c])),t&&_&&t.splice(0,t.length,..._.map(c=>[...c]));return}if(!l||!l.length)return;const o=Ui(a,n),f=o.map(c=>a[c]);if(l.splice(0,l.length,...f),e&&u){const c=o.map(g=>u[g]);e.splice(0,e.length,...c)}if(t&&_){const c=o.map(g=>_[g]);t.splice(0,t.length,...c)}}async function dn(l,e){if(!l||!l.length)return;const n=(e||l.flatMap((a,u)=>a.map((_,o)=>[u,o]))).reduce((a,[u,_])=>{a[u]=a[u]||{};const o=String(l[u][_].value);return a[u][_]=o.includes(",")||o.includes('"')||o.includes(`
`)?`"${o.replace(/"/g,'""')}"`:o,a},{}),i=Object.keys(n).sort((a,u)=>+a-+u);if(!i.length)return;const s=Object.keys(n[i[0]]).sort((a,u)=>+a-+u),r=i.map(a=>s.map(u=>n[a][u]||"").join(",")).join(`
`);try{await navigator.clipboard.writeText(r)}catch(a){throw new Error("Failed to copy to clipboard: "+a.message)}}function Ki(l,e){return e.filter(t);function t(n){var i=-1;return l.split(`
`).every(s);function s(r){if(!r)return!0;var a=r.split(n).length;return i<0&&(i=a),i===a&&a>1}}}function Wi(l){const e=atob(l.split(",")[1]),t=l.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),i=new Uint8Array(n);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return new Blob([n],{type:t})}function Yi(l,e,t){const n=Wi(l),i=new FileReader;i.addEventListener("loadend",s=>{var _;if(!((_=s==null?void 0:s.target)!=null&&_.result)||typeof s.target.result!="string")return;const[r]=Ki(s.target.result,[",","	"]),[a,...u]=Li(r).parseRows(s.target.result);e(a),t(u)}),i.readAsText(n)}function Xi(l,e){const[t,n]=l;return e.some(([i,s])=>i===t&&s===n)}function Gi(l,e){const[t,n]=l;if(!e.some(([u,_])=>u===t&&_===n))return"";const i=e.some(([u,_])=>u===t-1&&_===n),s=e.some(([u,_])=>u===t+1&&_===n),r=e.some(([u,_])=>u===t&&_===n-1),a=e.some(([u,_])=>u===t&&_===n+1);return`cell-selected${i?" no-top":""}${s?" no-bottom":""}${r?" no-left":""}${a?" no-right":""}`}function Jt(l,e){const[t,n]=l,[i,s]=e,r=Math.min(t,i),a=Math.max(t,i),u=Math.min(n,s),_=Math.max(n,s),o=[];o.push(l);for(let f=r;f<=a;f++)for(let c=u;c<=_;c++)f===t&&c===n||o.push([f,c]);return o}function Qi(l,e,t){if(t.shiftKey&&e.length>0)return Jt(e[e.length-1],l);if(t.metaKey||t.ctrlKey){const n=([s,r])=>s===l[0]&&r===l[1],i=e.findIndex(n);return i===-1?[...e,l]:e.filter((s,r)=>r!==i)}return[l]}function Zi(l,e){const t=l.map(n=>[...n]);return e.forEach(([n,i])=>{t[n]&&t[n][i]&&(t[n][i]={...t[n][i],value:""})}),t}function xi(l,e,t){const[n,i]=l;return t&&e.length===1&&e[0][0]===n&&e[0][1]===i}function $i(l,e,t){var u,_,o;const[n,i]=l,s=t?-1:1;if((u=e[n])!=null&&u[i+s])return[n,i+s];const r=n+(s>0?1:0),a=n+(s<0?-1:0);return s>0&&((_=e[r])!=null&&_[0])?[r,0]:s<0&&((o=e[a])!=null&&o[e[0].length-1])?[a,e[0].length-1]:!1}function er(l,e,t){var u;const n=l.key,i={ArrowRight:[0,1],ArrowLeft:[0,-1],ArrowDown:[1,0],ArrowUp:[-1,0]}[n];let s,r;if(l.metaKey||l.ctrlKey)if(n==="ArrowRight")s=e[0],r=t[0].length-1;else if(n==="ArrowLeft")s=e[0],r=0;else if(n==="ArrowDown")s=t.length-1,r=e[1];else if(n==="ArrowUp")s=0,r=e[1];else return!1;else s=e[0]+i[0],r=e[1]+i[1];return s<0&&r<=0?!1:((u=t[s])==null?void 0:u[r])?[s,r]:!1}function cl(l,e){return e.reduce((t,n,i)=>{const s=n.reduce((r,a,u)=>l===a.id?u:r,-1);return s===-1?t:[i,s]},[-1,-1])}function tr(l,e){const[t]=l.composedPath();return!e.contains(t)}function lr(l,e,t,n,i){var g,A;const[s,r]=l;if(!((g=e[s])!=null&&g[r]))return{col_pos:"0px",row_pos:void 0};const a=e[s][r].id,u=(A=t[a])==null?void 0:A.cell;if(!u)return{col_pos:"0px",row_pos:void 0};const _=u.getBoundingClientRect(),o=i.getBoundingClientRect(),f=`${_.left-o.left+_.width/2}px`,c=`${_.top-o.top+_.height/2}px`;return{col_pos:f,row_pos:c}}const nr=Symbol("dataframe");function ir(l,e){const t=r=>l.update(a=>({...a,...r(a)})),n=(r,a,u)=>{var f;const _=(f=r[0])!=null&&f.length?Array(r[0].length).fill(null).map(()=>({value:"",id:a()})):[{value:"",id:a()}],o=[...r];return u!==void 0?o.splice(u,0,_):o.push(_),o},i=(r,a,u,_)=>{const o=[...a,`Header ${a.length+1}`],f=r.map(c=>[...c,{value:"",id:u()}]);return _!==void 0&&(o.splice(_,0,o.pop()),f.forEach(c=>c.splice(_,0,c.pop()))),{data:f,headers:o}},s=(r,a)=>{r&&a&&a.splice(0,a.length,...JSON.parse(JSON.stringify(r)))};return{handle_search:r=>t(a=>({current_search_query:r})),handle_sort:(r,a)=>t(u=>{const _=u.sort_state.sort_columns.filter(f=>f.col!==r);u.sort_state.sort_columns.some(f=>f.col===r&&f.direction===a)||_.push({col:r,direction:a});const o=u.sort_state.initial_data||(e.data&&_.length>0?{data:JSON.parse(JSON.stringify(e.data)),display_value:e.display_value?JSON.parse(JSON.stringify(e.display_value)):null,styling:e.styling?JSON.parse(JSON.stringify(e.styling)):null}:null);return{sort_state:{...u.sort_state,sort_columns:_.slice(-3),initial_data:o}}}),handle_filter:(r,a,u,_)=>t(o=>{const f=o.filter_state.filter_columns.some(g=>g.col===r)?o.filter_state.filter_columns.filter(g=>g.col!==r):[...o.filter_state.filter_columns,{col:r,datatype:a,filter:u,value:_}],c=o.filter_state.initial_data||(e.data&&f.length>0?{data:JSON.parse(JSON.stringify(e.data)),display_value:e.display_value?JSON.parse(JSON.stringify(e.display_value)):null,styling:e.styling?JSON.parse(JSON.stringify(e.styling)):null}:null);return{filter_state:{...o.filter_state,filter_columns:f,initial_data:c}}}),get_sort_status:(r,a)=>{const _=Pe(l).sort_state.sort_columns.find(o=>a[o.col]===r);return _?_.direction:"none"},sort_data:(r,a,u)=>{const{sort_state:{sort_columns:_}}=Pe(l);_.length&&hn(r,a,u,_)},update_row_order:r=>t(a=>({sort_state:{...a.sort_state,row_order:a.sort_state.sort_columns.length&&r[0]?[...Array(r.length)].map((u,_)=>_).sort((u,_)=>{var o,f,c,g;for(const{col:A,direction:v}of a.sort_state.sort_columns){const B=(((f=(o=r[u])==null?void 0:o[A])==null?void 0:f.value)??"")<(((g=(c=r[_])==null?void 0:c[A])==null?void 0:g.value)??"")?-1:1;if(B)return v==="asc"?B:-B}return 0}):[...Array(r.length)].map((u,_)=>_)}})),filter_data:r=>{var u;const a=(u=Pe(l).current_search_query)==null?void 0:u.toLowerCase();return a?r.filter(_=>_.some(o=>String(o==null?void 0:o.value).toLowerCase().includes(a))):r},add_row:n,add_col:i,add_row_at:(r,a,u,_)=>n(r,_,u==="above"?a:a+1),add_col_at:(r,a,u,_,o)=>i(r,a,o,_==="left"?u:u+1),delete_row:(r,a)=>r.length>1?r.filter((u,_)=>_!==a):r,delete_col:(r,a,u)=>a.length>1?{data:r.map(_=>_.filter((o,f)=>f!==u)),headers:a.filter((_,o)=>o!==u)}:{data:r,headers:a},delete_row_at:(r,a)=>r.length>1?[...r.slice(0,a),...r.slice(a+1)]:r,delete_col_at:(r,a,u)=>a.length>1?{data:r.map(_=>[..._.slice(0,u),..._.slice(u+1)]),headers:[...a.slice(0,u),...a.slice(u+1)]}:{data:r,headers:a},trigger_change:async(r,a,u,_,o,f)=>{if(Pe(l).current_search_query)return;const g=a.map(v=>v.value),A=r.map(v=>v.map(B=>String(B.value)));(!Ht(A,u)||!Ht(g,_))&&(Ht(g,_)||t(v=>({sort_state:{sort_columns:[],row_order:[],initial_data:null},filter_state:{filter_columns:[],initial_data:null}})),f("change",{data:r.map(v=>v.map(B=>B.value)),headers:g,metadata:null}),o||f("input"))},reset_sort_state:()=>t(r=>{if(r.sort_state.initial_data&&e.data){const a=r.sort_state.initial_data;s(a.data,e.data),s(a.display_value,e.display_value),s(a.styling,e.styling)}return{sort_state:{sort_columns:[],row_order:[],initial_data:null}}}),reset_filter_state:()=>t(r=>{if(r.filter_state.initial_data&&e.data){const a=r.filter_state.initial_data;s(a.data,e.data),s(a.display_value,e.display_value),s(a.styling,e.styling)}return{filter_state:{filter_columns:[],initial_data:null}}}),set_active_cell_menu:r=>t(a=>({ui_state:{...a.ui_state,active_cell_menu:r}})),set_active_header_menu:r=>t(a=>({ui_state:{...a.ui_state,active_header_menu:r}})),set_selected_cells:r=>t(a=>({ui_state:{...a.ui_state,selected_cells:r}})),set_selected:r=>t(a=>({ui_state:{...a.ui_state,selected:r}})),set_editing:r=>t(a=>({ui_state:{...a.ui_state,editing:r}})),clear_ui_state:()=>t(r=>({ui_state:{active_cell_menu:null,active_header_menu:null,selected_cells:[],selected:!1,editing:!1,header_edit:!1,selected_header:!1,active_button:null,copy_flash:!1}})),set_header_edit:r=>t(a=>({ui_state:{...a.ui_state,selected_cells:[],selected_header:r,header_edit:r}})),set_selected_header:r=>t(a=>({ui_state:{...a.ui_state,selected_header:r,selected:!1,selected_cells:[]}})),handle_header_click:(r,a)=>t(u=>({ui_state:{...u.ui_state,active_cell_menu:null,active_header_menu:null,selected:!1,selected_cells:[],selected_header:r,header_edit:a?r:!1}})),end_header_edit:r=>{["Escape","Enter","Tab"].includes(r)&&t(a=>({ui_state:{...a.ui_state,selected:!1,header_edit:!1}}))},get_selected_cells:()=>Pe(l).ui_state.selected_cells,get_active_cell_menu:()=>Pe(l).ui_state.active_cell_menu,get_active_button:()=>Pe(l).ui_state.active_button,set_active_button:r=>t(a=>({ui_state:{...a.ui_state,active_button:r}})),set_copy_flash:r=>t(a=>({ui_state:{...a.ui_state,copy_flash:r}})),handle_cell_click:(r,a,u)=>{var c;r.preventDefault(),r.stopPropagation();const _=Pe(l);if(_.config.show_row_numbers&&u===-1)return;let o=a;if(_.current_search_query&&e.data){const g=[];e.data.forEach((A,v)=>{A.some(B=>{var w;return String(B==null?void 0:B.value).toLowerCase().includes(((w=_.current_search_query)==null?void 0:w.toLowerCase())||"")})&&g.push(v)}),o=g[a]??a}const f=Qi([o,u],_.ui_state.selected_cells,r);t(g=>({ui_state:{...g.ui_state,active_cell_menu:null,active_header_menu:null,selected_header:!1,header_edit:!1,selected_cells:f,selected:f[0]}})),_.config.editable&&f.length===1?(t(g=>({ui_state:{...g.ui_state,editing:[o,u]}})),rt().then(()=>{var g,A;return(A=(g=e.els[e.data[o][u].id])==null?void 0:g.input)==null?void 0:A.focus()})):rt().then(()=>{e.parent_element&&e.parent_element.focus()}),(c=e.dispatch)==null||c.call(e,"select",{index:[o,u],col_value:e.get_column(u),row_value:e.get_row(o),value:e.get_data_at(o,u)})},toggle_cell_menu:(r,a,u)=>{r.stopPropagation();const _=Pe(l).ui_state.active_cell_menu;if((_==null?void 0:_.row)===a&&_.col===u)t(o=>({ui_state:{...o.ui_state,active_cell_menu:null}}));else{const o=r.target.closest("td");if(o){const f=o.getBoundingClientRect();t(c=>({ui_state:{...c.ui_state,active_cell_menu:{row:a,col:u,x:f.right,y:f.bottom}}}))}}},toggle_cell_button:(r,a)=>{const u=Pe(l).ui_state.active_button,_=(u==null?void 0:u.type)==="cell"&&u.row===r&&u.col===a?null:{type:"cell",row:r,col:a};t(o=>({ui_state:{...o.ui_state,active_button:_}}))},handle_select_column:r=>{if(!e.data)return;const a=e.data.map((u,_)=>[_,r]);t(u=>({ui_state:{...u.ui_state,selected_cells:a,selected:a[0],editing:!1}})),setTimeout(()=>{var u;return(u=e.parent_element)==null?void 0:u.focus()},0)},handle_select_row:r=>{if(!e.data||!e.data[0])return;const a=e.data[0].map((u,_)=>[r,_]);t(u=>({ui_state:{...u.ui_state,selected_cells:a,selected:a[0],editing:!1}})),setTimeout(()=>{var u;return(u=e.parent_element)==null?void 0:u.focus()},0)},get_next_cell_coordinates:$i,get_range_selection:Jt,move_cursor:er}}function rr(l){const e=Bi({config:l,current_search_query:null,sort_state:{sort_columns:[],row_order:[],initial_data:null},filter_state:{filter_columns:[],initial_data:null},ui_state:{active_cell_menu:null,active_header_menu:null,selected_cells:[],selected:!1,editing:!1,header_edit:!1,selected_header:!1,active_button:null,copy_flash:!1}}),t={state:e,actions:null};t.actions=ir(e,t);const n=Symbol(`dataframe_${Math.random().toString(36).substring(2)}`);return sl(n,t),sl(nr,{instance_id:n,context:t}),t}function sr(l){let e,t,n,i,s,r,a,u,_;return{c(){e=P("button"),t=P("span"),n=oe("svg"),i=oe("path"),this.h()},l(o){e=U(o,"BUTTON",{class:!0,"aria-label":!0});var f=S(e);t=U(f,"SPAN",{class:!0});var c=S(t);n=ue(c,"svg",{xmlns:!0,viewBox:!0,class:!0});var g=S(n);i=ue(g,"path",{d:!0,"data-name":!0}),S(i).forEach(d),g.forEach(d),c.forEach(d),f.forEach(d),this.h()},h(){h(i,"d","m16.707 13.293-4-4a1 1 0 0 0-1.414 0l-4 4A1 1 0 0 0 8 15h8a1 1 0 0 0 .707-1.707z"),h(i,"data-name",l[3]),h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"viewBox","0 0 24 24"),h(n,"class","svelte-1mp8yw1"),h(t,"class",s=al(l[3])+" svelte-1mp8yw1"),h(e,"class",r="selection-button selection-button-"+l[0]+" "+(l[2]?`move-${l[3]}`:"")+" svelte-1mp8yw1"),h(e,"aria-label",a=`Select ${l[0]}`)},m(o,f){z(o,e,f),T(e,t),T(t,n),T(n,i),u||(_=fe(e,"click",Xe(l[5])),u=!0)},p(o,[f]){f&8&&h(i,"data-name",o[3]),f&8&&s!==(s=al(o[3])+" svelte-1mp8yw1")&&h(t,"class",s),f&13&&r!==(r="selection-button selection-button-"+o[0]+" "+(o[2]?`move-${o[3]}`:"")+" svelte-1mp8yw1")&&h(e,"class",r),f&1&&a!==(a=`Select ${o[0]}`)&&h(e,"aria-label",a)},i:Ae,o:Ae,d(o){o&&d(e),u=!1,_()}}}function ar(l,e,t){let n,i,{position:s}=e,{coords:r}=e,{on_click:a=null}=e;const u=()=>a&&a();return l.$$set=_=>{"position"in _&&t(0,s=_.position),"coords"in _&&t(4,r=_.coords),"on_click"in _&&t(1,a=_.on_click)},l.$$.update=()=>{l.$$.dirty&17&&t(2,n=s==="column"?r[0]===0:r[1]===0),l.$$.dirty&5&&t(3,i=s==="column"?n?"down":"up":n?"right":"left")},[s,a,n,i,r,u]}class hl extends Oe{constructor(e){super(),je(this,e,ar,sr,ze,{position:0,coords:4,on_click:1})}}function or(l){let e,t,n,i;function s(a){l[5](a)}let r={label:"",interactive:l[0]};return l[1]!==void 0&&(r.value=l[1]),t=new cn({props:r}),pe.push(()=>De(t,"value",s)),t.$on("change",l[2]),{c(){e=P("div"),ie(t.$$.fragment),this.h()},l(a){e=U(a,"DIV",{class:!0,role:!0,tabindex:!0});var u=S(e);_e(t.$$.fragment,u),u.forEach(d),this.h()},h(){h(e,"class","bool-cell svelte-1svo4lb"),h(e,"role","button"),h(e,"tabindex","-1")},m(a,u){z(a,e,u),re(t,e,null),i=!0},p(a,[u]){const _={};u&1&&(_.interactive=a[0]),!n&&u&2&&(n=!0,_.value=a[1],Ie(()=>n=!1)),t.$set(_)},i(a){i||(E(t.$$.fragment,a),i=!0)},o(a){q(t.$$.fragment,a),i=!1},d(a){a&&d(e),se(t)}}}function ur(l,e,t){let n,{value:i=!1}=e,{editable:s=!0}=e,{on_change:r}=e;function a(_){s&&r(_.detail)}function u(_){n=_,t(1,n),t(3,i)}return l.$$set=_=>{"value"in _&&t(3,i=_.value),"editable"in _&&t(0,s=_.editable),"on_change"in _&&t(4,r=_.on_change)},l.$$.update=()=>{l.$$.dirty&8&&t(1,n=typeof i=="string"?i.toLowerCase()==="true":!!i)},[s,n,a,i,r,u]}class _r extends Oe{constructor(e){super(),je(this,e,ur,or,ze,{value:3,editable:0,on_change:4})}}function dl(l){let e,t,n,i;return{c(){e=P("textarea"),this.h()},l(s){e=U(s,"TEXTAREA",{"aria-readonly":!0,"aria-label":!0,tabindex:!0,class:!0}),S(e).forEach(d),this.h()},h(){e.readOnly=l[9],h(e,"aria-readonly",l[9]),h(e,"aria-label",t=l[9]?"Cell is read-only":"Edit cell"),h(e,"tabindex","-1"),h(e,"class","svelte-fvkwu"),x(e,"header",l[4])},m(s,r){z(s,e,r),l[29](e),ol(e,l[0]),n||(i=[fe(e,"input",l[30]),fe(e,"blur",l[21]),fe(e,"mousedown",Xe(l[27])),fe(e,"click",Xe(l[28])),gi(kr.call(null,e)),fe(e,"keydown",l[22])],n=!0)},p(s,r){r[0]&512&&(e.readOnly=s[9]),r[0]&512&&h(e,"aria-readonly",s[9]),r[0]&512&&t!==(t=s[9]?"Cell is read-only":"Edit cell")&&h(e,"aria-label",t),r[0]&1&&ol(e,s[0]),r[0]&16&&x(e,"header",s[4])},d(s){s&&d(e),l[29](null),n=!1,Qe(i)}}}function fr(l){let e,t,n,i,s,r;const a=[gr,mr,dr,hr],u=[];function _(o,f){return o[5]==="image"&&o[11].image?0:o[5]==="html"?1:o[5]==="markdown"?2:3}return t=_(l),n=u[t]=a[t](l),{c(){e=P("span"),n.c(),this.h()},l(o){e=U(o,"SPAN",{tabindex:!0,role:!0,style:!0,"data-editable":!0,"data-max-chars":!0,"data-expanded":!0,placeholder:!0,class:!0});var f=S(e);n.l(f),f.forEach(d),this.h()},h(){h(e,"tabindex","0"),h(e,"role","button"),h(e,"style",l[3]),h(e,"data-editable",l[8]),h(e,"data-max-chars",l[10]),h(e,"data-expanded",l[2]),h(e,"placeholder"," "),h(e,"class","svelte-fvkwu"),x(e,"dragging",l[13]),x(e,"edit",l[2]),x(e,"expanded",l[2]),x(e,"multiline",l[4]),x(e,"text",l[5]==="str"),x(e,"wrap",l[14])},m(o,f){z(o,e,f),u[t].m(e,null),i=!0,s||(r=[fe(e,"keydown",l[22]),fe(e,"focus",fn(l[26]))],s=!0)},p(o,f){let c=t;t=_(o),t===c?u[t].p(o,f):(me(),q(u[c],1,1,()=>{u[c]=null}),ge(),n=u[t],n?n.p(o,f):(n=u[t]=a[t](o),n.c()),E(n,1),n.m(e,null)),(!i||f[0]&8)&&h(e,"style",o[3]),(!i||f[0]&256)&&h(e,"data-editable",o[8]),(!i||f[0]&1024)&&h(e,"data-max-chars",o[10]),(!i||f[0]&4)&&h(e,"data-expanded",o[2]),(!i||f[0]&8192)&&x(e,"dragging",o[13]),(!i||f[0]&4)&&x(e,"edit",o[2]),(!i||f[0]&4)&&x(e,"expanded",o[2]),(!i||f[0]&16)&&x(e,"multiline",o[4]),(!i||f[0]&32)&&x(e,"text",o[5]==="str"),(!i||f[0]&16384)&&x(e,"wrap",o[14])},i(o){i||(E(n),i=!0)},o(o){q(n),i=!1},d(o){o&&d(e),u[t].d(),s=!1,Qe(r)}}}function cr(l){let e,t;return e=new _r({props:{value:String(l[19]),editable:l[8],on_change:l[23]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[0]&524288&&(s.value=String(n[19])),i[0]&256&&(s.editable=n[8]),e.$set(s)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function hr(l){let e;return{c(){e=Be(l[20])},l(t){e=qe(t,l[20])},m(t,n){z(t,e,n)},p(t,n){n[0]&1048576&&Me(e,t[20])},i:Ae,o:Ae,d(t){t&&d(e)}}}function dr(l){let e,t;return e=new qi({props:{message:l[20].toLocaleString(),latex_delimiters:l[6],line_breaks:l[7],chatbot:!1}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[0]&1048576&&(s.message=n[20].toLocaleString()),i[0]&64&&(s.latex_delimiters=n[6]),i[0]&128&&(s.line_breaks=n[7]),e.$set(s)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function mr(l){let e,t;return{c(){e=new bi(!1),t=ye(),this.h()},l(n){e=wi(n,!1),t=ye(),this.h()},h(){e.a=t},m(n,i){e.m(l[20],n,i),z(n,t,i)},p(n,i){i[0]&1048576&&e.p(n[20])},i:Ae,o:Ae,d(n){n&&(d(t),e.d())}}}function gr(l){let e,t,n;var i=l[11].image;function s(r,a){return{props:{value:{url:r[20]},show_label:!1,label:"cell-image",show_download_button:!1,i18n:r[12],gradio:{dispatch:vr}}}}return i&&(e=ul(i,s(l))),{c(){e&&ie(e.$$.fragment),t=ye()},l(r){e&&_e(e.$$.fragment,r),t=ye()},m(r,a){e&&re(e,r,a),z(r,t,a),n=!0},p(r,a){if(a[0]&2048&&i!==(i=r[11].image)){if(e){me();const u=e;q(u.$$.fragment,1,0,()=>{se(u,1)}),ge()}i?(e=ul(i,s(r)),ie(e.$$.fragment),E(e.$$.fragment,1),re(e,t.parentNode,t)):e=null}else if(i){const u={};a[0]&1048576&&(u.value={url:r[20]}),a[0]&4096&&(u.i18n=r[12]),e.$set(u)}},i(r){n||(e&&E(e.$$.fragment,r),n=!0)},o(r){e&&q(e.$$.fragment,r),n=!1},d(r){r&&d(t),e&&se(e,r)}}}function ml(l){let e,t,n,i;return e=new hl({props:{position:"column",coords:l[16],on_click:l[31]}}),n=new hl({props:{position:"row",coords:l[16],on_click:l[32]}}),{c(){ie(e.$$.fragment),t=Q(),ie(n.$$.fragment)},l(s){_e(e.$$.fragment,s),t=Z(s),_e(n.$$.fragment,s)},m(s,r){re(e,s,r),z(s,t,r),re(n,s,r),i=!0},p(s,r){const a={};r[0]&65536&&(a.coords=s[16]),r[0]&196608&&(a.on_click=s[31]),e.$set(a);const u={};r[0]&65536&&(u.coords=s[16]),r[0]&327680&&(u.on_click=s[32]),n.$set(u)},i(s){i||(E(e.$$.fragment,s),E(n.$$.fragment,s),i=!0)},o(s){q(e.$$.fragment,s),q(n.$$.fragment,s),i=!1},d(s){s&&d(t),se(e,s),se(n,s)}}}function br(l){let e,t,n,i,s,r,a=l[2]&&l[5]!=="bool"&&dl(l);const u=[cr,fr],_=[];function o(c,g){return c[5]==="bool"?0:1}t=o(l),n=_[t]=u[t](l);let f=l[15]&&l[16]&&l[17]&&l[18]&&ml(l);return{c(){a&&a.c(),e=Q(),n.c(),i=Q(),f&&f.c(),s=ye()},l(c){a&&a.l(c),e=Z(c),n.l(c),i=Z(c),f&&f.l(c),s=ye()},m(c,g){a&&a.m(c,g),z(c,e,g),_[t].m(c,g),z(c,i,g),f&&f.m(c,g),z(c,s,g),r=!0},p(c,g){c[2]&&c[5]!=="bool"?a?a.p(c,g):(a=dl(c),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);let A=t;t=o(c),t===A?_[t].p(c,g):(me(),q(_[A],1,1,()=>{_[A]=null}),ge(),n=_[t],n?n.p(c,g):(n=_[t]=u[t](c),n.c()),E(n,1),n.m(i.parentNode,i)),c[15]&&c[16]&&c[17]&&c[18]?f?(f.p(c,g),g[0]&491520&&E(f,1)):(f=ml(c),f.c(),E(f,1),f.m(s.parentNode,s)):f&&(me(),q(f,1,1,()=>{f=null}),ge())},i(c){r||(E(n),E(f),r=!0)},o(c){q(n),q(f),r=!1},d(c){c&&(d(e),d(i),d(s)),a&&a.d(c),_[t].d(c),f&&f.d(c)}}}function wr(l,e=null,t=!1){if(t)return String(l);const n=String(l);return!e||e<=0||n.length<=e?n:n.slice(0,e)+"..."}function kr(l){return requestAnimationFrame(()=>{l.focus()}),{}}const vr=()=>{};function pr(l,e,t){let n,i,s,{edit:r}=e,{value:a=""}=e,{display_value:u=null}=e,{styling:_=""}=e,{header:o=!1}=e,{datatype:f="str"}=e,{latex_delimiters:c}=e,{line_breaks:g=!0}=e,{editable:A=!0}=e,{is_static:v=!1}=e,{max_chars:B=null}=e,{components:w={}}=e,{i18n:k}=e,{is_dragging:p=!1}=e,{wrap_text:H=!1}=e,{show_selection_buttons:L=!1}=e,{coords:N}=e,{on_select_column:V=null}=e,{on_select_row:K=null}=e,{el:I}=e;const R=pt();function J(D){R("blur",{blur_event:D,coords:N})}function F(D){R("keydown",D)}function W(D){t(0,a=D.toString()),R("blur",{blur_event:{target:{type:"checkbox",checked:D,value:D.toString()}},coords:N})}function ne(D){$e.call(this,l,D)}function ae(D){$e.call(this,l,D)}function ee(D){$e.call(this,l,D)}function ce(D){pe[D?"unshift":"push"](()=>{I=D,t(1,I)})}function be(){a=this.value,t(0,a)}const Ne=()=>V(N[1]),de=()=>K(N[0]);return l.$$set=D=>{"edit"in D&&t(2,r=D.edit),"value"in D&&t(0,a=D.value),"display_value"in D&&t(24,u=D.display_value),"styling"in D&&t(3,_=D.styling),"header"in D&&t(4,o=D.header),"datatype"in D&&t(5,f=D.datatype),"latex_delimiters"in D&&t(6,c=D.latex_delimiters),"line_breaks"in D&&t(7,g=D.line_breaks),"editable"in D&&t(8,A=D.editable),"is_static"in D&&t(9,v=D.is_static),"max_chars"in D&&t(10,B=D.max_chars),"components"in D&&t(11,w=D.components),"i18n"in D&&t(12,k=D.i18n),"is_dragging"in D&&t(13,p=D.is_dragging),"wrap_text"in D&&t(14,H=D.wrap_text),"show_selection_buttons"in D&&t(15,L=D.show_selection_buttons),"coords"in D&&t(16,N=D.coords),"on_select_column"in D&&t(17,V=D.on_select_column),"on_select_row"in D&&t(18,K=D.on_select_row),"el"in D&&t(1,I=D.el)},l.$$.update=()=>{l.$$.dirty[0]&1028&&t(25,n=!r&&B!==null&&B>0),l.$$.dirty[0]&16777473&&t(19,i=A?a:u!==null?u:a),l.$$.dirty[0]&34079776&&t(20,s=n?wr(i,B,f==="image"):i)},[a,I,r,_,o,f,c,g,A,v,B,w,k,p,H,L,N,V,K,i,s,J,F,W,u,n,ne,ae,ee,ce,be,Ne,de]}class Kt extends Oe{constructor(e){super(),je(this,e,pr,br,ze,{edit:2,value:0,display_value:24,styling:3,header:4,datatype:5,latex_delimiters:6,line_breaks:7,editable:8,is_static:9,max_chars:10,components:11,i18n:12,is_dragging:13,wrap_text:14,show_selection_buttons:15,coords:16,on_select_column:17,on_select_row:18,el:1},null,[-1,-1])}}function yr(l){let e,t=(l[0]!==null?l[0]+1:"")+"",n;return{c(){e=P("td"),n=Be(t),this.h()},l(i){e=U(i,"TD",{class:!0,tabindex:!0,"data-row":!0,"data-col":!0});var s=S(e);n=qe(s,t),s.forEach(d),this.h()},h(){h(e,"class","row-number svelte-ux4in1"),h(e,"tabindex","-1"),h(e,"data-row",l[0]),h(e,"data-col","row-number")},m(i,s){z(i,e,s),T(e,n)},p(i,s){s&1&&t!==(t=(i[0]!==null?i[0]+1:"")+"")&&Me(n,t),s&1&&h(e,"data-row",i[0])},d(i){i&&d(e)}}}function Er(l){let e,t='<div class="cell-wrap"><div class="header-content"><div class="header-text"></div></div></div>';return{c(){e=P("th"),e.innerHTML=t,this.h()},l(n){e=U(n,"TH",{tabindex:!0,class:!0,"data-svelte-h":!0}),et(e)!=="svelte-1aj56zf"&&(e.innerHTML=t),this.h()},h(){h(e,"tabindex","-1"),h(e,"class","row-number svelte-ux4in1")},m(n,i){z(n,e,i)},p:Ae,d(n){n&&d(e)}}}function Nr(l){let e;function t(s,r){return s[1]?Er:yr}let n=t(l),i=n(l);return{c(){i.c(),e=ye()},l(s){i.l(s),e=ye()},m(s,r){i.m(s,r),z(s,e,r)},p(s,[r]){n===(n=t(s))&&i?i.p(s,r):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ae,o:Ae,d(s){s&&d(e),i.d(s)}}}function Tr(l,e,t){let{index:n=null}=e,{is_header:i=!1}=e;return l.$$set=s=>{"index"in s&&t(0,n=s.index),"is_header"in s&&t(1,i=s.is_header)},[n,i]}class yt extends Oe{constructor(e){super(),je(this,e,Tr,Nr,ze,{index:0,is_header:1})}}function Cr(l){let e,t="⋮",n,i;return{c(){e=P("button"),e.textContent=t,this.h()},l(s){e=U(s,"BUTTON",{"aria-label":!0,class:!0,"aria-haspopup":!0,"data-svelte-h":!0}),et(e)!=="svelte-qulk5p"&&(e.textContent=t),this.h()},h(){h(e,"aria-label","Open cell menu"),h(e,"class","cell-menu-button svelte-vt38nd"),h(e,"aria-haspopup","menu")},m(s,r){z(s,e,r),n||(i=[fe(e,"click",function(){Ge(l[0])&&l[0].apply(this,arguments)}),fe(e,"touchstart",l[1])],n=!0)},p(s,[r]){l=s},i:Ae,o:Ae,d(s){s&&d(e),n=!1,Qe(i)}}}function Ar(l,e,t){let{on_click:n}=e;const i=s=>{s.preventDefault();const r=s.touches[0],a=new MouseEvent("click",{clientX:r.clientX,clientY:r.clientY,bubbles:!0,cancelable:!0,view:window});n(a)};return l.$$set=s=>{"on_click"in s&&t(0,n=s.on_click)},[n,i]}class mn extends Oe{constructor(e){super(),je(this,e,Ar,Cr,ze,{on_click:0})}}function Sr(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>';return{c(){e=P("div"),e.innerHTML=t,this.h()},l(n){e=U(n,"DIV",{class:!0,"aria-label":!0,"data-svelte-h":!0}),et(e)!=="svelte-1ernod4"&&(e.innerHTML=t),this.h()},h(){h(e,"class","wrapper svelte-1skchaw"),h(e,"aria-label","Static column")},m(n,i){z(n,e,i)},p:Ae,i:Ae,o:Ae,d(n){n&&d(e)}}}class Br extends Oe{constructor(e){super(),je(this,e,null,Sr,ze,{})}}function qr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=S(e);t=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),S(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"d","M4 8L8 4L12 8"),h(t,"stroke","currentColor"),h(t,"stroke-width","1.5"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(n,"d","M8 4V12"),h(n,"stroke","currentColor"),h(n,"stroke-width","1.5"),h(n,"stroke-linecap","round"),h(e,"width",l[0]),h(e,"height",l[0]),h(e,"viewBox","0 0 16 16"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(i,s){z(i,e,s),T(e,t),T(e,n)},p(i,[s]){s&1&&h(e,"width",i[0]),s&1&&h(e,"height",i[0])},i:Ae,o:Ae,d(i){i&&d(e)}}}function Mr(l,e,t){let{size:n=16}=e;return l.$$set=i=>{"size"in i&&t(0,n=i.size)},[n]}class Dr extends Oe{constructor(e){super(),je(this,e,Mr,qr,ze,{size:0})}}function Ir(l){let e,t,n;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=S(e);t=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),S(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"d","M4 8L8 12L12 8"),h(t,"stroke","currentColor"),h(t,"stroke-width","1.5"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(n,"d","M8 12V4"),h(n,"stroke","currentColor"),h(n,"stroke-width","1.5"),h(n,"stroke-linecap","round"),h(e,"width",l[0]),h(e,"height",l[0]),h(e,"viewBox","0 0 16 16"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(i,s){z(i,e,s),T(e,t),T(e,n)},p(i,[s]){s&1&&h(e,"width",i[0]),s&1&&h(e,"height",i[0])},i:Ae,o:Ae,d(i){i&&d(e)}}}function Lr(l,e,t){let{size:n=16}=e;return l.$$set=i=>{"size"in i&&t(0,n=i.size)},[n]}class Or extends Oe{constructor(e){super(),je(this,e,Lr,Ir,ze,{size:0})}}function jr(l){let e,t,n,i,s;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),i=oe("path"),s=oe("path"),this.h()},l(r){e=ue(r,"svg",{viewBox:!0,width:!0,height:!0});var a=S(e);t=ue(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(t).forEach(d),n=ue(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(n).forEach(d),i=ue(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(i).forEach(d),s=ue(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(s).forEach(d),a.forEach(d),this.h()},h(){h(t,"d","M5 5H19"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"stroke-linecap","round"),h(n,"d","M8 9H16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(i,"d","M11 13H13"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),h(i,"stroke-linecap","round"),h(s,"d","M17 17L21 21M21 17L17 21"),h(s,"stroke","currentColor"),h(s,"stroke-width","2"),h(s,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(r,a){z(r,e,a),T(e,t),T(e,n),T(e,i),T(e,s)},d(r){r&&d(e)}}}function zr(l){let e,t,n,i;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),i=oe("path"),this.h()},l(s){e=ue(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(t).forEach(d),n=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(n).forEach(d),i=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(i).forEach(d),r.forEach(d),this.h()},h(){h(t,"d","M5 5H19"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"stroke-linecap","round"),h(n,"d","M8 9H16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(i,"d","M11 13H13"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),h(i,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(s,r){z(s,e,r),T(e,t),T(e,n),T(e,i)},d(s){s&&d(e)}}}function Hr(l){let e,t,n,i,s,r;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),i=oe("path"),s=oe("path"),r=oe("path"),this.h()},l(a){e=ue(a,"svg",{viewBox:!0,width:!0,height:!0});var u=S(e);t=ue(u,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(t).forEach(d),n=ue(u,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(n).forEach(d),i=ue(u,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(i).forEach(d),s=ue(u,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(s).forEach(d),r=ue(u,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(r).forEach(d),u.forEach(d),this.h()},h(){h(t,"d","M5 5H19"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"stroke-linecap","round"),h(n,"d","M5 9H15"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(i,"d","M5 13H11"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),h(i,"stroke-linecap","round"),h(s,"d","M5 17H7"),h(s,"stroke","currentColor"),h(s,"stroke-width","2"),h(s,"stroke-linecap","round"),h(r,"d","M17 17L21 21M21 17L17 21"),h(r,"stroke","currentColor"),h(r,"stroke-width","2"),h(r,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(a,u){z(a,e,u),T(e,t),T(e,n),T(e,i),T(e,s),T(e,r)},d(a){a&&d(e)}}}function Vr(l){let e,t,n,i;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),i=oe("path"),this.h()},l(s){e=ue(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),S(t).forEach(d),n=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(n).forEach(d),i=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(i).forEach(d),r.forEach(d),this.h()},h(){h(t,"d","M8 12L12 16L16 12"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"fill","none"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(n,"d","M12 16V9"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(i,"d","M5 5H19"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),h(i,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(s,r){z(s,e,r),T(e,t),T(e,n),T(e,i)},d(s){s&&d(e)}}}function Pr(l){let e,t,n,i;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),i=oe("path"),this.h()},l(s){e=ue(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),S(t).forEach(d),n=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(n).forEach(d),i=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(i).forEach(d),r.forEach(d),this.h()},h(){h(t,"d","M8 16L12 12L16 16"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"fill","none"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(n,"d","M12 12V19"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(i,"d","M5 7H19"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),h(i,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(s,r){z(s,e,r),T(e,t),T(e,n),T(e,i)},d(s){s&&d(e)}}}function Ur(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=S(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0}),S(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","10"),h(t,"y","5"),h(t,"width","4"),h(t,"height","14"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(n,"d","M7 8L17 16M17 8L7 16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){z(i,e,s),T(e,t),T(e,n)},d(i){i&&d(e)}}}function Rr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=S(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0}),S(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),S(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","5"),h(t,"y","10"),h(t,"width","14"),h(t,"height","4"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(n,"d","M8 7L16 17M16 7L8 17"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){z(i,e,s),T(e,t),T(e,n)},d(i){i&&d(e)}}}function Fr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=S(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0}),S(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0}),S(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","6"),h(t,"y","4"),h(t,"width","12"),h(t,"height","4"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(n,"d","M12 12V19M8 16L12 19L16 16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"fill","none"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){z(i,e,s),T(e,t),T(e,n)},d(i){i&&d(e)}}}function Jr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=S(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0}),S(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0}),S(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","6"),h(t,"y","16"),h(t,"width","12"),h(t,"height","4"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(n,"d","M12 12V5M8 8L12 5L16 8"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"fill","none"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){z(i,e,s),T(e,t),T(e,n)},d(i){i&&d(e)}}}function Kr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=S(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0,fill:!0}),S(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0}),S(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","16"),h(t,"y","6"),h(t,"width","4"),h(t,"height","12"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"fill","none"),h(n,"d","M12 12H5M8 8L5 12L8 16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"fill","none"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){z(i,e,s),T(e,t),T(e,n)},d(i){i&&d(e)}}}function Wr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=S(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0,fill:!0}),S(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0}),S(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","4"),h(t,"y","6"),h(t,"width","4"),h(t,"height","12"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"fill","none"),h(n,"d","M12 12H19M16 8L19 12L16 16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"fill","none"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){z(i,e,s),T(e,t),T(e,n)},d(i){i&&d(e)}}}function Yr(l){let e;function t(s,r){if(s[0]=="add-column-right")return Wr;if(s[0]=="add-column-left")return Kr;if(s[0]=="add-row-above")return Jr;if(s[0]=="add-row-below")return Fr;if(s[0]=="delete-row")return Rr;if(s[0]=="delete-column")return Ur;if(s[0]=="sort-asc")return Pr;if(s[0]=="sort-desc")return Vr;if(s[0]=="clear-sort")return Hr;if(s[0]=="filter")return zr;if(s[0]=="clear-filter")return jr}let n=t(l),i=n&&n(l);return{c(){i&&i.c(),e=ye()},l(s){i&&i.l(s),e=ye()},m(s,r){i&&i.m(s,r),z(s,e,r)},p(s,[r]){n!==(n=t(s))&&(i&&i.d(1),i=n&&n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ae,o:Ae,d(s){s&&d(e),i&&i.d(s)}}}function Xr(l,e,t){let{icon:n}=e;return l.$$set=i=>{"icon"in i&&t(0,n=i.icon)},[n]}class Ke extends Oe{constructor(e){super(),je(this,e,Xr,Yr,ze,{icon:0})}}function gl(l){let e,t,n,i,s;return t=new cn({props:{value:l[24]==="checked",indeterminate:l[24]==="indeterminate",label:"",interactive:!0}}),t.$on("select",l[33]),{c(){e=P("div"),ie(t.$$.fragment),this.h()},l(r){e=U(r,"DIV",{class:!0,role:!0,tabindex:!0});var a=S(e);_e(t.$$.fragment,a),a.forEach(d),this.h()},h(){h(e,"class","select-all-checkbox svelte-1x6yk40"),h(e,"role","button"),h(e,"tabindex","0")},m(r,a){z(r,e,a),re(t,e,null),n=!0,i||(s=[fe(e,"click",Xe(l[31])),fe(e,"keydown",Xe(xr)),fe(e,"mousedown",Xe(l[32]))],i=!0)},p(r,a){const u={};a[0]&16777216&&(u.value=r[24]==="checked"),a[0]&16777216&&(u.indeterminate=r[24]==="indeterminate"),t.$set(u)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){q(t.$$.fragment,r),n=!1},d(r){r&&d(e),se(t),i=!1,Qe(s)}}}function bl(l){let e,t,n,i,s,r;const a=[Qr,Gr],u=[];function _(f,c){return f[21]==="asc"?0:1}n=_(l),i=u[n]=a[n](l);let o=l[11].length>1&&wl(l);return{c(){e=P("div"),t=P("span"),i.c(),s=Q(),o&&o.c(),this.h()},l(f){e=U(f,"DIV",{class:!0});var c=S(e);t=U(c,"SPAN",{class:!0});var g=S(t);i.l(g),g.forEach(d),s=Z(c),o&&o.l(c),c.forEach(d),this.h()},h(){h(t,"class","sort-arrow svelte-1x6yk40"),h(e,"class","sort-indicators svelte-1x6yk40")},m(f,c){z(f,e,c),T(e,t),u[n].m(t,null),T(e,s),o&&o.m(e,null),r=!0},p(f,c){let g=n;n=_(f),n!==g&&(me(),q(u[g],1,1,()=>{u[g]=null}),ge(),i=u[n],i||(i=u[n]=a[n](f),i.c()),E(i,1),i.m(t,null)),f[11].length>1?o?o.p(f,c):(o=wl(f),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(f){r||(E(i),r=!0)},o(f){q(i),r=!1},d(f){f&&d(e),u[n].d(),o&&o.d()}}}function Gr(l){let e,t;return e=new Or({props:{size:12}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Qr(l){let e,t;return e=new Dr({props:{size:12}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function wl(l){let e,t;return{c(){e=P("span"),t=Be(l[22]),this.h()},l(n){e=U(n,"SPAN",{class:!0});var i=S(e);t=qe(i,l[22]),i.forEach(d),this.h()},h(){h(e,"class","sort-priority svelte-1x6yk40")},m(n,i){z(n,e,i),T(e,t)},p(n,i){i[0]&4194304&&Me(t,n[22])},d(n){n&&d(e)}}}function kl(l){let e,t,n,i;return n=new Ke({props:{icon:"filter"}}),{c(){e=P("div"),t=P("span"),ie(n.$$.fragment),this.h()},l(s){e=U(s,"DIV",{class:!0});var r=S(e);t=U(r,"SPAN",{class:!0});var a=S(t);_e(n.$$.fragment,a),a.forEach(d),r.forEach(d),this.h()},h(){h(t,"class","filter-icon svelte-1x6yk40"),h(e,"class","filter-indicators svelte-1x6yk40")},m(s,r){z(s,e,r),T(e,t),re(n,t,null),i=!0},i(s){i||(E(n.$$.fragment,s),i=!0)},o(s){q(n.$$.fragment,s),i=!1},d(s){s&&d(e),se(n)}}}function vl(l){let e,t;return e=new Br({}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function pl(l){let e,t;return e=new mn({props:{on_click:l[38]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[0]&516&&(s.on_click=n[38]),e.$set(s)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Zr(l){let e,t,n,i,s,r,a,u,_,o,f,c,g,A,v,B,w=l[20]&&l[15]&&l[18]&&gl(l);function k(I){l[34](I)}function p(I){l[35](I)}let H={max_chars:l[14],latex_delimiters:l[12],line_breaks:l[13],edit:l[4]===l[2],header:!0,editable:l[15],is_static:l[17],i18n:l[16],coords:[l[2],0]};l[0]!==void 0&&(H.value=l[0]),l[1]!==void 0&&(H.el=l[1]),r=new Kt({props:H}),pe.push(()=>De(r,"value",k)),pe.push(()=>De(r,"el",p)),r.$on("keydown",l[36]);let L=l[19]!==-1&&bl(l),N=l[23]!==-1&&kl(),V=l[17]&&vl(),K=l[25]&&pl(l);return{c(){e=P("th"),t=P("div"),n=P("div"),w&&w.c(),i=Q(),s=P("button"),ie(r.$$.fragment),_=Q(),L&&L.c(),o=Q(),N&&N.c(),f=Q(),V&&V.c(),c=Q(),K&&K.c(),this.h()},l(I){e=U(I,"TH",{"aria-sort":!0,style:!0,title:!0,class:!0});var R=S(e);t=U(R,"DIV",{class:!0});var J=S(t);n=U(J,"DIV",{class:!0});var F=S(n);w&&w.l(F),i=Z(F),s=U(F,"BUTTON",{class:!0,title:!0});var W=S(s);_e(r.$$.fragment,W),_=Z(W),L&&L.l(W),o=Z(W),N&&N.l(W),W.forEach(d),f=Z(F),V&&V.l(F),F.forEach(d),c=Z(J),K&&K.l(J),J.forEach(d),R.forEach(d),this.h()},h(){h(s,"class","header-button svelte-1x6yk40"),h(s,"title",l[0]),h(n,"class","header-content svelte-1x6yk40"),h(t,"class","cell-wrap svelte-1x6yk40"),h(e,"aria-sort",g=wt(l[0],l[11],l[6])==="none"?"none":wt(l[0],l[11],l[6])==="asc"?"ascending":"descending"),Ve(e,"width",l[7](l[2])),Ve(e,"left",l[26](l[2])),h(e,"title",l[0]),h(e,"class","svelte-1x6yk40"),x(e,"pinned-column",l[2]<l[3]),x(e,"last-pinned",l[2]===l[3]-1),x(e,"focus",l[4]===l[2]||l[5]===l[2]),x(e,"sorted",l[19]!==-1),x(e,"filtered",l[23]!==-1)},m(I,R){z(I,e,R),T(e,t),T(t,n),w&&w.m(n,null),T(n,i),T(n,s),re(r,s,null),T(s,_),L&&L.m(s,null),T(s,o),N&&N.m(s,null),T(n,f),V&&V.m(n,null),T(t,c),K&&K.m(t,null),A=!0,v||(B=[fe(s,"click",l[37]),fe(s,"mousedown",$r),fe(e,"click",l[39]),fe(e,"mousedown",es)],v=!0)},p(I,R){I[20]&&I[15]&&I[18]?w?(w.p(I,R),R[0]&1343488&&E(w,1)):(w=gl(I),w.c(),E(w,1),w.m(n,i)):w&&(me(),q(w,1,1,()=>{w=null}),ge());const J={};R[0]&16384&&(J.max_chars=I[14]),R[0]&4096&&(J.latex_delimiters=I[12]),R[0]&8192&&(J.line_breaks=I[13]),R[0]&20&&(J.edit=I[4]===I[2]),R[0]&32768&&(J.editable=I[15]),R[0]&131072&&(J.is_static=I[17]),R[0]&65536&&(J.i18n=I[16]),R[0]&4&&(J.coords=[I[2],0]),!a&&R[0]&1&&(a=!0,J.value=I[0],Ie(()=>a=!1)),!u&&R[0]&2&&(u=!0,J.el=I[1],Ie(()=>u=!1)),r.$set(J),I[19]!==-1?L?(L.p(I,R),R[0]&524288&&E(L,1)):(L=bl(I),L.c(),E(L,1),L.m(s,o)):L&&(me(),q(L,1,1,()=>{L=null}),ge()),I[23]!==-1?N?R[0]&8388608&&E(N,1):(N=kl(),N.c(),E(N,1),N.m(s,null)):N&&(me(),q(N,1,1,()=>{N=null}),ge()),(!A||R[0]&1)&&h(s,"title",I[0]),I[17]?V?R[0]&131072&&E(V,1):(V=vl(),V.c(),E(V,1),V.m(n,null)):V&&(me(),q(V,1,1,()=>{V=null}),ge()),I[25]?K?(K.p(I,R),R[0]&33554432&&E(K,1)):(K=pl(I),K.c(),E(K,1),K.m(t,null)):K&&(me(),q(K,1,1,()=>{K=null}),ge()),(!A||R[0]&2113&&g!==(g=wt(I[0],I[11],I[6])==="none"?"none":wt(I[0],I[11],I[6])==="asc"?"ascending":"descending"))&&h(e,"aria-sort",g),(!A||R[0]&132)&&Ve(e,"width",I[7](I[2])),(!A||R[0]&4)&&Ve(e,"left",I[26](I[2])),(!A||R[0]&1)&&h(e,"title",I[0]),(!A||R[0]&12)&&x(e,"pinned-column",I[2]<I[3]),(!A||R[0]&12)&&x(e,"last-pinned",I[2]===I[3]-1),(!A||R[0]&52)&&x(e,"focus",I[4]===I[2]||I[5]===I[2]),(!A||R[0]&524288)&&x(e,"sorted",I[19]!==-1),(!A||R[0]&8388608)&&x(e,"filtered",I[23]!==-1)},i(I){A||(E(w),E(r.$$.fragment,I),E(L),E(N),E(V),E(K),A=!0)},o(I){q(w),q(r.$$.fragment,I),q(L),q(N),q(V),q(K),A=!1},d(I){I&&d(e),w&&w.d(),se(r),L&&L.d(),N&&N.d(),V&&V.d(),K&&K.d(),v=!1,Qe(B)}}}const xr=l=>{(l.key==="Enter"||l.key===" ")&&l.preventDefault()},$r=l=>{l.preventDefault(),l.stopPropagation()},es=l=>{l.preventDefault(),l.stopPropagation()};function ts(l,e,t){let n,i,s,r,a,u,_,{value:o}=e,{i:f}=e,{datatype:c="str"}=e,{actual_pinned_columns:g}=e,{header_edit:A}=e,{selected_header:v}=e,{headers:B}=e,{get_cell_width:w}=e,{handle_header_click:k}=e,{toggle_header_menu:p}=e,{end_header_edit:H}=e,{sort_columns:L=[]}=e,{filter_columns:N=[]}=e,{latex_delimiters:V}=e,{line_breaks:K}=e,{max_chars:I}=e,{editable:R}=e,{i18n:J}=e,{el:F}=e,{is_static:W}=e,{col_count:ne}=e,{data:ae=[]}=e,{on_select_all:ee=void 0}=e;function ce(M){return M>=g?"auto":M===0?"0":`calc(${Array(M).fill(0).map((he,O)=>w(O)).join(" + ")})`}function be(M){$e.call(this,l,M)}function Ne(M){$e.call(this,l,M)}const de=()=>{ee&&ee(f,s!=="checked")};function D(M){o=M,t(0,o)}function le(M){F=M,t(1,F)}const C=M=>{(M.detail.key==="Enter"||M.detail.key==="Escape"||M.detail.key==="Tab")&&H(M)},y=M=>k(M,f),b=M=>p(M,f),$=M=>k(M,f);return l.$$set=M=>{"value"in M&&t(0,o=M.value),"i"in M&&t(2,f=M.i),"datatype"in M&&t(27,c=M.datatype),"actual_pinned_columns"in M&&t(3,g=M.actual_pinned_columns),"header_edit"in M&&t(4,A=M.header_edit),"selected_header"in M&&t(5,v=M.selected_header),"headers"in M&&t(6,B=M.headers),"get_cell_width"in M&&t(7,w=M.get_cell_width),"handle_header_click"in M&&t(8,k=M.handle_header_click),"toggle_header_menu"in M&&t(9,p=M.toggle_header_menu),"end_header_edit"in M&&t(10,H=M.end_header_edit),"sort_columns"in M&&t(11,L=M.sort_columns),"filter_columns"in M&&t(28,N=M.filter_columns),"latex_delimiters"in M&&t(12,V=M.latex_delimiters),"line_breaks"in M&&t(13,K=M.line_breaks),"max_chars"in M&&t(14,I=M.max_chars),"editable"in M&&t(15,R=M.editable),"i18n"in M&&t(16,J=M.i18n),"el"in M&&t(1,F=M.el),"is_static"in M&&t(17,W=M.is_static),"col_count"in M&&t(29,ne=M.col_count),"data"in M&&t(30,ae=M.data),"on_select_all"in M&&t(18,ee=M.on_select_all)},l.$$.update=()=>{l.$$.dirty[0]&536870912&&t(25,n=ne&&ne[1]==="dynamic"),l.$$.dirty[0]&134217728&&t(20,i=c==="bool"),l.$$.dirty[0]&1074790404&&t(24,s=(()=>{if(!i||ae.length===0)return"unchecked";const M=ae.filter(Te=>{var he,O;return((he=Te[f])==null?void 0:he.value)===!0||((O=Te[f])==null?void 0:O.value)==="true"}).length;return M===0?"unchecked":M===ae.length?"checked":"indeterminate"})()),l.$$.dirty[0]&2052&&t(19,r=L.findIndex(M=>M.col===f)),l.$$.dirty[0]&268435460&&t(23,a=N.findIndex(M=>M.col===f)),l.$$.dirty[0]&524288&&t(22,u=r!==-1?r+1:null),l.$$.dirty[0]&526336&&t(21,_=r!==-1?L[r].direction:null)},[o,F,f,g,A,v,B,w,k,p,H,L,V,K,I,R,J,W,ee,r,i,_,u,a,s,n,ce,c,N,ne,ae,be,Ne,de,D,le,C,y,b,$]}class gn extends Oe{constructor(e){super(),je(this,e,ts,Zr,ze,{value:0,i:2,datatype:27,actual_pinned_columns:3,header_edit:4,selected_header:5,headers:6,get_cell_width:7,handle_header_click:8,toggle_header_menu:9,end_header_edit:10,sort_columns:11,filter_columns:28,latex_delimiters:12,line_breaks:13,max_chars:14,editable:15,i18n:16,el:1,is_static:17,col_count:29,data:30,on_select_all:18},null,[-1,-1])}}function yl(l){let e,t;return e=new mn({props:{on_click:l[39]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[0]&536&&(s.on_click=n[39]),e.$set(s)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function ls(l){let e,t,n,i,s,r,a=l[19]&&l[10]([l[3],l[4]],l[0],l[19]),u,_,o,f,c,g;function A(k){l[36](k)}function v(k){l[37](k)}let B={display_value:l[26]!==void 0?l[26]:String(l[1]),latex_delimiters:l[14],line_breaks:l[15],editable:l[19],is_static:l[20],edit:l[17]&&l[17][0]===l[3]&&l[17][1]===l[4],datatype:l[16],max_chars:l[18],i18n:l[21],components:l[22],show_selection_buttons:l[0].length===1&&l[0][0][0]===l[3]&&l[0][0][1]===l[4],coords:[l[3],l[4]],on_select_column:l[23],on_select_row:l[24],is_dragging:l[25],wrap_text:l[27]};l[1]!==void 0&&(B.value=l[1]),l[2].input!==void 0&&(B.el=l[2].input),n=new Kt({props:B}),pe.push(()=>De(n,"value",A)),pe.push(()=>De(n,"el",v)),n.$on("focus",l[38]),n.$on("blur",function(){Ge(l[8])&&l[8].apply(this,arguments)});let w=a&&yl(l);return{c(){e=P("td"),t=P("div"),ie(n.$$.fragment),r=Q(),w&&w.c(),this.h()},l(k){e=U(k,"TD",{tabindex:!0,"data-row":!0,"data-col":!0,"data-testid":!0,style:!0,class:!0});var p=S(e);t=U(p,"DIV",{class:!0});var H=S(t);_e(n.$$.fragment,H),r=Z(H),w&&w.l(H),H.forEach(d),p.forEach(d),this.h()},h(){h(t,"class","cell-wrap svelte-v1pjjd"),h(e,"tabindex",u=l[4]<l[5]?-1:0),h(e,"data-row",l[3]),h(e,"data-col",l[4]),h(e,"data-testid",_=`cell-${l[3]}-${l[4]}`),h(e,"style",o="width: "+l[6](l[4])+"; left: "+l[33](l[4])+"; "+(l[13]||"")),h(e,"class","svelte-v1pjjd"),x(e,"pinned-column",l[4]<l[5]),x(e,"last-pinned",l[4]===l[5]-1),x(e,"flash",l[11]&&l[32]),x(e,"cell-selected",l[32]),x(e,"no-top",l[31]),x(e,"no-bottom",l[30]),x(e,"no-left",l[29]),x(e,"no-right",l[28]),x(e,"menu-active",l[12]&&l[12].row===l[3]&&l[12].col===l[4]),x(e,"dragging",l[25])},m(k,p){z(k,e,p),T(e,t),re(n,t,null),T(t,r),w&&w.m(t,null),l[40](e),f=!0,c||(g=[fe(e,"mousedown",l[41]),fe(e,"contextmenu",fn(l[42]))],c=!0)},p(k,p){l=k;const H={};p[0]&67108866&&(H.display_value=l[26]!==void 0?l[26]:String(l[1])),p[0]&16384&&(H.latex_delimiters=l[14]),p[0]&32768&&(H.line_breaks=l[15]),p[0]&524288&&(H.editable=l[19]),p[0]&1048576&&(H.is_static=l[20]),p[0]&131096&&(H.edit=l[17]&&l[17][0]===l[3]&&l[17][1]===l[4]),p[0]&65536&&(H.datatype=l[16]),p[0]&262144&&(H.max_chars=l[18]),p[0]&2097152&&(H.i18n=l[21]),p[0]&4194304&&(H.components=l[22]),p[0]&25&&(H.show_selection_buttons=l[0].length===1&&l[0][0][0]===l[3]&&l[0][0][1]===l[4]),p[0]&24&&(H.coords=[l[3],l[4]]),p[0]&8388608&&(H.on_select_column=l[23]),p[0]&16777216&&(H.on_select_row=l[24]),p[0]&33554432&&(H.is_dragging=l[25]),p[0]&134217728&&(H.wrap_text=l[27]),!i&&p[0]&2&&(i=!0,H.value=l[1],Ie(()=>i=!1)),!s&&p[0]&4&&(s=!0,H.el=l[2].input,Ie(()=>s=!1)),n.$set(H),p[0]&525337&&(a=l[19]&&l[10]([l[3],l[4]],l[0],l[19])),a?w?(w.p(l,p),p[0]&525337&&E(w,1)):(w=yl(l),w.c(),E(w,1),w.m(t,null)):w&&(me(),q(w,1,1,()=>{w=null}),ge()),(!f||p[0]&48&&u!==(u=l[4]<l[5]?-1:0))&&h(e,"tabindex",u),(!f||p[0]&8)&&h(e,"data-row",l[3]),(!f||p[0]&16)&&h(e,"data-col",l[4]),(!f||p[0]&24&&_!==(_=`cell-${l[3]}-${l[4]}`))&&h(e,"data-testid",_),(!f||p[0]&8272&&o!==(o="width: "+l[6](l[4])+"; left: "+l[33](l[4])+"; "+(l[13]||"")))&&h(e,"style",o),(!f||p[0]&48)&&x(e,"pinned-column",l[4]<l[5]),(!f||p[0]&48)&&x(e,"last-pinned",l[4]===l[5]-1),(!f||p[0]&2048|p[1]&2)&&x(e,"flash",l[11]&&l[32]),(!f||p[1]&2)&&x(e,"cell-selected",l[32]),(!f||p[1]&1)&&x(e,"no-top",l[31]),(!f||p[0]&1073741824)&&x(e,"no-bottom",l[30]),(!f||p[0]&536870912)&&x(e,"no-left",l[29]),(!f||p[0]&268435456)&&x(e,"no-right",l[28]),(!f||p[0]&4120)&&x(e,"menu-active",l[12]&&l[12].row===l[3]&&l[12].col===l[4]),(!f||p[0]&33554432)&&x(e,"dragging",l[25])},i(k){f||(E(n.$$.fragment,k),E(w),f=!0)},o(k){q(n.$$.fragment,k),q(w),f=!1},d(k){k&&d(e),se(n),w&&w.d(),l[40](null),c=!1,Qe(g)}}}function ns(l,e,t){let n,i,s,r,a,u,{value:_}=e,{index:o}=e,{j:f}=e,{actual_pinned_columns:c}=e,{get_cell_width:g}=e,{handle_cell_click:A}=e,{handle_blur:v}=e,{toggle_cell_menu:B}=e,{is_cell_selected:w}=e,{should_show_cell_menu:k}=e,{selected_cells:p}=e,{copy_flash:H}=e,{active_cell_menu:L}=e,{styling:N}=e,{latex_delimiters:V}=e,{line_breaks:K}=e,{datatype:I}=e,{editing:R}=e,{max_chars:J}=e,{editable:F}=e,{is_static:W=!1}=e,{i18n:ne}=e,{components:ae={}}=e,{el:ee}=e,{handle_select_column:ce}=e,{handle_select_row:be}=e,{is_dragging:Ne}=e,{display_value:de}=e,{wrap:D=!1}=e;function le(O){return O>=c?"auto":O===0?"0":`calc(${Array(O).fill(0).map((He,we)=>g(we)).join(" + ")})`}function C(O){_=O,t(1,_)}function y(O){l.$$.not_equal(ee.input,O)&&(ee.input=O,t(2,ee))}const b=()=>{const O=o,X=f;p.some(([He,we])=>He===O&&we===X)||t(0,p=[[O,X]])},$=O=>B(O,o,f);function M(O){pe[O?"unshift":"push"](()=>{ee.cell=O,t(2,ee)})}const Te=O=>A(O,o,f),he=O=>B(O,o,f);return l.$$set=O=>{"value"in O&&t(1,_=O.value),"index"in O&&t(3,o=O.index),"j"in O&&t(4,f=O.j),"actual_pinned_columns"in O&&t(5,c=O.actual_pinned_columns),"get_cell_width"in O&&t(6,g=O.get_cell_width),"handle_cell_click"in O&&t(7,A=O.handle_cell_click),"handle_blur"in O&&t(8,v=O.handle_blur),"toggle_cell_menu"in O&&t(9,B=O.toggle_cell_menu),"is_cell_selected"in O&&t(34,w=O.is_cell_selected),"should_show_cell_menu"in O&&t(10,k=O.should_show_cell_menu),"selected_cells"in O&&t(0,p=O.selected_cells),"copy_flash"in O&&t(11,H=O.copy_flash),"active_cell_menu"in O&&t(12,L=O.active_cell_menu),"styling"in O&&t(13,N=O.styling),"latex_delimiters"in O&&t(14,V=O.latex_delimiters),"line_breaks"in O&&t(15,K=O.line_breaks),"datatype"in O&&t(16,I=O.datatype),"editing"in O&&t(17,R=O.editing),"max_chars"in O&&t(18,J=O.max_chars),"editable"in O&&t(19,F=O.editable),"is_static"in O&&t(20,W=O.is_static),"i18n"in O&&t(21,ne=O.i18n),"components"in O&&t(22,ae=O.components),"el"in O&&t(2,ee=O.el),"handle_select_column"in O&&t(23,ce=O.handle_select_column),"handle_select_row"in O&&t(24,be=O.handle_select_row),"is_dragging"in O&&t(25,Ne=O.is_dragging),"display_value"in O&&t(26,de=O.display_value),"wrap"in O&&t(27,D=O.wrap)},l.$$.update=()=>{l.$$.dirty[0]&25|l.$$.dirty[1]&8&&t(35,n=w([o,f],p||[])),l.$$.dirty[0]&25&&t(32,i=Xi([o,f],p)),l.$$.dirty[1]&16&&t(31,s=n.includes("no-top")),l.$$.dirty[1]&16&&t(30,r=n.includes("no-bottom")),l.$$.dirty[1]&16&&t(29,a=n.includes("no-left")),l.$$.dirty[1]&16&&t(28,u=n.includes("no-right"))},[p,_,ee,o,f,c,g,A,v,B,k,H,L,N,V,K,I,R,J,F,W,ne,ae,ce,be,Ne,de,D,u,a,r,s,i,le,w,n,C,y,b,$,M,Te,he]}class is extends Oe{constructor(e){super(),je(this,e,ns,ls,ze,{value:1,index:3,j:4,actual_pinned_columns:5,get_cell_width:6,handle_cell_click:7,handle_blur:8,toggle_cell_menu:9,is_cell_selected:34,should_show_cell_menu:10,selected_cells:0,copy_flash:11,active_cell_menu:12,styling:13,latex_delimiters:14,line_breaks:15,datatype:16,editing:17,max_chars:18,editable:19,is_static:20,i18n:21,components:22,el:2,handle_select_column:23,handle_select_row:24,is_dragging:25,display_value:26,wrap:27},null,[-1,-1])}}function rs(l){let e,t="+",n,i;return{c(){e=P("button"),e.textContent=t,this.h()},l(s){e=U(s,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),et(e)!=="svelte-qq2si4"&&(e.textContent=t),this.h()},h(){h(e,"class","add-row-button svelte-jkwuz7"),h(e,"aria-label","Add row")},m(s,r){z(s,e,r),n||(i=fe(e,"click",function(){Ge(l[0])&&l[0].apply(this,arguments)}),n=!0)},p(s,[r]){l=s},i:Ae,o:Ae,d(s){s&&d(e),n=!1,i()}}}function ss(l,e,t){let{on_click:n}=e;return l.$$set=i=>{"on_click"in i&&t(0,n=i.on_click)},[n]}class as extends Oe{constructor(e){super(),je(this,e,ss,rs,ze,{on_click:0})}}const os=l=>({}),El=l=>({});function Nl(l,e,t){const n=l.slice();return n[38]=e[t],n}const us=l=>({item:l[0]&2048,index:l[0]&2048}),Tl=l=>({item:l[38].data,index:l[38].index}),_s=l=>({}),Cl=l=>({});function Al(l){let e,t;return{c(){e=P("caption"),t=Be(l[3]),this.h()},l(n){e=U(n,"CAPTION",{class:!0});var i=S(e);t=qe(i,l[3]),i.forEach(d),this.h()},h(){h(e,"class","sr-only svelte-zsmsrz")},m(n,i){z(n,e,i),T(e,t)},p(n,i){i[0]&8&&Me(t,n[3])},d(n){n&&d(e)}}}function Sl(l){let e=[],t=new Map,n,i,s=We(l[11]);const r=a=>a[38].data[0].id;for(let a=0;a<s.length;a+=1){let u=Nl(l,s,a),_=r(u);t.set(_,e[a]=Bl(_,u))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=ye()},l(a){for(let u=0;u<e.length;u+=1)e[u].l(a);n=ye()},m(a,u){for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(a,u);z(a,n,u),i=!0},p(a,u){u[0]&16779264&&(s=We(a[11]),me(),e=ft(e,u,r,1,a,s,t,n.parentNode,ct,Bl,n,Nl),ge())},i(a){if(!i){for(let u=0;u<s.length;u+=1)E(e[u]);i=!0}},o(a){for(let u=0;u<e.length;u+=1)q(e[u]);i=!1},d(a){a&&d(n);for(let u=0;u<e.length;u+=1)e[u].d(a)}}}function fs(l){let e,t='<td class="svelte-zsmsrz">Missing Table Row</td>',n;return{c(){e=P("tr"),e.innerHTML=t,n=Q(),this.h()},l(i){e=U(i,"TR",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-18n46x0"&&(e.innerHTML=t),n=Z(i),this.h()},h(){h(e,"class","svelte-zsmsrz")},m(i,s){z(i,e,s),z(i,n,s)},p:Ae,d(i){i&&(d(e),d(n))}}}function Bl(l,e){let t,n;const i=e[25].tbody,s=Vt(i,e,e[24],Tl),r=s||fs();return{key:l,first:null,c(){t=ye(),r&&r.c(),this.h()},l(a){t=ye(),r&&r.l(a),this.h()},h(){this.first=t},m(a,u){z(a,t,u),r&&r.m(a,u),n=!0},p(a,u){e=a,s&&s.p&&(!n||u[0]&16779264)&&Pt(s,i,e,e[24],n?Rt(i,e[24],u,us):Ut(e[24]),Tl)},i(a){n||(E(r,a),n=!0)},o(a){q(r,a),n=!1},d(a){a&&d(t),r&&r.d(a)}}}function cs(l){let e,t,n,i,s,r,a,u,_,o,f,c,g,A,v,B=l[3]&&l[3].length!==0&&Al(l);const w=l[25].thead,k=Vt(w,l,l[24],Cl);let p=l[11].length&&l[11][0].data.length&&Sl(l);const H=l[25].tfoot,L=Vt(H,l,l[24],El);return{c(){e=P("svelte-virtual-table-viewport"),t=P("div"),n=P("table"),B&&B.c(),i=Q(),s=P("thead"),k&&k.c(),a=Q(),u=P("tbody"),p&&p.c(),_=Q(),o=P("tfoot"),L&&L.c(),this.h()},l(N){e=U(N,"SVELTE-VIRTUAL-TABLE-VIEWPORT",{});var V=S(e);t=U(V,"DIV",{});var K=S(t);n=U(K,"TABLE",{class:!0,style:!0});var I=S(n);B&&B.l(I),i=Z(I),s=U(I,"THEAD",{class:!0});var R=S(s);k&&k.l(R),R.forEach(d),a=Z(I),u=U(I,"TBODY",{class:!0});var J=S(u);p&&p.l(J),J.forEach(d),_=Z(I),o=U(I,"TFOOT",{class:!0});var F=S(o);L&&L.l(F),F.forEach(d),I.forEach(d),K.forEach(d),V.forEach(d),this.h()},h(){h(s,"class","thead svelte-zsmsrz"),_l(()=>l[26].call(s)),h(u,"class","tbody svelte-zsmsrz"),h(o,"class","tfoot svelte-zsmsrz"),_l(()=>l[28].call(o)),h(n,"class","table svelte-zsmsrz"),Ve(n,"height",hs),Ve(n,"--bw-svt-p-top",l[10]+"px"),Ve(n,"--bw-svt-p-bottom",l[6]+"px"),Ve(n,"--bw-svt-head-height",l[8]+"px"),Ve(n,"--bw-svt-foot-height",l[9]+"px"),Ve(n,"--bw-svt-avg-row-height",l[4]+"px"),Ve(n,"--max-height",l[1]+"px"),x(n,"disable-scroll",l[2])},m(N,V){z(N,e,V),T(e,t),T(t,n),B&&B.m(n,null),T(n,i),T(n,s),k&&k.m(s,null),r=fl(s,l[26].bind(s)),T(n,a),T(n,u),p&&p.m(u,null),l[27](u),T(n,_),T(n,o),L&&L.m(o,null),f=fl(o,l[28].bind(o)),l[29](n),c=ki.observe(n,l[30].bind(n)),g=!0,A||(v=fe(n,"scroll",l[12]),A=!0)},p(N,V){N[3]&&N[3].length!==0?B?B.p(N,V):(B=Al(N),B.c(),B.m(n,i)):B&&(B.d(1),B=null),k&&k.p&&(!g||V[0]&16777216)&&Pt(k,w,N,N[24],g?Rt(w,N[24],V,_s):Ut(N[24]),Cl),N[11].length&&N[11][0].data.length?p?(p.p(N,V),V[0]&2048&&E(p,1)):(p=Sl(N),p.c(),E(p,1),p.m(u,null)):p&&(me(),q(p,1,1,()=>{p=null}),ge()),L&&L.p&&(!g||V[0]&16777216)&&Pt(L,H,N,N[24],g?Rt(H,N[24],V,os):Ut(N[24]),El),(!g||V[0]&1024)&&Ve(n,"--bw-svt-p-top",N[10]+"px"),(!g||V[0]&64)&&Ve(n,"--bw-svt-p-bottom",N[6]+"px"),(!g||V[0]&256)&&Ve(n,"--bw-svt-head-height",N[8]+"px"),(!g||V[0]&512)&&Ve(n,"--bw-svt-foot-height",N[9]+"px"),(!g||V[0]&16)&&Ve(n,"--bw-svt-avg-row-height",N[4]+"px"),(!g||V[0]&2)&&Ve(n,"--max-height",N[1]+"px"),(!g||V[0]&4)&&x(n,"disable-scroll",N[2])},i(N){g||(E(k,N),E(p),E(L,N),g=!0)},o(N){q(k,N),q(p),q(L,N),g=!1},d(N){N&&d(e),B&&B.d(),k&&k.d(N),r(),p&&p.d(),l[27](null),L&&L.d(N),f(),l[29](null),c(),A=!1,v()}}}let hs="100%";function ds(l,e,t){let n,{$$slots:i={},$$scope:s}=e,{items:r=[]}=e,{max_height:a}=e,{actual_height:u}=e,{table_scrollbar_width:_}=e,{start:o=0}=e,{end:f=20}=e,{selected:c}=e,{disable_scroll:g=!1}=e,{show_scroll_button:A=!1}=e,{viewport:v}=e,{label:B=null}=e;pt();let w=30,k=0,p,H=0,L=0,N=[],V,K,I=0,R=200,J=[],F;const W=typeof window<"u",ne=W?window.requestAnimationFrame:y=>y();async function ae(){if(!v)return;n.length<o&&await be(n.length-1,{behavior:"auto"});const y=Math.max(0,v.scrollTop);t(17,A=y>100),t(16,_=v.offsetWidth-v.clientWidth);for(let X=0;X<K.length;X+=1)N[o+X]=K[X].getBoundingClientRect().height;let b=0,$=H;for(;b<n.length;){const X=N[b]||w;if($+X>y-a){t(13,o=b),t(10,I=$-H);break}$+=X,b+=1}let M=H;for(;b<n.length;){const X=N[b]||w;if(M+=X,b+=1,M-H>3*a)break}t(14,f=b);const Te=n.length-f,he=v.offsetHeight-v.clientHeight;he>0&&(M+=he);let O=N.filter(X=>typeof X=="number");for(t(4,w=O.reduce((X,He)=>X+He,0)/O.length||30),t(6,k=Te*w),isFinite(k)||t(6,k=2e5),N.length=n.length;b<n.length;)b+=1,N[b]=w;a&&M>a?t(15,u=a):t(15,u=M)}async function ee(y){ne(async()=>{if(typeof y!="number")return;const b=typeof y!="number"?!1:ce(y);b!==!0&&(b==="back"&&await be(y,{behavior:"instant"}),b==="forwards"&&await be(y,{behavior:"instant"},!0))})}function ce(y){const b=K&&K[y-o];if(!b&&y<o)return"back";if(!b&&y>=f-1)return"forwards";const{top:$}=v.getBoundingClientRect(),{top:M,bottom:Te}=b.getBoundingClientRect();return M-$<37?"back":Te-$>R?"forwards":!0}async function be(y,b,$=!1){await rt();const M=w;let Te=y*M;$&&(Te=Te-R+M+H);const he=v.offsetHeight-v.clientHeight;he>0&&(Te+=he);const O={top:Te,behavior:"smooth",...b};v.scrollTo(O)}_t(()=>{K=p.children,t(21,V=!0)});function Ne(){H=this.offsetHeight,t(8,H)}function de(y){pe[y?"unshift":"push"](()=>{p=y,t(7,p)})}function D(){L=this.offsetHeight,t(9,L)}function le(y){pe[y?"unshift":"push"](()=>{v=y,t(0,v)})}function C(){var y;F=(y=vi.entries.get(this))==null?void 0:y.contentRect,t(5,F)}return l.$$set=y=>{"items"in y&&t(18,r=y.items),"max_height"in y&&t(1,a=y.max_height),"actual_height"in y&&t(15,u=y.actual_height),"table_scrollbar_width"in y&&t(16,_=y.table_scrollbar_width),"start"in y&&t(13,o=y.start),"end"in y&&t(14,f=y.end),"selected"in y&&t(19,c=y.selected),"disable_scroll"in y&&t(2,g=y.disable_scroll),"show_scroll_button"in y&&t(17,A=y.show_scroll_button),"viewport"in y&&t(0,v=y.viewport),"label"in y&&t(3,B=y.label),"$$scope"in y&&t(24,s=y.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&32&&t(22,R=(F==null?void 0:F.height)||200),l.$$.dirty[0]&262144&&t(23,n=r),l.$$.dirty[0]&14680065&&V&&R&&v.offsetParent&&ne(ae),l.$$.dirty[0]&524288&&ee(c),l.$$.dirty[0]&8413202&&t(11,J=W?n.slice(o,f).map((y,b)=>({index:b+o,data:y})):n.slice(0,a/n.length*w+1).map((y,b)=>({index:b+o,data:y})))},[v,a,g,B,w,F,k,p,H,L,I,J,ae,o,f,u,_,A,r,c,be,V,R,n,s,i,Ne,de,D,le,C]}class ms extends Oe{constructor(e){super(),je(this,e,ds,cs,ze,{items:18,max_height:1,actual_height:15,table_scrollbar_width:16,start:13,end:14,selected:19,disable_scroll:2,show_scroll_button:17,viewport:0,label:3,scroll_to_index:20},null,[-1,-1])}get scroll_to_index(){return this.$$.ctx[20]}}function ql(l,e,t){const n=l.slice();return n[15]=e[t],n}function Ml(l){let e,t=We(l[6][l[2]]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Dl(ql(l,t,i));return{c(){e=P("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=U(i,"DIV",{class:!0});var s=S(e);for(let r=0;r<n.length;r+=1)n[r].l(s);s.forEach(d),this.h()},h(){h(e,"class","dropdown-filter-options svelte-1nf5kyf")},m(i,s){z(i,e,s);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(i,s){if(s&92){t=We(i[6][i[2]]);let r;for(r=0;r<t.length;r+=1){const a=ql(i,t,r);n[r]?n[r].p(a,s):(n[r]=Dl(a),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&d(e),pi(n,i)}}}function Dl(l){let e,t=l[15]+"",n,i,s,r;function a(){return l[11](l[15])}return{c(){e=P("button"),n=Be(t),i=Q(),this.h()},l(u){e=U(u,"BUTTON",{class:!0});var _=S(e);n=qe(_,t),i=Z(_),_.forEach(d),this.h()},h(){h(e,"class","filter-option svelte-1nf5kyf")},m(u,_){z(u,e,_),T(e,n),T(e,i),s||(r=fe(e,"click",Xe(a)),s=!0)},p(u,_){l=u,_&4&&t!==(t=l[15]+"")&&Me(n,t)},d(u){u&&d(e),s=!1,r()}}}function gs(l){let e,t,n,i,s,r,a="Filter as",u,_,o,f,c,g,A,v,B,w,k,p,H,L,N,V,K,I,R,J,F;k=new ji({});let W=l[4]&&Ml(l);return I=new Ft({}),{c(){e=P("div"),t=P("div"),n=Q(),i=P("div"),s=P("div"),r=P("span"),r.textContent=a,u=Q(),_=P("button"),o=Be(l[2]),c=Q(),g=P("div"),A=P("div"),v=P("button"),B=Be(l[3]),w=Q(),ie(k.$$.fragment),H=Q(),W&&W.c(),L=Q(),N=P("input"),V=Q(),K=P("button"),ie(I.$$.fragment),this.h()},l(ne){e=U(ne,"DIV",{});var ae=S(e);t=U(ae,"DIV",{class:!0}),S(t).forEach(d),n=Z(ae),i=U(ae,"DIV",{class:!0});var ee=S(i);s=U(ee,"DIV",{class:!0});var ce=S(s);r=U(ce,"SPAN",{class:!0,"data-svelte-h":!0}),et(r)!=="svelte-1ox9ptg"&&(r.textContent=a),u=Z(ce),_=U(ce,"BUTTON",{"aria-label":!0,class:!0});var be=S(_);o=qe(be,l[2]),be.forEach(d),ce.forEach(d),c=Z(ee),g=U(ee,"DIV",{class:!0});var Ne=S(g);A=U(Ne,"DIV",{class:!0});var de=S(A);v=U(de,"BUTTON",{"aria-label":!0,class:!0});var D=S(v);B=qe(D,l[3]),w=Z(D),_e(k.$$.fragment,D),D.forEach(d),H=Z(de),W&&W.l(de),de.forEach(d),L=Z(Ne),N=U(Ne,"INPUT",{type:!0,placeholder:!0,class:!0}),Ne.forEach(d),V=Z(ee),K=U(ee,"BUTTON",{class:!0});var le=S(K);_e(I.$$.fragment,le),le.forEach(d),ee.forEach(d),ae.forEach(d),this.h()},h(){h(t,"class","background svelte-1nf5kyf"),h(r,"class","svelte-1nf5kyf"),h(_,"aria-label",f=`Change filter type. Filtering ${l[2]}s`),h(_,"class","svelte-1nf5kyf"),h(s,"class","filter-datatype-container svelte-1nf5kyf"),h(v,"aria-label",p=`Change filter. Using '${l[3]}'`),h(v,"class","svelte-1nf5kyf"),h(A,"class","filter-dropdown"),h(N,"type","text"),N.value=l[5],h(N,"placeholder","Type a value"),h(N,"class","filter-input svelte-1nf5kyf"),h(g,"class","input-container svelte-1nf5kyf"),h(K,"class","check-button svelte-1nf5kyf"),h(i,"class","filter-menu svelte-1nf5kyf")},m(ne,ae){z(ne,e,ae),T(e,t),T(e,n),T(e,i),T(i,s),T(s,r),T(s,u),T(s,_),T(_,o),T(i,c),T(i,g),T(g,A),T(A,v),T(v,B),T(v,w),re(k,v,null),T(A,H),W&&W.m(A,null),T(g,L),T(g,N),T(i,V),T(i,K),re(I,K,null),l[13](i),R=!0,J||(F=[fe(_,"click",Xe(l[9])),fe(v,"click",Xe(l[10])),fe(N,"click",Xe(l[8])),fe(N,"input",l[7]),fe(K,"click",l[12])],J=!0)},p(ne,[ae]){(!R||ae&4)&&Me(o,ne[2]),(!R||ae&4&&f!==(f=`Change filter type. Filtering ${ne[2]}s`))&&h(_,"aria-label",f),(!R||ae&8)&&Me(B,ne[3]),(!R||ae&8&&p!==(p=`Change filter. Using '${ne[3]}'`))&&h(v,"aria-label",p),ne[4]?W?W.p(ne,ae):(W=Ml(ne),W.c(),W.m(A,null)):W&&(W.d(1),W=null),(!R||ae&32&&N.value!==ne[5])&&(N.value=ne[5])},i(ne){R||(E(k.$$.fragment,ne),E(I.$$.fragment,ne),R=!0)},o(ne){q(k.$$.fragment,ne),q(I.$$.fragment,ne),R=!1},d(ne){ne&&d(e),se(k),W&&W.d(),se(I),l[13](null),J=!1,Qe(F)}}}function bs(l,e,t){let{on_filter:n=()=>{}}=e,i,s="string",r="Contains",a=!1,u="";const _={string:["Contains","Does not contain","Starts with","Ends with","Is","Is not","Is empty","Is not empty"],number:["=","≠",">","<","≥","≤","Is empty","Is not empty"]};_t(()=>{o()});function o(){if(!i)return;const k=window.innerWidth,p=window.innerHeight,H=i.getBoundingClientRect(),L=(k-H.width)/2,N=(p-H.height)/2;t(1,i.style.left=`${L}px`,i),t(1,i.style.top=`${N}px`,i)}function f(k){const p=k.target;t(5,u=p.value)}function c(k){$e.call(this,l,k)}const g=()=>{t(2,s=s==="string"?"number":"string"),t(3,r=_[s][0])},A=()=>t(4,a=!a),v=k=>{t(3,r=k),t(4,a=!a)},B=()=>n(s,r,u);function w(k){pe[k?"unshift":"push"](()=>{i=k,t(1,i)})}return l.$$set=k=>{"on_filter"in k&&t(0,n=k.on_filter)},[n,i,s,r,a,u,_,f,c,g,A,v,B,w]}class ws extends Oe{constructor(e){super(),je(this,e,bs,gs,ze,{on_filter:0})}}function Il(l){let e,t,n,i=l[15]("dataframe.sort_ascending")+"",s,r,a,u,_,o,f=l[15]("dataframe.sort_descending")+"",c,g,A,v,B,w,k=l[15]("dataframe.clear_sort")+"",p,H,L,N,V,K=l[15]("dataframe.filter")+"",I,R,J,F,W,ne,ae=l[15]("dataframe.clear_filter")+"",ee,ce,be,Ne;t=new Ke({props:{icon:"sort-asc"}});let de=l[10]==="asc"&&l[11]!==null&&Ll(l);_=new Ke({props:{icon:"sort-desc"}});let D=l[10]==="desc"&&l[11]!==null&&Ol(l);B=new Ke({props:{icon:"clear-sort"}}),N=new Ke({props:{icon:"filter"}});let le=l[14]&&jl();return W=new Ke({props:{icon:"clear-filter"}}),{c(){e=P("button"),ie(t.$$.fragment),n=Q(),s=Be(i),r=Q(),de&&de.c(),a=Q(),u=P("button"),ie(_.$$.fragment),o=Q(),c=Be(f),g=Q(),D&&D.c(),A=Q(),v=P("button"),ie(B.$$.fragment),w=Q(),p=Be(k),H=Q(),L=P("button"),ie(N.$$.fragment),V=Q(),I=Be(K),R=Q(),le&&le.c(),J=Q(),F=P("button"),ie(W.$$.fragment),ne=Q(),ee=Be(ae),this.h()},l(C){e=U(C,"BUTTON",{role:!0,class:!0});var y=S(e);_e(t.$$.fragment,y),n=Z(y),s=qe(y,i),r=Z(y),de&&de.l(y),y.forEach(d),a=Z(C),u=U(C,"BUTTON",{role:!0,class:!0});var b=S(u);_e(_.$$.fragment,b),o=Z(b),c=qe(b,f),g=Z(b),D&&D.l(b),b.forEach(d),A=Z(C),v=U(C,"BUTTON",{role:!0,class:!0});var $=S(v);_e(B.$$.fragment,$),w=Z($),p=qe($,k),$.forEach(d),H=Z(C),L=U(C,"BUTTON",{role:!0,class:!0});var M=S(L);_e(N.$$.fragment,M),V=Z(M),I=qe(M,K),R=Z(M),le&&le.l(M),M.forEach(d),J=Z(C),F=U(C,"BUTTON",{role:!0,class:!0});var Te=S(F);_e(W.$$.fragment,Te),ne=Z(Te),ee=qe(Te,ae),Te.forEach(d),this.h()},h(){h(e,"role","menuitem"),h(e,"class","svelte-42thj4"),x(e,"active",l[10]==="asc"),h(u,"role","menuitem"),h(u,"class","svelte-42thj4"),x(u,"active",l[10]==="desc"),h(v,"role","menuitem"),h(v,"class","svelte-42thj4"),h(L,"role","menuitem"),h(L,"class","svelte-42thj4"),x(L,"active",l[14]||l[17]),h(F,"role","menuitem"),h(F,"class","svelte-42thj4")},m(C,y){z(C,e,y),re(t,e,null),T(e,n),T(e,s),T(e,r),de&&de.m(e,null),z(C,a,y),z(C,u,y),re(_,u,null),T(u,o),T(u,c),T(u,g),D&&D.m(u,null),z(C,A,y),z(C,v,y),re(B,v,null),T(v,w),T(v,p),z(C,H,y),z(C,L,y),re(N,L,null),T(L,V),T(L,I),T(L,R),le&&le.m(L,null),z(C,J,y),z(C,F,y),re(W,F,null),T(F,ne),T(F,ee),ce=!0,be||(Ne=[fe(e,"click",l[28]),fe(u,"click",l[29]),fe(v,"click",function(){Ge(l[9])&&l[9].apply(this,arguments)}),fe(L,"click",Xe(l[21])),fe(F,"click",function(){Ge(l[13])&&l[13].apply(this,arguments)})],be=!0)},p(C,y){l=C,(!ce||y[0]&32768)&&i!==(i=l[15]("dataframe.sort_ascending")+"")&&Me(s,i),l[10]==="asc"&&l[11]!==null?de?de.p(l,y):(de=Ll(l),de.c(),de.m(e,null)):de&&(de.d(1),de=null),(!ce||y[0]&1024)&&x(e,"active",l[10]==="asc"),(!ce||y[0]&32768)&&f!==(f=l[15]("dataframe.sort_descending")+"")&&Me(c,f),l[10]==="desc"&&l[11]!==null?D?D.p(l,y):(D=Ol(l),D.c(),D.m(u,null)):D&&(D.d(1),D=null),(!ce||y[0]&1024)&&x(u,"active",l[10]==="desc"),(!ce||y[0]&32768)&&k!==(k=l[15]("dataframe.clear_sort")+"")&&Me(p,k),(!ce||y[0]&32768)&&K!==(K=l[15]("dataframe.filter")+"")&&Me(I,K),l[14]?le||(le=jl(),le.c(),le.m(L,null)):le&&(le.d(1),le=null),(!ce||y[0]&147456)&&x(L,"active",l[14]||l[17]),(!ce||y[0]&32768)&&ae!==(ae=l[15]("dataframe.clear_filter")+"")&&Me(ee,ae)},i(C){ce||(E(t.$$.fragment,C),E(_.$$.fragment,C),E(B.$$.fragment,C),E(N.$$.fragment,C),E(W.$$.fragment,C),ce=!0)},o(C){q(t.$$.fragment,C),q(_.$$.fragment,C),q(B.$$.fragment,C),q(N.$$.fragment,C),q(W.$$.fragment,C),ce=!1},d(C){C&&(d(e),d(a),d(u),d(A),d(v),d(H),d(L),d(J),d(F)),se(t),de&&de.d(),se(_),D&&D.d(),se(B),se(N),le&&le.d(),se(W),be=!1,Qe(Ne)}}}function Ll(l){let e,t;return{c(){e=P("span"),t=Be(l[11]),this.h()},l(n){e=U(n,"SPAN",{class:!0});var i=S(e);t=qe(i,l[11]),i.forEach(d),this.h()},h(){h(e,"class","priority svelte-42thj4")},m(n,i){z(n,e,i),T(e,t)},p(n,i){i[0]&2048&&Me(t,n[11])},d(n){n&&d(e)}}}function Ol(l){let e,t;return{c(){e=P("span"),t=Be(l[11]),this.h()},l(n){e=U(n,"SPAN",{class:!0});var i=S(e);t=qe(i,l[11]),i.forEach(d),this.h()},h(){h(e,"class","priority svelte-42thj4")},m(n,i){z(n,e,i),T(e,t)},p(n,i){i[0]&2048&&Me(t,n[11])},d(n){n&&d(e)}}}function jl(l){let e,t="1";return{c(){e=P("span"),e.textContent=t,this.h()},l(n){e=U(n,"SPAN",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-1abh2by"&&(e.textContent=t),this.h()},h(){h(e,"class","priority svelte-42thj4")},m(n,i){z(n,e,i)},d(n){n&&d(e)}}}function zl(l){let e,t,n,i=l[15]("dataframe.add_row_above")+"",s,r,a,u,_,o=l[15]("dataframe.add_row_below")+"",f,c,g,A,v,B;t=new Ke({props:{icon:"add-row-above"}}),u=new Ke({props:{icon:"add-row-below"}});let w=l[6]&&Hl(l);return{c(){e=P("button"),ie(t.$$.fragment),n=Q(),s=Be(i),r=Q(),a=P("button"),ie(u.$$.fragment),_=Q(),f=Be(o),c=Q(),w&&w.c(),g=ye(),this.h()},l(k){e=U(k,"BUTTON",{role:!0,"aria-label":!0,class:!0});var p=S(e);_e(t.$$.fragment,p),n=Z(p),s=qe(p,i),p.forEach(d),r=Z(k),a=U(k,"BUTTON",{role:!0,"aria-label":!0,class:!0});var H=S(a);_e(u.$$.fragment,H),_=Z(H),f=qe(H,o),H.forEach(d),c=Z(k),w&&w.l(k),g=ye(),this.h()},h(){h(e,"role","menuitem"),h(e,"aria-label","Add row above"),h(e,"class","svelte-42thj4"),h(a,"role","menuitem"),h(a,"aria-label","Add row below"),h(a,"class","svelte-42thj4")},m(k,p){z(k,e,p),re(t,e,null),T(e,n),T(e,s),z(k,r,p),z(k,a,p),re(u,a,null),T(a,_),T(a,f),z(k,c,p),w&&w.m(k,p),z(k,g,p),A=!0,v||(B=[fe(e,"click",l[30]),fe(a,"click",l[31])],v=!0)},p(k,p){(!A||p[0]&32768)&&i!==(i=k[15]("dataframe.add_row_above")+"")&&Me(s,i),(!A||p[0]&32768)&&o!==(o=k[15]("dataframe.add_row_below")+"")&&Me(f,o),k[6]?w?(w.p(k,p),p[0]&64&&E(w,1)):(w=Hl(k),w.c(),E(w,1),w.m(g.parentNode,g)):w&&(me(),q(w,1,1,()=>{w=null}),ge())},i(k){A||(E(t.$$.fragment,k),E(u.$$.fragment,k),E(w),A=!0)},o(k){q(t.$$.fragment,k),q(u.$$.fragment,k),q(w),A=!1},d(k){k&&(d(e),d(r),d(a),d(c),d(g)),se(t),se(u),w&&w.d(k),v=!1,Qe(B)}}}function Hl(l){let e,t,n,i=l[15]("dataframe.delete_row")+"",s,r,a,u;return t=new Ke({props:{icon:"delete-row"}}),{c(){e=P("button"),ie(t.$$.fragment),n=Q(),s=Be(i),this.h()},l(_){e=U(_,"BUTTON",{role:!0,class:!0,"aria-label":!0});var o=S(e);_e(t.$$.fragment,o),n=Z(o),s=qe(o,i),o.forEach(d),this.h()},h(){h(e,"role","menuitem"),h(e,"class","delete svelte-42thj4"),h(e,"aria-label","Delete row")},m(_,o){z(_,e,o),re(t,e,null),T(e,n),T(e,s),r=!0,a||(u=fe(e,"click",function(){Ge(l[4])&&l[4].apply(this,arguments)}),a=!0)},p(_,o){l=_,(!r||o[0]&32768)&&i!==(i=l[15]("dataframe.delete_row")+"")&&Me(s,i)},i(_){r||(E(t.$$.fragment,_),r=!0)},o(_){q(t.$$.fragment,_),r=!1},d(_){_&&d(e),se(t),a=!1,u()}}}function Vl(l){let e,t,n,i=l[15]("dataframe.add_column_left")+"",s,r,a,u,_,o=l[15]("dataframe.add_column_right")+"",f,c,g,A,v,B;t=new Ke({props:{icon:"add-column-left"}}),u=new Ke({props:{icon:"add-column-right"}});let w=l[7]&&Pl(l);return{c(){e=P("button"),ie(t.$$.fragment),n=Q(),s=Be(i),r=Q(),a=P("button"),ie(u.$$.fragment),_=Q(),f=Be(o),c=Q(),w&&w.c(),g=ye(),this.h()},l(k){e=U(k,"BUTTON",{role:!0,"aria-label":!0,class:!0});var p=S(e);_e(t.$$.fragment,p),n=Z(p),s=qe(p,i),p.forEach(d),r=Z(k),a=U(k,"BUTTON",{role:!0,"aria-label":!0,class:!0});var H=S(a);_e(u.$$.fragment,H),_=Z(H),f=qe(H,o),H.forEach(d),c=Z(k),w&&w.l(k),g=ye(),this.h()},h(){h(e,"role","menuitem"),h(e,"aria-label","Add column to the left"),h(e,"class","svelte-42thj4"),h(a,"role","menuitem"),h(a,"aria-label","Add column to the right"),h(a,"class","svelte-42thj4")},m(k,p){z(k,e,p),re(t,e,null),T(e,n),T(e,s),z(k,r,p),z(k,a,p),re(u,a,null),T(a,_),T(a,f),z(k,c,p),w&&w.m(k,p),z(k,g,p),A=!0,v||(B=[fe(e,"click",l[32]),fe(a,"click",l[33])],v=!0)},p(k,p){(!A||p[0]&32768)&&i!==(i=k[15]("dataframe.add_column_left")+"")&&Me(s,i),(!A||p[0]&32768)&&o!==(o=k[15]("dataframe.add_column_right")+"")&&Me(f,o),k[7]?w?(w.p(k,p),p[0]&128&&E(w,1)):(w=Pl(k),w.c(),E(w,1),w.m(g.parentNode,g)):w&&(me(),q(w,1,1,()=>{w=null}),ge())},i(k){A||(E(t.$$.fragment,k),E(u.$$.fragment,k),E(w),A=!0)},o(k){q(t.$$.fragment,k),q(u.$$.fragment,k),q(w),A=!1},d(k){k&&(d(e),d(r),d(a),d(c),d(g)),se(t),se(u),w&&w.d(k),v=!1,Qe(B)}}}function Pl(l){let e,t,n,i=l[15]("dataframe.delete_column")+"",s,r,a,u;return t=new Ke({props:{icon:"delete-column"}}),{c(){e=P("button"),ie(t.$$.fragment),n=Q(),s=Be(i),this.h()},l(_){e=U(_,"BUTTON",{role:!0,class:!0,"aria-label":!0});var o=S(e);_e(t.$$.fragment,o),n=Z(o),s=qe(o,i),o.forEach(d),this.h()},h(){h(e,"role","menuitem"),h(e,"class","delete svelte-42thj4"),h(e,"aria-label","Delete column")},m(_,o){z(_,e,o),re(t,e,null),T(e,n),T(e,s),r=!0,a||(u=fe(e,"click",function(){Ge(l[5])&&l[5].apply(this,arguments)}),a=!0)},p(_,o){l=_,(!r||o[0]&32768)&&i!==(i=l[15]("dataframe.delete_column")+"")&&Me(s,i)},i(_){r||(E(t.$$.fragment,_),r=!0)},o(_){q(t.$$.fragment,_),r=!1},d(_){_&&d(e),se(t),a=!1,u()}}}function Ul(l){let e,t;return e=new ws({props:{on_filter:l[12]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[0]&4096&&(s.on_filter=n[12]),e.$set(s)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function ks(l){let e,t,n,i,s,r,a=l[20]&&Il(l),u=!l[20]&&l[19]&&zl(l),_=l[18]&&Vl(l),o=l[17]&&Ul(l);return{c(){e=P("div"),a&&a.c(),t=Q(),u&&u.c(),n=Q(),_&&_.c(),i=Q(),o&&o.c(),s=ye(),this.h()},l(f){e=U(f,"DIV",{class:!0,role:!0});var c=S(e);a&&a.l(c),t=Z(c),u&&u.l(c),n=Z(c),_&&_.l(c),c.forEach(d),i=Z(f),o&&o.l(f),s=ye(),this.h()},h(){h(e,"class","cell-menu svelte-42thj4"),h(e,"role","menu")},m(f,c){z(f,e,c),a&&a.m(e,null),T(e,t),u&&u.m(e,null),T(e,n),_&&_.m(e,null),l[34](e),z(f,i,c),o&&o.m(f,c),z(f,s,c),r=!0},p(f,c){f[20]?a?(a.p(f,c),c[0]&1048576&&E(a,1)):(a=Il(f),a.c(),E(a,1),a.m(e,t)):a&&(me(),q(a,1,1,()=>{a=null}),ge()),!f[20]&&f[19]?u?(u.p(f,c),c[0]&1572864&&E(u,1)):(u=zl(f),u.c(),E(u,1),u.m(e,n)):u&&(me(),q(u,1,1,()=>{u=null}),ge()),f[18]?_?(_.p(f,c),c[0]&262144&&E(_,1)):(_=Vl(f),_.c(),E(_,1),_.m(e,null)):_&&(me(),q(_,1,1,()=>{_=null}),ge()),f[17]?o?(o.p(f,c),c[0]&131072&&E(o,1)):(o=Ul(f),o.c(),E(o,1),o.m(s.parentNode,s)):o&&(me(),q(o,1,1,()=>{o=null}),ge())},i(f){r||(E(a),E(u),E(_),E(o),r=!0)},o(f){q(a),q(u),q(_),q(o),r=!1},d(f){f&&(d(e),d(i),d(s)),a&&a.d(),u&&u.d(),_&&_.d(),l[34](null),o&&o.d(f)}}}function vs(l,e,t){let n,i,s,{x:r}=e,{y:a}=e,{on_add_row_above:u}=e,{on_add_row_below:_}=e,{on_add_column_left:o}=e,{on_add_column_right:f}=e,{row:c}=e,{col_count:g}=e,{row_count:A}=e,{on_delete_row:v}=e,{on_delete_col:B}=e,{can_delete_rows:w}=e,{can_delete_cols:k}=e,{on_sort:p=()=>{}}=e,{on_clear_sort:H=()=>{}}=e,{sort_direction:L=null}=e,{sort_priority:N=null}=e,{on_filter:V=()=>{}}=e,{on_clear_filter:K=()=>{}}=e,{filter_active:I=null}=e,{editable:R=!0}=e,{i18n:J}=e,F,W=null;_t(()=>{ne()});function ne(){if(!F)return;const C=window.innerWidth,y=window.innerHeight,b=F.getBoundingClientRect();let $=r-30,M=a-20;$+b.width>C&&($=r-b.width+10),M+b.height>y&&(M=a-b.height+10),t(16,F.style.left=`${$}px`,F),t(16,F.style.top=`${M}px`,F)}function ae(){if(I){V("string","","");return}const C=F.getBoundingClientRect();t(17,W={x:C.right,y:C.top+C.height/2})}const ee=()=>p("asc"),ce=()=>p("desc"),be=()=>u(),Ne=()=>_(),de=()=>o(),D=()=>f();function le(C){pe[C?"unshift":"push"](()=>{F=C,t(16,F)})}return l.$$set=C=>{"x"in C&&t(22,r=C.x),"y"in C&&t(23,a=C.y),"on_add_row_above"in C&&t(0,u=C.on_add_row_above),"on_add_row_below"in C&&t(1,_=C.on_add_row_below),"on_add_column_left"in C&&t(2,o=C.on_add_column_left),"on_add_column_right"in C&&t(3,f=C.on_add_column_right),"row"in C&&t(24,c=C.row),"col_count"in C&&t(25,g=C.col_count),"row_count"in C&&t(26,A=C.row_count),"on_delete_row"in C&&t(4,v=C.on_delete_row),"on_delete_col"in C&&t(5,B=C.on_delete_col),"can_delete_rows"in C&&t(6,w=C.can_delete_rows),"can_delete_cols"in C&&t(7,k=C.can_delete_cols),"on_sort"in C&&t(8,p=C.on_sort),"on_clear_sort"in C&&t(9,H=C.on_clear_sort),"sort_direction"in C&&t(10,L=C.sort_direction),"sort_priority"in C&&t(11,N=C.sort_priority),"on_filter"in C&&t(12,V=C.on_filter),"on_clear_filter"in C&&t(13,K=C.on_clear_filter),"filter_active"in C&&t(14,I=C.filter_active),"editable"in C&&t(27,R=C.editable),"i18n"in C&&t(15,J=C.i18n)},l.$$.update=()=>{l.$$.dirty[0]&16777216&&t(20,n=c===-1),l.$$.dirty[0]&201326592&&t(19,i=R&&A[1]==="dynamic"),l.$$.dirty[0]&167772160&&t(18,s=R&&g[1]==="dynamic")},[u,_,o,f,v,B,w,k,p,H,L,N,V,K,I,J,F,W,s,i,n,ae,r,a,c,g,A,R,ee,ce,be,Ne,de,D,le]}class ps extends Oe{constructor(e){super(),je(this,e,vs,ks,ze,{x:22,y:23,on_add_row_above:0,on_add_row_below:1,on_add_column_left:2,on_add_column_right:3,row:24,col_count:25,row_count:26,on_delete_row:4,on_delete_col:5,can_delete_rows:6,can_delete_cols:7,on_sort:8,on_clear_sort:9,sort_direction:10,sort_priority:11,on_filter:12,on_clear_filter:13,filter_active:14,editable:27,i18n:15},null,[-1,-1])}}function Rl(l){let e,t,n,i,s,r,a,u,_,o=l[0]&&l[3]==="filter"&&Fl(l);return{c(){e=P("div"),t=P("input"),r=Q(),o&&o.c(),this.h()},l(f){e=U(f,"DIV",{class:!0});var c=S(e);t=U(c,"INPUT",{type:!0,placeholder:!0,class:!0,title:!0}),r=Z(c),o&&o.l(c),c.forEach(d),this.h()},h(){h(t,"type","text"),t.value=n=l[0]||"",h(t,"placeholder",i=l[3]==="filter"?"Filter...":"Search..."),h(t,"class","search-input svelte-gxwu54"),h(t,"title",s=`Enter text to ${l[3]} the table`),x(t,"filter-mode",l[3]==="filter"),h(e,"class","search-container svelte-gxwu54")},m(f,c){z(f,e,c),T(e,t),T(e,r),o&&o.m(e,null),a=!0,u||(_=fe(t,"input",l[7]),u=!0)},p(f,c){(!a||c&1&&n!==(n=f[0]||"")&&t.value!==n)&&(t.value=n),(!a||c&8&&i!==(i=f[3]==="filter"?"Filter...":"Search..."))&&h(t,"placeholder",i),(!a||c&8&&s!==(s=`Enter text to ${f[3]} the table`))&&h(t,"title",s),(!a||c&8)&&x(t,"filter-mode",f[3]==="filter"),f[0]&&f[3]==="filter"?o?(o.p(f,c),c&9&&E(o,1)):(o=Fl(f),o.c(),E(o,1),o.m(e,null)):o&&(me(),q(o,1,1,()=>{o=null}),ge())},i(f){a||(E(o),a=!0)},o(f){q(o),a=!1},d(f){f&&d(e),o&&o.d(),u=!1,_()}}}function Fl(l){let e,t,n,i,s;return t=new Ft({}),{c(){e=P("button"),ie(t.$$.fragment),this.h()},l(r){e=U(r,"BUTTON",{class:!0,"aria-label":!0,title:!0});var a=S(e);_e(t.$$.fragment,a),a.forEach(d),this.h()},h(){h(e,"class","toolbar-button check-button svelte-gxwu54"),h(e,"aria-label","Apply filter and update dataframe values"),h(e,"title","Apply filter and update dataframe values")},m(r,a){z(r,e,a),re(t,e,null),n=!0,i||(s=fe(e,"click",function(){Ge(l[5])&&l[5].apply(this,arguments)}),i=!0)},p(r,a){l=r},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){q(t.$$.fragment,r),n=!1},d(r){r&&d(e),se(t),i=!1,s()}}}function Jl(l){let e,t,n,i,s,r,a,u;const _=[Es,ys],o=[];function f(c,g){return c[6]?0:1}return t=f(l),n=o[t]=_[t](l),{c(){e=P("button"),n.c(),this.h()},l(c){e=U(c,"BUTTON",{class:!0,"aria-label":!0,title:!0});var g=S(e);n.l(g),g.forEach(d),this.h()},h(){h(e,"class","toolbar-button svelte-gxwu54"),h(e,"aria-label",i=l[6]?"Copied to clipboard":"Copy table data"),h(e,"title",s=l[6]?"Copied to clipboard":"Copy table data")},m(c,g){z(c,e,g),o[t].m(e,null),r=!0,a||(u=fe(e,"click",l[8]),a=!0)},p(c,g){let A=t;t=f(c),t!==A&&(me(),q(o[A],1,1,()=>{o[A]=null}),ge(),n=o[t],n||(n=o[t]=_[t](c),n.c()),E(n,1),n.m(e,null)),(!r||g&64&&i!==(i=c[6]?"Copied to clipboard":"Copy table data"))&&h(e,"aria-label",i),(!r||g&64&&s!==(s=c[6]?"Copied to clipboard":"Copy table data"))&&h(e,"title",s)},i(c){r||(E(n),r=!0)},o(c){q(n),r=!1},d(c){c&&d(e),o[t].d(),a=!1,u()}}}function ys(l){let e,t;return e=new Mi({}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Es(l){let e,t;return e=new Ft({}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Kl(l){let e,t;return e=new zi({props:{fullscreen:l[4]}}),e.$on("fullscreen",l[10]),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i&16&&(s.fullscreen=n[4]),e.$set(s)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Ns(l){let e,t,n,i,s,r=l[3]!=="none"&&Rl(l),a=l[2]&&Jl(l),u=l[1]&&Kl(l);return{c(){e=P("div"),t=P("div"),r&&r.c(),n=Q(),a&&a.c(),i=Q(),u&&u.c(),this.h()},l(_){e=U(_,"DIV",{class:!0,role:!0,"aria-label":!0});var o=S(e);t=U(o,"DIV",{class:!0});var f=S(t);r&&r.l(f),n=Z(f),a&&a.l(f),i=Z(f),u&&u.l(f),f.forEach(d),o.forEach(d),this.h()},h(){h(t,"class","toolbar-buttons svelte-gxwu54"),h(e,"class","toolbar svelte-gxwu54"),h(e,"role","toolbar"),h(e,"aria-label","Table actions")},m(_,o){z(_,e,o),T(e,t),r&&r.m(t,null),T(t,n),a&&a.m(t,null),T(t,i),u&&u.m(t,null),s=!0},p(_,[o]){_[3]!=="none"?r?(r.p(_,o),o&8&&E(r,1)):(r=Rl(_),r.c(),E(r,1),r.m(t,n)):r&&(me(),q(r,1,1,()=>{r=null}),ge()),_[2]?a?(a.p(_,o),o&4&&E(a,1)):(a=Jl(_),a.c(),E(a,1),a.m(t,i)):a&&(me(),q(a,1,1,()=>{a=null}),ge()),_[1]?u?(u.p(_,o),o&2&&E(u,1)):(u=Kl(_),u.c(),E(u,1),u.m(t,null)):u&&(me(),q(u,1,1,()=>{u=null}),ge())},i(_){s||(E(r),E(a),E(u),s=!0)},o(_){q(r),q(a),q(u),s=!1},d(_){_&&d(e),r&&r.d(),a&&a.d(),u&&u.d()}}}function Ts(l,e,t){let{show_fullscreen_button:n=!1}=e,{show_copy_button:i=!1}=e,{show_search:s="none"}=e,{fullscreen:r=!1}=e,{on_copy:a}=e,{on_commit_filter:u}=e;const _=pt();let o=!1,f,{current_search_query:c=null}=e,g="";function A(k){g=k.target.value;const H=g||null;c!==H&&(t(0,c=H),_("search",c))}function v(){t(6,o=!0),f&&clearTimeout(f),f=setTimeout(()=>{t(6,o=!1)},2e3)}async function B(){await a(),v()}yi(()=>{f&&clearTimeout(f)});function w(k){$e.call(this,l,k)}return l.$$set=k=>{"show_fullscreen_button"in k&&t(1,n=k.show_fullscreen_button),"show_copy_button"in k&&t(2,i=k.show_copy_button),"show_search"in k&&t(3,s=k.show_search),"fullscreen"in k&&t(4,r=k.fullscreen),"on_copy"in k&&t(9,a=k.on_copy),"on_commit_filter"in k&&t(5,u=k.on_commit_filter),"current_search_query"in k&&t(0,c=k.current_search_query)},[c,n,i,s,r,u,o,A,B,a,w]}class Cs extends Oe{constructor(e){super(),je(this,e,Ts,Ns,ze,{show_fullscreen_button:1,show_copy_button:2,show_search:3,fullscreen:4,on_copy:9,on_commit_filter:5,current_search_query:0})}}function kt(l,e,t,n){let i=l||[];if(e[1]==="fixed"&&i.length<e[0]){const s=Array(e[0]-i.length).fill("").map((r,a)=>`${a+i.length}`);i=i.concat(s)}return!i||i.length===0?Array(e[0]).fill(0).map((s,r)=>{const a=n();return t[a]={cell:null,input:null},{id:a,value:JSON.stringify(r+1)}}):i.map((s,r)=>{const a=n();return t[a]={cell:null,input:null},{id:a,value:s??""}})}function As(l,e,t,n,i=null){return!l||l.length===0?[]:l.map((r,a)=>r.map((u,_)=>{var c;const o=n();e[o]={cell:null,input:null},t[o]=u;let f=(c=i==null?void 0:i[a])==null?void 0:c[_];return f===void 0&&(f=String(u)),{id:o,value:u,display_value:f}}))}function Ss(l,e){if(e==="number"){const t=Number(l);return isNaN(t)?l:t}if(e==="bool"){if(typeof l=="boolean")return l;if(typeof l=="number")return l!==0;const t=String(l).toLowerCase();return t==="true"||t==="1"?!0:t==="false"||t==="0"?!1:l}if(e==="date"){const t=new Date(l);return isNaN(t.getTime())?l:t.toISOString()}return l}async function bn(l,e,t,n){var s;if(!e.data||!e.data[t]||!e.data[t][n])return;const i=e.data[t][n].value;e.data[t][n].value=l,e.data[t][n].display_value!==void 0&&(e.data[t][n].display_value=l),i!==l&&e.dispatch&&e.dispatch("change",{data:e.data.map(r=>r.map(a=>a.value)),headers:((s=e.headers)==null?void 0:s.map(r=>r.value))||[],metadata:null}),e.actions.set_selected([t,n])}async function Bs(l,e,t){if(!e.data||!e.headers||!e.els)return;const n=l.target;!n||n.value===void 0||await bn(n.type==="checkbox"?String(n.checked):n.value,e,t[0],t[1])}function qs(l,e){const t=Pe(e.state),n=t.ui_state.selected_header,i=t.ui_state.header_edit,s=e.headers||[];if(n===!1||i!==!1)return!1;switch(l.key){case"ArrowDown":return e.actions.set_selected_header(!1),e.actions.set_selected([0,n]),e.actions.set_selected_cells([[0,n]]),!0;case"ArrowLeft":return e.actions.set_selected_header(n>0?n-1:n),!0;case"ArrowRight":return e.actions.set_selected_header(n<s.length-1?n+1:n),!0;case"Escape":return l.preventDefault(),e.actions.set_selected_header(!1),!0;case"Enter":return l.preventDefault(),t.config.editable&&e.actions.set_header_edit(n),!0}return!1}function wn(l,e){var r;if(!e.data||!e.headers||!e.els||!e.dispatch)return!1;const t=Pe(e.state);if(!t.config.editable||l.key!=="Delete"&&l.key!=="Backspace")return!1;const n=t.ui_state.editing,i=t.ui_state.selected_cells,s=t.config.static_columns||[];if(i.some(([a,u])=>s.includes(u)))return!1;if(n){const[a,u]=n,_=(r=e.els[e.data[a][u].id])==null?void 0:r.input;if(_&&_.selectionStart!==_.selectionEnd||l.key==="Delete"&&(_==null?void 0:_.selectionStart)!==(_==null?void 0:_.value.length)||l.key==="Backspace"&&(_==null?void 0:_.selectionStart)!==0)return!1}if(l.preventDefault(),i.length>0){const a=Zi(e.data,i);e.dispatch("change",{data:a.map(u=>u.map(_=>_.value)),headers:e.headers.map(u=>u.value),metadata:null})}return!0}function Ms(l,e,t,n){const i=Pe(e.state),s=i.ui_state.editing,r=i.ui_state.selected_cells;if(s||!e.data)return!1;l.preventDefault();const a=e.actions.move_cursor(l,[t,n],e.data);return a?(l.shiftKey?(e.actions.set_selected_cells(e.actions.get_range_selection(r.length>0?r[0]:[t,n],a)),e.actions.set_editing(!1)):(e.actions.set_selected_cells([a]),e.actions.set_editing(!1)),e.actions.set_selected(a)):a===!1&&l.key==="ArrowUp"&&t===0&&(e.actions.set_selected_header(n),e.actions.set_selected(!1),e.actions.set_selected_cells([]),e.actions.set_editing(!1)),!0}async function Ds(l,e,t,n){var r,a;if(!e.data||!e.els)return!1;const i=Pe(e.state);if(!i.config.editable)return!1;const s=i.ui_state.editing;if(s&&l.shiftKey)return!1;if(l.preventDefault(),s&&ut(s,[t,n])){const u=e.data[t][n].id,_=(r=e.els[u])==null?void 0:r.input;_&&await bn(_.value,e,t,n),e.actions.set_editing(!1),await rt(),(a=e.parent_element)==null||a.focus()}else e.actions.set_editing([t,n]);return!0}function Is(l,e,t,n){if(!e.data)return!1;l.preventDefault(),e.actions.set_editing(!1);const i=e.actions.get_next_cell_coordinates([t,n],e.data,l.shiftKey);return i&&(e.actions.set_selected_cells([i]),e.actions.set_selected(i),Pe(e.state).config.editable&&e.actions.set_editing(i)),!0}function Ls(l,e,t,n){const i=Pe(e.state);if(!i.config.editable)return!1;const s=i.ui_state.editing;return l.key.length===1&&(!s||!ut(s,[t,n]))?(e.actions.set_editing([t,n]),!0):!1}async function Os(l,e){if(!e.data)return!1;const t=Pe(e.state),n=t.ui_state.selected,i=t.ui_state.selected_cells;if(!n)return!1;if(l.key==="c"&&(l.metaKey||l.ctrlKey))return l.preventDefault(),i.length>0&&await dn(e.data,i),e.actions.set_copy_flash(!0),!0;const[s,r]=n;switch(l.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":return Ms(l,e,s,r);case"Escape":return t.config.editable?(l.preventDefault(),e.actions.set_editing(!1),rt().then(()=>{e.parent_element&&e.parent_element.focus()}),!0):!1;case"Enter":return await Ds(l,e,s,r);case"Tab":return Is(l,e,s,r);case"Delete":case"Backspace":return wn(l,e);default:return Ls(l,e,s,r)}}async function js(l,e){qs(l,e)||wn(l,e)||await Os(l,e)}function zs(l,e,t,n,i,s,r){const a=(o,f,c)=>{const g=o.target,A=g.type==="checkbox"||g.closest('input[type="checkbox"]')||g.closest(".bool-cell");o.target instanceof HTMLAnchorElement||s&&c===-1||A||(o.preventDefault(),o.stopPropagation(),l.mouse_down_pos={x:o.clientX,y:o.clientY},l.drag_start=[f,c],!o.shiftKey&&!o.metaKey&&!o.ctrlKey&&(t([[f,c]]),n([f,c]),i(o,f,c)))},u=o=>{const f=o.target.closest("td");if(!f)return;const c=parseInt(f.getAttribute("data-row")||"0"),g=parseInt(f.getAttribute("data-col")||"0");if(isNaN(c)||isNaN(g))return;const A=Jt(l.drag_start,[c,g]);t(A),n([c,g])},_=o=>{!l.is_dragging&&l.drag_start?i(o,l.drag_start[0],l.drag_start[1]):l.is_dragging&&r&&r.focus(),l.is_dragging=!1,e(!1),l.drag_start=null,l.mouse_down_pos=null};return{handle_mouse_down:a,handle_mouse_move(o){if(!l.drag_start||!l.mouse_down_pos)return;if(!(o.buttons&1)){_(o);return}const f=Math.abs(o.clientX-l.mouse_down_pos.x),c=Math.abs(o.clientY-l.mouse_down_pos.y);!l.is_dragging&&(f>3||c>3)&&(l.is_dragging=!0,e(!0)),l.is_dragging&&u(o)},handle_mouse_up:_}}const{Map:vt,window:Hs}=Ti;function Wl(l,e,t){const n=l.slice();return n[147]=e[t].value,n[148]=e[t].id,n[151]=e,n[152]=t,n}function Yl(l,e,t){const n=l.slice();return n[147]=e[t].value,n[148]=e[t].id,n[149]=e,n[150]=t,n}function Xl(l,e,t){const n=l.slice();return n[147]=e[t].value,n[148]=e[t].id,n[153]=e,n[150]=t,n}function Gl(l,e,t){const n=l.slice();return n[147]=e[t].value,n[148]=e[t].id,n[154]=e,n[152]=t,n}function Ql(l){let e,t,n,i,s=l[3]&&l[3].length!==0&&l[4]&&Zl(l);return n=new Cs({props:{show_fullscreen_button:l[18],fullscreen:l[23],on_copy:l[90],show_copy_button:l[19],show_search:l[21],on_commit_filter:l[68],current_search_query:l[33].current_search_query}}),n.$on("search",l[91]),n.$on("fullscreen",l[92]),{c(){e=P("div"),s&&s.c(),t=Q(),ie(n.$$.fragment),this.h()},l(r){e=U(r,"DIV",{class:!0});var a=S(e);s&&s.l(a),t=Z(a),_e(n.$$.fragment,a),a.forEach(d),this.h()},h(){h(e,"class","header-row svelte-ymqqp")},m(r,a){z(r,e,a),s&&s.m(e,null),T(e,t),re(n,e,null),i=!0},p(r,a){r[3]&&r[3].length!==0&&r[4]?s?s.p(r,a):(s=Zl(r),s.c(),s.m(e,t)):s&&(s.d(1),s=null);const u={};a[0]&262144&&(u.show_fullscreen_button=r[18]),a[0]&8388608&&(u.fullscreen=r[23]),a[0]&67108864&&(u.on_copy=r[90]),a[0]&524288&&(u.show_copy_button=r[19]),a[0]&2097152&&(u.show_search=r[21]),a[1]&4&&(u.current_search_query=r[33].current_search_query),n.$set(u)},i(r){i||(E(n.$$.fragment,r),i=!0)},o(r){q(n.$$.fragment,r),i=!1},d(r){r&&d(e),s&&s.d(),se(n)}}}function Zl(l){let e,t,n;return{c(){e=P("div"),t=P("p"),n=Be(l[3]),this.h()},l(i){e=U(i,"DIV",{class:!0});var s=S(e);t=U(s,"P",{class:!0});var r=S(t);n=qe(r,l[3]),r.forEach(d),s.forEach(d),this.h()},h(){h(t,"class","svelte-ymqqp"),h(e,"class","label svelte-ymqqp")},m(i,s){z(i,e,s),T(e,t),T(t,n)},p(i,s){s[0]&8&&Me(n,i[3])},d(i){i&&d(e)}}}function xl(l){let e,t;return{c(){e=P("caption"),t=Be(l[3]),this.h()},l(n){e=U(n,"CAPTION",{class:!0});var i=S(e);t=qe(i,l[3]),i.forEach(d),this.h()},h(){h(e,"class","sr-only svelte-ymqqp")},m(n,i){z(n,e,i),T(e,t)},p(n,i){i[0]&8&&Me(t,n[3])},d(n){n&&d(e)}}}function $l(l){let e,t;return e=new yt({props:{is_header:!0}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function en(l,e){let t,n,i,s,r;function a(o){e[93](o,e[152])}function u(o){e[94](o,e[148])}let _={i:e[152],actual_pinned_columns:e[53],header_edit:e[52],selected_header:e[51],headers:e[0],get_cell_width:Wt,handle_header_click:e[60],toggle_header_menu:e[65],end_header_edit:e[61],sort_columns:e[33].sort_state.sort_columns,filter_columns:e[33].filter_state.filter_columns,latex_delimiters:e[7],line_breaks:e[14],max_chars:e[20],editable:e[9],is_static:e[22].includes(e[152]),i18n:e[12],col_count:e[5],datatype:Array.isArray(e[2])?e[2][e[152]]:e[2],data:e[26],on_select_all:e[72]};return e[25][e[152]].value!==void 0&&(_.value=e[25][e[152]].value),e[24][e[148]].input!==void 0&&(_.el=e[24][e[148]].input),n=new gn({props:_}),pe.push(()=>De(n,"value",a)),pe.push(()=>De(n,"el",u)),{key:l,first:null,c(){t=ye(),ie(n.$$.fragment),this.h()},l(o){t=ye(),_e(n.$$.fragment,o),this.h()},h(){this.first=t},m(o,f){z(o,t,f),re(n,o,f),r=!0},p(o,f){e=o;const c={};f[0]&33554432&&(c.i=e[152]),f[1]&4194304&&(c.actual_pinned_columns=e[53]),f[1]&2097152&&(c.header_edit=e[52]),f[1]&1048576&&(c.selected_header=e[51]),f[0]&1&&(c.headers=e[0]),f[1]&4&&(c.sort_columns=e[33].sort_state.sort_columns),f[1]&4&&(c.filter_columns=e[33].filter_state.filter_columns),f[0]&128&&(c.latex_delimiters=e[7]),f[0]&16384&&(c.line_breaks=e[14]),f[0]&1048576&&(c.max_chars=e[20]),f[0]&512&&(c.editable=e[9]),f[0]&37748736&&(c.is_static=e[22].includes(e[152])),f[0]&4096&&(c.i18n=e[12]),f[0]&32&&(c.col_count=e[5]),f[0]&33554436&&(c.datatype=Array.isArray(e[2])?e[2][e[152]]:e[2]),f[0]&67108864&&(c.data=e[26]),!i&&f[0]&33554432&&(i=!0,c.value=e[25][e[152]].value,Ie(()=>i=!1)),!s&&f[0]&50331648&&(s=!0,c.el=e[24][e[148]].input,Ie(()=>s=!1)),n.$set(c)},i(o){r||(E(n.$$.fragment,o),r=!0)},o(o){q(n.$$.fragment,o),r=!1},d(o){o&&d(t),se(n,o)}}}function tn(l){let e,t;return e=new yt({props:{index:0}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function ln(l,e){let t,n,i,s,r=e[150],a;i=new Kt({props:{value:e[147],latex_delimiters:e[7],line_breaks:e[14],datatype:Array.isArray(e[2])?e[2][e[150]]:e[2],edit:!1,el:null,editable:e[9],i18n:e[12],show_selection_buttons:e[31].length===1&&e[31][0][0]===0&&e[31][0][1]===e[150],coords:e[39],on_select_column:e[55].handle_select_column,on_select_row:e[55].handle_select_row,is_dragging:e[42]}}),i.$on("blur",e[64]);const u=()=>e[95](t,r),_=()=>e[95](null,r);return{key:l,first:null,c(){t=P("td"),n=P("div"),ie(i.$$.fragment),s=Q(),this.h()},l(o){t=U(o,"TD",{tabindex:!0,class:!0});var f=S(t);n=U(f,"DIV",{class:!0});var c=S(n);_e(i.$$.fragment,c),c.forEach(d),s=Z(f),f.forEach(d),this.h()},h(){h(n,"class","cell-wrap svelte-ymqqp"),h(t,"tabindex","-1"),h(t,"class","svelte-ymqqp"),this.first=t},m(o,f){z(o,t,f),T(t,n),re(i,n,null),T(t,s),u(),a=!0},p(o,f){e=o;const c={};f[1]&524288&&(c.value=e[147]),f[0]&128&&(c.latex_delimiters=e[7]),f[0]&16384&&(c.line_breaks=e[14]),f[0]&4|f[1]&524288&&(c.datatype=Array.isArray(e[2])?e[2][e[150]]:e[2]),f[0]&512&&(c.editable=e[9]),f[0]&4096&&(c.i18n=e[12]),f[1]&524289&&(c.show_selection_buttons=e[31].length===1&&e[31][0][0]===0&&e[31][0][1]===e[150]),f[1]&256&&(c.coords=e[39]),f[1]&2048&&(c.is_dragging=e[42]),i.$set(c),r!==e[150]&&(_(),r=e[150],u())},i(o){a||(E(i.$$.fragment,o),a=!0)},o(o){q(i.$$.fragment,o),a=!1},d(o){o&&d(t),se(i),_()}}}function nn(l){let e,t;return e=new yt({props:{is_header:!0}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function rn(l,e){let t,n,i,s,r;function a(o){e[100](o,e[152])}function u(o){e[101](o,e[148])}let _={i:e[152],actual_pinned_columns:e[53],header_edit:e[52],selected_header:e[51],headers:e[0],get_cell_width:Wt,handle_header_click:e[60],toggle_header_menu:e[65],end_header_edit:e[61],sort_columns:e[33].sort_state.sort_columns,filter_columns:e[33].filter_state.filter_columns,latex_delimiters:e[7],line_breaks:e[14],max_chars:e[20],editable:e[9],is_static:e[22].includes(e[152]),i18n:e[12],col_count:e[5],datatype:Array.isArray(e[2])?e[2][e[152]]:e[2],data:e[26],on_select_all:e[72]};return e[25][e[152]].value!==void 0&&(_.value=e[25][e[152]].value),e[24][e[148]].input!==void 0&&(_.el=e[24][e[148]].input),n=new gn({props:_}),pe.push(()=>De(n,"value",a)),pe.push(()=>De(n,"el",u)),{key:l,first:null,c(){t=ye(),ie(n.$$.fragment),this.h()},l(o){t=ye(),_e(n.$$.fragment,o),this.h()},h(){this.first=t},m(o,f){z(o,t,f),re(n,o,f),r=!0},p(o,f){e=o;const c={};f[0]&33554432&&(c.i=e[152]),f[1]&4194304&&(c.actual_pinned_columns=e[53]),f[1]&2097152&&(c.header_edit=e[52]),f[1]&1048576&&(c.selected_header=e[51]),f[0]&1&&(c.headers=e[0]),f[1]&4&&(c.sort_columns=e[33].sort_state.sort_columns),f[1]&4&&(c.filter_columns=e[33].filter_state.filter_columns),f[0]&128&&(c.latex_delimiters=e[7]),f[0]&16384&&(c.line_breaks=e[14]),f[0]&1048576&&(c.max_chars=e[20]),f[0]&512&&(c.editable=e[9]),f[0]&37748736&&(c.is_static=e[22].includes(e[152])),f[0]&4096&&(c.i18n=e[12]),f[0]&32&&(c.col_count=e[5]),f[0]&33554436&&(c.datatype=Array.isArray(e[2])?e[2][e[152]]:e[2]),f[0]&67108864&&(c.data=e[26]),!i&&f[0]&33554432&&(i=!0,c.value=e[25][e[152]].value,Ie(()=>i=!1)),!s&&f[0]&50331648&&(s=!0,c.el=e[24][e[148]].input,Ie(()=>s=!1)),n.$set(c)},i(o){r||(E(n.$$.fragment,o),r=!0)},o(o){q(n.$$.fragment,o),r=!1},d(o){o&&d(t),se(n,o)}}}function Vs(l){let e,t,n=[],i=new vt,s,r=l[15]&&nn(),a=We(l[25]);const u=_=>_[148];for(let _=0;_<a.length;_+=1){let o=Wl(l,a,_),f=u(o);i.set(f,n[_]=rn(f,o))}return{c(){e=P("tr"),r&&r.c(),t=Q();for(let _=0;_<n.length;_+=1)n[_].c();this.h()},l(_){e=U(_,"TR",{slot:!0,class:!0});var o=S(e);r&&r.l(o),t=Z(o);for(let f=0;f<n.length;f+=1)n[f].l(o);o.forEach(d),this.h()},h(){h(e,"slot","thead"),h(e,"class","svelte-ymqqp")},m(_,o){z(_,e,o),r&&r.m(e,null),T(e,t);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);s=!0},p(_,o){_[15]?r?o[0]&32768&&E(r,1):(r=nn(),r.c(),E(r,1),r.m(e,t)):r&&(me(),q(r,1,1,()=>{r=null}),ge()),o[0]&122704549|o[1]&1617952772|o[2]&1032&&(a=We(_[25]),me(),n=ft(n,o,u,1,_,a,i,e,ct,rn,null,Wl),ge())},i(_){if(!s){E(r);for(let o=0;o<a.length;o+=1)E(n[o]);s=!0}},o(_){q(r);for(let o=0;o<n.length;o+=1)q(n[o]);s=!1},d(_){_&&d(e),r&&r.d();for(let o=0;o<n.length;o+=1)n[o].d()}}}function sn(l){let e,t;return e=new yt({props:{index:l[145]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[4]&2097152&&(s.index=n[145]),e.$set(s)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function an(l,e){let t,n,i,s,r;function a(o){e[98](o,e[145],e[150])}function u(o){e[99](o,e[148])}let _={display_value:e[73](e[145],e[150]),index:e[33].current_search_query!==void 0&&e[27][e[145]]!==void 0?e[27][e[145]]:e[145],j:e[150],actual_pinned_columns:e[53],get_cell_width:Wt,handle_cell_click:e[97],handle_blur:e[64],toggle_cell_menu:e[55].toggle_cell_menu,is_cell_selected:Gi,should_show_cell_menu:xi,selected_cells:e[31],copy_flash:e[32],active_cell_menu:e[47],styling:e[35][e[145]][e[150]].styling,latex_delimiters:e[7],line_breaks:e[14],datatype:Array.isArray(e[2])?e[2][e[150]]:e[2],editing:e[48],max_chars:e[20],editable:e[9],is_static:e[22].includes(e[150]),i18n:e[12],components:e[8],handle_select_column:e[55].handle_select_column,handle_select_row:e[55].handle_select_row,is_dragging:e[42],wrap:e[10]};return e[35][e[145]][e[150]].value!==void 0&&(_.value=e[35][e[145]][e[150]].value),e[24][e[148]]!==void 0&&(_.el=e[24][e[148]]),n=new is({props:_}),pe.push(()=>De(n,"value",a)),pe.push(()=>De(n,"el",u)),{key:l,first:null,c(){t=ye(),ie(n.$$.fragment),this.h()},l(o){t=ye(),_e(n.$$.fragment,o),this.h()},h(){this.first=t},m(o,f){z(o,t,f),re(n,o,f),r=!0},p(o,f){e=o;const c={};f[4]&6291456&&(c.display_value=e[73](e[145],e[150])),f[0]&134217728|f[1]&4|f[4]&2097152&&(c.index=e[33].current_search_query!==void 0&&e[27][e[145]]!==void 0?e[27][e[145]]:e[145]),f[4]&4194304&&(c.j=e[150]),f[1]&4194304&&(c.actual_pinned_columns=e[53]),f[1]&16384&&(c.handle_cell_click=e[97]),f[1]&1&&(c.selected_cells=e[31]),f[1]&2&&(c.copy_flash=e[32]),f[1]&65536&&(c.active_cell_menu=e[47]),f[1]&16|f[4]&6291456&&(c.styling=e[35][e[145]][e[150]].styling),f[0]&128&&(c.latex_delimiters=e[7]),f[0]&16384&&(c.line_breaks=e[14]),f[0]&4|f[4]&4194304&&(c.datatype=Array.isArray(e[2])?e[2][e[150]]:e[2]),f[1]&131072&&(c.editing=e[48]),f[0]&1048576&&(c.max_chars=e[20]),f[0]&512&&(c.editable=e[9]),f[0]&4194304|f[4]&4194304&&(c.is_static=e[22].includes(e[150])),f[0]&4096&&(c.i18n=e[12]),f[0]&256&&(c.components=e[8]),f[1]&2048&&(c.is_dragging=e[42]),f[0]&1024&&(c.wrap=e[10]),!i&&f[1]&16|f[4]&6291456&&(i=!0,c.value=e[35][e[145]][e[150]].value,Ie(()=>i=!1)),!s&&f[0]&16777216|f[4]&4194304&&(s=!0,c.el=e[24][e[148]],Ie(()=>s=!1)),n.$set(c)},i(o){r||(E(n.$$.fragment,o),r=!0)},o(o){q(n.$$.fragment,o),r=!1},d(o){o&&d(t),se(n,o)}}}function Ps(l){let e,t,n=[],i=new vt,s,r=l[15]&&sn(l),a=We(l[146]);const u=_=>_[148];for(let _=0;_<a.length;_+=1){let o=Yl(l,a,_),f=u(o);i.set(f,n[_]=an(f,o))}return{c(){e=P("tr"),r&&r.c(),t=Q();for(let _=0;_<n.length;_+=1)n[_].c();this.h()},l(_){e=U(_,"TR",{slot:!0,class:!0});var o=S(e);r&&r.l(o),t=Z(o);for(let f=0;f<n.length;f+=1)n[f].l(o);o.forEach(d),this.h()},h(){h(e,"slot","tbody"),h(e,"class","svelte-ymqqp"),x(e,"row-odd",l[145]%2===0)},m(_,o){z(_,e,o),r&&r.m(e,null),T(e,t);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);s=!0},p(_,o){_[15]?r?(r.p(_,o),o[0]&32768&&E(r,1)):(r=sn(_),r.c(),E(r,1),r.m(e,t)):r&&(me(),q(r,1,1,()=>{r=null}),ge()),o[0]&156260228|o[1]&21186583|o[2]&2052|o[4]&6291456&&(a=We(_[146]),me(),n=ft(n,o,u,1,_,a,i,e,ct,an,null,Yl),ge()),(!s||o[4]&2097152)&&x(e,"row-odd",_[145]%2===0)},i(_){if(!s){E(r);for(let o=0;o<a.length;o+=1)E(n[o]);s=!0}},o(_){q(r);for(let o=0;o<n.length;o+=1)q(n[o]);s=!1},d(_){_&&d(e),r&&r.d();for(let o=0;o<n.length;o+=1)n[o].d()}}}function Us(l){let e,t,n,i,s,r,a,u;function _(v){l[102](v)}function o(v){l[103](v)}function f(v){l[104](v)}function c(v){l[105](v)}function g(v){l[106](v)}let A={max_height:l[13],selected:l[49],disable_scroll:l[47]!==null||l[46]!==null,label:l[3],$$slots:{tbody:[Ps,({index:v,item:B})=>({145:v,146:B}),({index:v,item:B})=>[0,0,0,0,(v?2097152:0)|(B?4194304:0)]],thead:[Vs]},$$scope:{ctx:l}};return l[35]!==void 0&&(A.items=l[35]),l[37]!==void 0&&(A.actual_height=l[37]),l[38]!==void 0&&(A.table_scrollbar_width=l[38]),l[40]!==void 0&&(A.viewport=l[40]),l[41]!==void 0&&(A.show_scroll_button=l[41]),t=new ms({props:A}),pe.push(()=>De(t,"items",_)),pe.push(()=>De(t,"actual_height",o)),pe.push(()=>De(t,"table_scrollbar_width",f)),pe.push(()=>De(t,"viewport",c)),pe.push(()=>De(t,"show_scroll_button",g)),t.$on("scroll_top",Fs),{c(){e=P("div"),ie(t.$$.fragment),this.h()},l(v){e=U(v,"DIV",{class:!0});var B=S(e);_e(t.$$.fragment,B),B.forEach(d),this.h()},h(){h(e,"class","table-wrap svelte-ymqqp")},m(v,B){z(v,e,B),re(t,e,null),u=!0},p(v,B){const w={};B[0]&8192&&(w.max_height=v[13]),B[1]&262144&&(w.selected=v[49]),B[1]&98304&&(w.disable_scroll=v[47]!==null||v[46]!==null),B[0]&8&&(w.label=v[3]),B[0]&256956325|B[1]&7555095|B[4]&6291456|B[5]&1&&(w.$$scope={dirty:B,ctx:v}),!n&&B[1]&16&&(n=!0,w.items=v[35],Ie(()=>n=!1)),!i&&B[1]&64&&(i=!0,w.actual_height=v[37],Ie(()=>i=!1)),!s&&B[1]&128&&(s=!0,w.table_scrollbar_width=v[38],Ie(()=>s=!1)),!r&&B[1]&512&&(r=!0,w.viewport=v[40],Ie(()=>r=!1)),!a&&B[1]&1024&&(a=!0,w.show_scroll_button=v[41],Ie(()=>a=!1)),t.$set(w)},i(v){u||(E(t.$$.fragment,v),u=!0)},o(v){q(t.$$.fragment,v),u=!1},d(v){v&&d(e),se(t)}}}function on(l){let e,t="↑",n,i;return{c(){e=P("button"),e.textContent=t,this.h()},l(s){e=U(s,"BUTTON",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-oaisf6"&&(e.textContent=t),this.h()},h(){h(e,"class","scroll-top-button svelte-ymqqp")},m(s,r){z(s,e,r),n||(i=fe(e,"click",l[69]),n=!0)},p:Ae,d(s){s&&d(e),n=!1,i()}}}function un(l){let e,t;return e=new as({props:{on_click:l[111]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p:Ae,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){q(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function _n(l){var n,i,s,r,a,u,_;let e,t;return e=new ps({props:{x:((n=l[47])==null?void 0:n.x)??((i=l[46])==null?void 0:i.x)??0,y:((s=l[47])==null?void 0:s.y)??((r=l[46])==null?void 0:r.y)??0,row:l[46]?-1:((a=l[47])==null?void 0:a.row)??0,col_count:l[5],row_count:l[6],on_add_row_above:l[112],on_add_row_below:l[113],on_add_column_left:l[114],on_add_column_right:l[115],on_delete_row:l[116],on_delete_col:l[117],editable:l[9],can_delete_rows:!l[46]&&l[26].length>1&&l[9],can_delete_cols:l[26].length>0&&((u=l[26][0])==null?void 0:u.length)>1&&l[9],i18n:l[12],on_sort:l[46]?l[118]:void 0,on_clear_sort:l[46]?l[119]:void 0,sort_direction:l[46]?((_=l[33].sort_state.sort_columns.find(l[120]))==null?void 0:_.direction)??null:null,sort_priority:l[46]&&l[33].sort_state.sort_columns.findIndex(l[121])+1||null,on_filter:l[46]?l[122]:void 0,on_clear_filter:l[46]?l[123]:void 0,filter_active:l[46]?l[33].filter_state.filter_columns.some(l[124]):null}}),{c(){ie(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,f){re(e,o,f),t=!0},p(o,f){var g,A,v,B,w,k,p;const c={};f[1]&98304&&(c.x=((g=o[47])==null?void 0:g.x)??((A=o[46])==null?void 0:A.x)??0),f[1]&98304&&(c.y=((v=o[47])==null?void 0:v.y)??((B=o[46])==null?void 0:B.y)??0),f[1]&98304&&(c.row=o[46]?-1:((w=o[47])==null?void 0:w.row)??0),f[0]&32&&(c.col_count=o[5]),f[0]&64&&(c.row_count=o[6]),f[1]&65536&&(c.on_add_row_above=o[112]),f[1]&65536&&(c.on_add_row_below=o[113]),f[1]&98304&&(c.on_add_column_left=o[114]),f[1]&98304&&(c.on_add_column_right=o[115]),f[1]&65536&&(c.on_delete_row=o[116]),f[1]&98304&&(c.on_delete_col=o[117]),f[0]&512&&(c.editable=o[9]),f[0]&67109376|f[1]&32768&&(c.can_delete_rows=!o[46]&&o[26].length>1&&o[9]),f[0]&67109376&&(c.can_delete_cols=o[26].length>0&&((k=o[26][0])==null?void 0:k.length)>1&&o[9]),f[0]&4096&&(c.i18n=o[12]),f[1]&32768&&(c.on_sort=o[46]?o[118]:void 0),f[1]&32768&&(c.on_clear_sort=o[46]?o[119]:void 0),f[1]&32772&&(c.sort_direction=o[46]?((p=o[33].sort_state.sort_columns.find(o[120]))==null?void 0:p.direction)??null:null),f[1]&32772&&(c.sort_priority=o[46]&&o[33].sort_state.sort_columns.findIndex(o[121])+1||null),f[1]&32768&&(c.on_filter=o[46]?o[122]:void 0),f[1]&32768&&(c.on_clear_filter=o[46]?o[123]:void 0),f[1]&32772&&(c.filter_active=o[46]?o[33].filter_state.filter_columns.some(o[124]):null),e.$set(c)},i(o){t||(E(e.$$.fragment,o),t=!0)},o(o){q(e.$$.fragment,o),t=!1},d(o){se(e,o)}}}function Rs(l){let e,t,n,i,s,r,a,u,_=[],o=new vt,f,c,g,A,v=[],B=new vt,w,k,p,H,L,N,V,K,I,R,J=(l[3]&&l[3].length!==0&&l[4]||l[18]||l[19]||l[21]!=="none")&&Ql(l),F=l[3]&&l[3].length!==0&&xl(l),W=l[15]&&$l(),ne=We(l[25]);const ae=y=>y[148];for(let y=0;y<ne.length;y+=1){let b=Gl(l,ne,y),$=ae(b);o.set($,_[y]=en($,b))}let ee=l[15]&&tn(),ce=We(l[50]);const be=y=>y[148];for(let y=0;y<ce.length;y+=1){let b=Xl(l,ce,y),$=be(b);B.set($,v[y]=ln($,b))}function Ne(y){l[107](y)}let de={upload:l[16],stream_handler:l[17],flex:!1,center:!1,boundedheight:!1,disable_click:!0,root:l[11],aria_label:l[12]("dataframe.drop_to_upload"),$$slots:{default:[Us]},$$scope:{ctx:l}};l[36]!==void 0&&(de.dragging=l[36]),k=new Oi({props:de}),pe.push(()=>De(k,"dragging",Ne)),k.$on("load",l[108]);let D=l[41]&&on(l),le=l[26].length===0&&l[9]&&l[6][1]==="dynamic"&&un(l),C=(l[47]||l[46])&&_n(l);return{c(){e=P("div"),J&&J.c(),t=Q(),n=P("div"),i=P("table"),F&&F.c(),s=Q(),r=P("thead"),a=P("tr"),W&&W.c(),u=Q();for(let y=0;y<_.length;y+=1)_[y].c();f=Q(),c=P("tbody"),g=P("tr"),ee&&ee.c(),A=Q();for(let y=0;y<v.length;y+=1)v[y].c();w=Q(),ie(k.$$.fragment),H=Q(),D&&D.c(),L=Q(),le&&le.c(),N=Q(),C&&C.c(),V=ye(),this.h()},l(y){e=U(y,"DIV",{class:!0});var b=S(e);J&&J.l(b),t=Z(b),n=U(b,"DIV",{class:!0,role:!0,tabindex:!0});var $=S(n);i=U($,"TABLE",{"aria-hidden":!0,class:!0});var M=S(i);F&&F.l(M),s=Z(M),r=U(M,"THEAD",{class:!0});var Te=S(r);a=U(Te,"TR",{class:!0});var he=S(a);W&&W.l(he),u=Z(he);for(let He=0;He<_.length;He+=1)_[He].l(he);he.forEach(d),Te.forEach(d),f=Z(M),c=U(M,"TBODY",{class:!0});var O=S(c);g=U(O,"TR",{class:!0});var X=S(g);ee&&ee.l(X),A=Z(X);for(let He=0;He<v.length;He+=1)v[He].l(X);X.forEach(d),O.forEach(d),M.forEach(d),w=Z($),_e(k.$$.fragment,$),H=Z($),D&&D.l($),$.forEach(d),b.forEach(d),L=Z(y),le&&le.l(y),N=Z(y),C&&C.l(y),V=ye(),this.h()},h(){h(a,"class","svelte-ymqqp"),h(r,"class","svelte-ymqqp"),h(g,"class","svelte-ymqqp"),h(c,"class","svelte-ymqqp"),h(i,"aria-hidden","true"),h(i,"class","svelte-ymqqp"),h(n,"class","table-wrap svelte-ymqqp"),h(n,"role","grid"),h(n,"tabindex","0"),x(n,"dragging",l[42]),x(n,"no-wrap",!l[10]),x(n,"menu-open",l[47]||l[46]),h(e,"class","table-container svelte-ymqqp")},m(y,b){z(y,e,b),J&&J.m(e,null),T(e,t),T(e,n),T(n,i),F&&F.m(i,null),T(i,s),T(i,r),T(r,a),W&&W.m(a,null),T(a,u);for(let $=0;$<_.length;$+=1)_[$]&&_[$].m(a,null);T(i,f),T(i,c),T(c,g),ee&&ee.m(g,null),T(g,A);for(let $=0;$<v.length;$+=1)v[$]&&v[$].m(g,null);l[96](i),T(n,w),re(k,n,null),T(n,H),D&&D.m(n,null),l[109](n),z(y,L,b),le&&le.m(y,b),z(y,N,b),C&&C.m(y,b),z(y,V,b),K=!0,I||(R=[fe(Hs,"resize",l[89]),fe(n,"keydown",l[110]),fe(n,"mousemove",function(){Ge(l[44])&&l[44].apply(this,arguments)}),fe(n,"mouseup",function(){Ge(l[43])&&l[43].apply(this,arguments)}),fe(n,"mouseleave",function(){Ge(l[43])&&l[43].apply(this,arguments)})],I=!0)},p(y,b){l=y,l[3]&&l[3].length!==0&&l[4]||l[18]||l[19]||l[21]!=="none"?J?(J.p(l,b),b[0]&2883608&&E(J,1)):(J=Ql(l),J.c(),E(J,1),J.m(e,t)):J&&(me(),q(J,1,1,()=>{J=null}),ge()),l[3]&&l[3].length!==0?F?F.p(l,b):(F=xl(l),F.c(),F.m(i,s)):F&&(F.d(1),F=null),l[15]?W?b[0]&32768&&E(W,1):(W=$l(),W.c(),E(W,1),W.m(a,u)):W&&(me(),q(W,1,1,()=>{W=null}),ge()),b[0]&122704549|b[1]&1617952772|b[2]&1032&&(ne=We(l[25]),me(),_=ft(_,b,ae,1,l,ne,o,a,ct,en,null,Gl),ge()),l[15]?ee?b[0]&32768&&E(ee,1):(ee=tn(),ee.c(),E(ee,1),ee.m(g,A)):ee&&(me(),q(ee,1,1,()=>{ee=null}),ge()),b[0]&268456580|b[1]&17303809|b[2]&4&&(ce=We(l[50]),me(),v=ft(v,b,be,1,l,ce,B,g,ct,ln,null,Xl),ge());const $={};b[0]&65536&&($.upload=l[16]),b[0]&131072&&($.stream_handler=l[17]),b[0]&2048&&($.root=l[11]),b[0]&4096&&($.aria_label=l[12]("dataframe.drop_to_upload")),b[0]&256964525|b[1]&7851735|b[5]&1&&($.$$scope={dirty:b,ctx:l}),!p&&b[1]&32&&(p=!0,$.dragging=l[36],Ie(()=>p=!1)),k.$set($),l[41]?D?D.p(l,b):(D=on(l),D.c(),D.m(n,null)):D&&(D.d(1),D=null),(!K||b[1]&2048)&&x(n,"dragging",l[42]),(!K||b[0]&1024)&&x(n,"no-wrap",!l[10]),(!K||b[1]&98304)&&x(n,"menu-open",l[47]||l[46]),l[26].length===0&&l[9]&&l[6][1]==="dynamic"?le?(le.p(l,b),b[0]&67109440&&E(le,1)):(le=un(l),le.c(),E(le,1),le.m(N.parentNode,N)):le&&(me(),q(le,1,1,()=>{le=null}),ge()),l[47]||l[46]?C?(C.p(l,b),b[1]&98304&&E(C,1)):(C=_n(l),C.c(),E(C,1),C.m(V.parentNode,V)):C&&(me(),q(C,1,1,()=>{C=null}),ge())},i(y){if(!K){E(J),E(W);for(let b=0;b<ne.length;b+=1)E(_[b]);E(ee);for(let b=0;b<ce.length;b+=1)E(v[b]);E(k.$$.fragment,y),E(le),E(C),K=!0}},o(y){q(J),q(W);for(let b=0;b<_.length;b+=1)q(_[b]);q(ee);for(let b=0;b<v.length;b+=1)q(v[b]);q(k.$$.fragment,y),q(le),q(C),K=!1},d(y){y&&(d(e),d(L),d(N),d(V)),J&&J.d(),F&&F.d(),W&&W.d();for(let b=0;b<_.length;b+=1)_[b].d();ee&&ee.d();for(let b=0;b<v.length;b+=1)v[b].d();l[96](null),se(k),D&&D.d(),l[109](null),le&&le.d(y),C&&C.d(y),I=!1,Qe(R)}}}function nt(){return Math.random().toString(36).substring(2,15)}function Wt(l){return`var(--cell-width-${l})`}const Fs=l=>{};function Js(l,e,t){let n,i,s,r,a,u,_,o,f,c,g,A,v,B,w,{datatype:k}=e,{label:p=null}=e,{show_label:H=!0}=e,{headers:L=[]}=e,{values:N=[]}=e,{col_count:V}=e,{row_count:K}=e,{latex_delimiters:I}=e,{components:R={}}=e,{editable:J=!0}=e,{wrap:F=!1}=e,{root:W}=e,{i18n:ne}=e,{max_height:ae=500}=e,{line_breaks:ee=!0}=e,{column_widths:ce=[]}=e,{show_row_numbers:be=!1}=e,{upload:Ne}=e,{stream_handler:de}=e,{show_fullscreen_button:D=!1}=e,{show_copy_button:le=!1}=e,{value_is_output:C=!1}=e,{max_chars:y=void 0}=e,{show_search:b="none"}=e,{pinned_columns:$=0}=e,{static_columns:M=[]}=e,{fullscreen:Te=!1}=e;const he=rr({show_fullscreen_button:D,show_copy_button:le,show_search:b,show_row_numbers:be,editable:J,pinned_columns:$,show_label:H,line_breaks:ee,wrap:F,max_height:ae,column_widths:ce,max_chars:y,static_columns:M}),{state:O,actions:X}=he;Ei(l,O,m=>t(33,w=m)),_t(()=>{t(34,he.parent_element=Ee,he),t(34,he.get_data_at=kn,he),t(34,he.get_column=vn,he),t(34,he.get_row=pn,he),t(34,he.dispatch=He,he),rl();const m=new IntersectionObserver(Y=>{Y.forEach(te=>{te.isIntersecting&&!$t&&t(85,tt=!1),$t=te.isIntersecting})});m.observe(Ee),document.addEventListener("click",xt),window.addEventListener("resize",nl);const j=Y=>{(ot||zt)&&B(Y)};return document.addEventListener("mouseup",j),()=>{m.disconnect(),document.removeEventListener("click",xt),window.removeEventListener("resize",nl),document.removeEventListener("mouseup",j)}});const He=pt();let we={},Et={},Le=kt(L,V,we,nt),st=L,G=[[]],Je,Re=[[]],Nt=!1,Yt,it=[];_t(()=>{Yt=getComputedStyle(document.documentElement).getPropertyValue("--color-accent").trim()+"40",document.documentElement.style.setProperty("--color-accent-copied",Yt)});const kn=(m,j)=>{var Y,te;return(te=(Y=G==null?void 0:G[m])==null?void 0:Y[j])==null?void 0:te.value},vn=m=>(G==null?void 0:G.map(j=>{var Y;return(Y=j[m])==null?void 0:Y.value}))??[],pn=m=>{var j;return((j=G==null?void 0:G[m])==null?void 0:j.map(Y=>Y.value))??[]};let{display_value:Fe=null}=e,{styling:Ue=null}=e,Tt=Le.map(m=>m.value),Ct=G.map(m=>m.map(j=>String(j.value)));function Xt(m,j){X.handle_sort(m,j),dt(G,Fe,Ue)}function Gt(){X.reset_sort_state(),dt(G,Fe,Ue)}function Qt(m,j,Y,te){X.handle_filter(m,j,Y,te),mt(G,Fe,Ue)}function Zt(){X.reset_filter_state(),mt(G,Fe,Ue)}async function yn(m,j=!1){!J||r===m||V[1]!=="dynamic"||X.set_header_edit(m)}function En(m,j){m.target instanceof HTMLAnchorElement||(m.preventDefault(),m.stopPropagation(),J&&(X.set_editing(!1),X.handle_header_click(j,J),Ee.focus()))}function Nn(m){J&&(X.end_header_edit(m.detail.key),Ee.focus())}async function At(m){var Y;if(Ee.focus(),K[1]!=="dynamic")return;const j=Array(((Y=G[0])==null?void 0:Y.length)||L.length).fill(0).map((te,Ce)=>{const Se=nt();return t(24,we[Se]={cell:null,input:null},we),{id:Se,value:""}});G.length===0?t(26,G=[j]):m!==void 0&&m>=0&&m<=G.length?G.splice(m,0,j):G.push(j),t(88,i=[m!==void 0?m:G.length-1,0])}async function Tn(m){if(Ee.focus(),V[1]!=="dynamic")return;const j=X.add_col(G,L,nt,m);j.data.forEach(Y=>{Y.forEach(te=>{we[te.id]||t(24,we[te.id]={cell:null,input:null},we)})}),t(26,G=j.data),t(0,L=j.headers),await rt(),requestAnimationFrame(()=>{yn(m!==void 0?m:G[0].length-1,!0);const Y=Ee.querySelectorAll("tbody")[1].offsetWidth;Ee.querySelectorAll("table")[1].scrollTo({left:Y})})}function xt(m){tr(m,Ee)&&(X.clear_ui_state(),t(52,r=!1),t(51,a=!1))}let St,tt=!1,Ze=[],Ee,ht,Bt=0,qt=0;function at(){var Y;const m=((Y=G[0])==null?void 0:Y.length)||0;if(w.filter_state.filter_columns.length>0||Bt===G.length&&qt===m&&w.sort_state.sort_columns.length>0||!Ee)return;Bt=G.length,qt=m;const j=Ze.map(te=>(te==null?void 0:te.clientWidth)||0);if(j.length!==0){be&&Ee.style.setProperty("--cell-width-row-number",`${j[0]}px`);for(let te=0;te<50;te++)if(!ce[te])Ee.style.removeProperty(`--cell-width-${te}`);else if(ce[te].endsWith("%")){const Ce=parseFloat(ce[te]),Se=Math.floor(Ce/100*Ee.clientWidth);Ee.style.setProperty(`--cell-width-${te}`,`${Se}px`)}else Ee.style.setProperty(`--cell-width-${te}`,ce[te]);j.forEach((te,Ce)=>{if(!ce[Ce]){const Se=`${Math.max(te,45)}px`;Ee.style.setProperty(`--cell-width-${Ce}`,Se)}})}}let Mt=N.slice(0,ae/N.length*37).length*37+37,Dt=0;function dt(m,j,Y){const te=Pi(m,j,Y,w.sort_state.sort_columns,i,cl);t(26,G=te.data),t(88,i=te.selected)}function mt(m,j,Y){var Ce,Se,ke;const te=Ri(m,j,Y,w.filter_state.filter_columns,i,cl,(Ce=w.filter_state.initial_data)==null?void 0:Ce.data,(Se=w.filter_state.initial_data)==null?void 0:Se.display_value,(ke=w.filter_state.initial_data)==null?void 0:ke.styling);t(26,G=te.data),t(88,i=te.selected)}let $t=!1;const Cn=m=>{X.set_copy_flash(m)};let It=[];function An(m){const{blur_event:j,coords:Y}=m.detail;Bs(j,he,Y)}function Sn(m,j){if(m.stopPropagation(),_&&_.col===j)X.set_active_header_menu(null);else{const Y=m.target.closest("th");if(Y){const te=Y.getBoundingClientRect();X.set_active_header_menu({col:j,x:te.right,y:te.bottom})}}}Ni(()=>{t(74,C=!1)});function el(m){if(V[1]!=="dynamic"||G[0].length<=1)return;const j=X.delete_col_at(G,L,m);t(26,G=j.data),t(0,L=j.headers),t(25,Le=kt(L,V,we,nt)),X.set_active_cell_menu(null),X.set_active_header_menu(null),X.set_selected(!1),X.set_selected_cells([]),X.set_editing(!1)}function tl(m){t(26,G=X.delete_row_at(G,m)),X.set_active_cell_menu(null),X.set_active_header_menu(null)}let ll;function Bn(){if(w.current_search_query&&b==="filter"){const m=[],j=[],Y=[];Re.forEach(Ce=>{const Se=[],ke=[],lt=[];Ce.forEach(xe=>{Se.push(xe.value),ke.push(xe.display_value!==void 0?xe.display_value:String(xe.value)),lt.push(xe.styling||"")}),m.push(Se),j.push(ke),Y.push(lt)});const te={data:m,headers:Le.map(Ce=>Ce.value),metadata:{display_value:j,styling:Y}};He("change",te),C||He("input"),X.handle_search(null)}}let gt,Lt=!1;function qn(){gt.scrollTo({top:0})}function nl(){X.set_active_cell_menu(null),X.set_active_header_menu(null),t(31,n=[]),t(88,i=!1),t(48,s=!1),t(85,tt=!1),at()}function Ot(m,j){const Y=j==="above"?m:m+1;At(Y),t(47,u=null),t(46,_=null)}function jt(m,j){const Y=j==="left"?m:m+1;Tn(Y),t(47,u=null),t(46,_=null)}function Mn(){X.reset_sort_state()}function Dn(m,j){t(26,G=G.map(Y=>{const te=[...Y];return te[m]&&(te[m]={...te[m],value:j.toString()}),te}))}let ot=!1,zt=null,il=null;const bt={is_dragging:ot,drag_start:zt,mouse_down_pos:il};let Ye;function rl(){t(87,Ye=zs(bt,m=>t(42,ot=m),m=>X.set_selected_cells(m),m=>X.set_selected(m),(m,j,Y)=>X.handle_cell_click(m,j,Y),be,Ee))}function In(m,j){var te,Ce;return w.current_search_query!==void 0&&((te=Re==null?void 0:Re[m])!=null&&te[j])?Re[m][j].display_value!==void 0?Re[m][j].display_value:String(Re[m][j].value):(Ce=G==null?void 0:G[m])!=null&&Ce[j]?G[m][j].display_value!==void 0?G[m][j].display_value:String(G[m][j].value):""}const Ln=()=>at(),On=async()=>await dn(G,null),jn=m=>X.handle_search(m.detail);function zn(m){$e.call(this,l,m)}function Hn(m,j){l.$$.not_equal(Le[j].value,m)&&(Le[j].value=m,t(25,Le),t(0,L),t(80,st),t(5,V),t(24,we))}function Vn(m,j){l.$$.not_equal(we[j].input,m)&&(we[j].input=m,t(24,we))}function Pn(m,j){pe[m?"unshift":"push"](()=>{Ze[j]=m,t(28,Ze)})}function Un(m){pe[m?"unshift":"push"](()=>{ht=m,t(30,ht)})}const Rn=(m,j,Y)=>A(m,j,Y);function Fn(m,j,Y){l.$$.not_equal(Re[j][Y].value,m)&&(Re[j][Y].value=m,t(35,Re),t(33,w),t(26,G),t(27,it),t(78,Ue),t(1,N),t(81,Je),t(29,Ee),t(24,we),t(132,Et),t(77,Fe),t(28,Ze))}function Jn(m,j){l.$$.not_equal(we[j],m)&&(we[j]=m,t(24,we))}function Kn(m,j){l.$$.not_equal(Le[j].value,m)&&(Le[j].value=m,t(25,Le),t(0,L),t(80,st),t(5,V),t(24,we))}function Wn(m,j){l.$$.not_equal(we[j].input,m)&&(we[j].input=m,t(24,we))}function Yn(m){Re=m,t(35,Re),t(33,w),t(26,G),t(27,it),t(78,Ue),t(1,N),t(81,Je),t(29,Ee),t(24,we),t(132,Et),t(77,Fe),t(28,Ze)}function Xn(m){Mt=m,t(37,Mt)}function Gn(m){Dt=m,t(38,Dt)}function Qn(m){gt=m,t(40,gt)}function Zn(m){Lt=m,t(41,Lt)}function xn(m){Nt=m,t(36,Nt)}const $n=({detail:m})=>Yi(m.data,j=>(t(25,Le=kt(j.map(Y=>Y??""),V,we,nt)),Le),j=>{t(1,N=j)});function ei(m){pe[m?"unshift":"push"](()=>{Ee=m,t(29,Ee)})}const ti=m=>js(m,he),li=()=>At(),ni=()=>Ot((u==null?void 0:u.row)??-1,"above"),ii=()=>Ot((u==null?void 0:u.row)??-1,"below"),ri=()=>jt((u==null?void 0:u.col)??(_==null?void 0:_.col)??-1,"left"),si=()=>jt((u==null?void 0:u.col)??(_==null?void 0:_.col)??-1,"right"),ai=()=>tl((u==null?void 0:u.row)??-1),oi=()=>el((u==null?void 0:u.col)??(_==null?void 0:_.col)??-1),ui=m=>{_&&(Xt(_.col,m),X.set_active_header_menu(null))},_i=()=>{Gt(),X.set_active_header_menu(null)},fi=m=>m.col===((_==null?void 0:_.col)??-1),ci=m=>m.col===((_==null?void 0:_.col)??-1),hi=(m,j,Y)=>{_&&(Qt(_.col,m,j,Y),X.set_active_header_menu(null))},di=()=>{Zt(),X.set_active_header_menu(null)},mi=m=>m.col===((_==null?void 0:_.col)??-1);return l.$$set=m=>{"datatype"in m&&t(2,k=m.datatype),"label"in m&&t(3,p=m.label),"show_label"in m&&t(4,H=m.show_label),"headers"in m&&t(0,L=m.headers),"values"in m&&t(1,N=m.values),"col_count"in m&&t(5,V=m.col_count),"row_count"in m&&t(6,K=m.row_count),"latex_delimiters"in m&&t(7,I=m.latex_delimiters),"components"in m&&t(8,R=m.components),"editable"in m&&t(9,J=m.editable),"wrap"in m&&t(10,F=m.wrap),"root"in m&&t(11,W=m.root),"i18n"in m&&t(12,ne=m.i18n),"max_height"in m&&t(13,ae=m.max_height),"line_breaks"in m&&t(14,ee=m.line_breaks),"column_widths"in m&&t(75,ce=m.column_widths),"show_row_numbers"in m&&t(15,be=m.show_row_numbers),"upload"in m&&t(16,Ne=m.upload),"stream_handler"in m&&t(17,de=m.stream_handler),"show_fullscreen_button"in m&&t(18,D=m.show_fullscreen_button),"show_copy_button"in m&&t(19,le=m.show_copy_button),"value_is_output"in m&&t(74,C=m.value_is_output),"max_chars"in m&&t(20,y=m.max_chars),"show_search"in m&&t(21,b=m.show_search),"pinned_columns"in m&&t(76,$=m.pinned_columns),"static_columns"in m&&t(22,M=m.static_columns),"fullscreen"in m&&t(23,Te=m.fullscreen),"display_value"in m&&t(77,Fe=m.display_value),"styling"in m&&t(78,Ue=m.styling)},l.$$.update=()=>{var m,j;if(l.$$.dirty[1]&4&&t(31,n=w.ui_state.selected_cells),l.$$.dirty[1]&4&&t(88,i=w.ui_state.selected),l.$$.dirty[1]&4&&t(48,s=w.ui_state.editing),l.$$.dirty[1]&4&&t(52,r=w.ui_state.header_edit),l.$$.dirty[1]&4&&t(51,a=w.ui_state.selected_header),l.$$.dirty[1]&4&&t(47,u=w.ui_state.active_cell_menu),l.$$.dirty[1]&4&&t(46,_=w.ui_state.active_header_menu),l.$$.dirty[1]&4&&t(32,o=w.ui_state.copy_flash),l.$$.dirty[0]&889192450|l.$$.dirty[1]&4|l.$$.dirty[2]&622592&&!ut(N,Je)){if(Ee){const Ce=N.length===0||N.length===1&&N[0].length===0,Se=Je!==void 0&&(N.length!==Je.length||N[0]&&Je[0]&&N[0].length!==Je[0].length);if(Ce||Se){for(let ke=0;ke<50;ke++)Ee.style.removeProperty(`--cell-width-${ke}`);Bt=0,qt=0,t(85,tt=!1)}}const Y=N.length===0||N.length===1&&N[0].length===0,te=Je!==void 0&&(N.length!==Je.length||N[0]&&Je[0]&&N[0].length!==Je[0].length);t(26,G=As(N,we,Et,nt,Fe)),t(81,Je=JSON.parse(JSON.stringify(N))),Y||te?X.reset_sort_state():w.sort_state.sort_columns.length>0?dt(G,Fe,Ue):(X.handle_sort(-1,"asc"),X.reset_sort_state()),w.filter_state.filter_columns.length>0?mt(G,Fe,Ue):X.reset_filter_state(),w.current_search_query&&X.handle_search(null),Ee&&Ze.length>0&&(Y||te)&&t(85,tt=!1)}if(l.$$.dirty[0]&67108864|l.$$.dirty[2]&16384&&t(53,f=$&&((m=G==null?void 0:G[0])!=null&&m.length)?Math.min($,G[0].length):0),l.$$.dirty[0]&16777249|l.$$.dirty[2]&262144&&(ut(L,st)||(t(25,Le=kt(L,V,we,nt)),t(80,st=JSON.parse(JSON.stringify(L))))),l.$$.dirty[0]&117440512|l.$$.dirty[2]&98304&&(G||Le||we)&&(t(34,he.data=G,he),t(34,he.headers=Le,he),t(34,he.els=we,he),t(34,he.display_value=Fe,he),t(34,he.styling=Ue,he)),l.$$.dirty[0]&201326592|l.$$.dirty[1]&4|l.$$.dirty[2]&65536)if(w.current_search_query!==void 0){const Y=new Map;t(27,it=[]),G.forEach((Ce,Se)=>{Ce.some(ke=>{var lt;return String(ke==null?void 0:ke.value).toLowerCase().includes(((lt=w.current_search_query)==null?void 0:lt.toLowerCase())||"")})&&it.push(Se),Ce.forEach((ke,lt)=>{var xe;Y.set(ke.id,{value:ke.value,display_value:ke.display_value!==void 0?ke.display_value:String(ke.value),styling:((xe=Ue==null?void 0:Ue[Se])==null?void 0:xe[lt])||""})})});const te=X.filter_data(G);t(35,Re=te.map(Ce=>Ce.map(Se=>{const ke=Y.get(Se.id);return{...Se,display_value:(ke==null?void 0:ke.display_value)!==void 0?ke.display_value:String(Se.value),styling:(ke==null?void 0:ke.styling)||""}})))}else t(27,it=[]);if(l.$$.dirty[0]&100663300|l.$$.dirty[2]&3149824&&(G||Le)&&(X.trigger_change(G.map((Y,te)=>Y.map((Ce,Se)=>{const ke=Array.isArray(k)?k[Se]:k;return{...Ce,value:Ss(Ce.value,ke)}})),Le,Ct,Tt,C,He),t(83,Ct=G.map(Y=>Y.map(te=>String(te.value)))),t(82,Tt=Le.map(Y=>Y.value))),l.$$.dirty[0]&67108864|l.$$.dirty[1]&4|l.$$.dirty[2]&98304&&(w.filter_state.filter_columns.length>0&&mt(G,Fe,Ue),w.sort_state.sort_columns.length>0&&(dt(G,Fe,Ue),X.update_row_order(G))),l.$$.dirty[0]&67108864&&t(50,c=Fi(G)),l.$$.dirty[0]&268435456|l.$$.dirty[2]&4194304&&Ze[0]&&(j=Ze[0])!=null&&j.clientWidth&&(clearTimeout(St),t(84,St=setTimeout(()=>at(),100))),l.$$.dirty[0]&268435456|l.$$.dirty[2]&8388608&&Ze[0]&&!tt&&(at(),t(85,tt=!0)),l.$$.dirty[2]&67108864&&t(49,g=!!i&&i[0]),l.$$.dirty[1]&3|l.$$.dirty[2]&16777216&&(o&&!ut(n,It)&&Cn(!1),t(86,It=n)),l.$$.dirty[2]&67108864&&i!==!1&&t(39,ll=i),l.$$.dirty[0]&1694498816|l.$$.dirty[2]&67108864&&i!==!1){const Y=lr(i,G,we,Ee,ht);document.documentElement.style.setProperty("--selected-col-pos",Y.col_pos),document.documentElement.style.setProperty("--selected-row-pos",Y.row_pos||"0px")}l.$$.dirty[0]&536870912&&Ee&&rl(),l.$$.dirty[2]&33554432&&t(45,A=(Ye==null?void 0:Ye.handle_mouse_down)||(()=>{})),l.$$.dirty[2]&33554432&&t(44,v=(Ye==null?void 0:Ye.handle_mouse_move)||(()=>{})),l.$$.dirty[2]&33554432&&t(43,B=(Ye==null?void 0:Ye.handle_mouse_up)||(()=>{}))},t(42,ot=bt.is_dragging),zt=bt.drag_start,il=bt.mouse_down_pos,[L,N,k,p,H,V,K,I,R,J,F,W,ne,ae,ee,be,Ne,de,D,le,y,b,M,Te,we,Le,G,it,Ze,Ee,ht,n,o,w,he,Re,Nt,Mt,Dt,ll,gt,Lt,ot,B,v,A,_,u,s,g,c,a,r,f,O,X,Xt,Gt,Qt,Zt,En,Nn,At,at,An,Sn,el,tl,Bn,qn,Ot,jt,Dn,In,C,ce,$,Fe,Ue,Mn,st,Je,Tt,Ct,St,tt,It,Ye,i,Ln,On,jn,zn,Hn,Vn,Pn,Un,Rn,Fn,Jn,Kn,Wn,Yn,Xn,Gn,Qn,Zn,xn,$n,ei,ti,li,ni,ii,ri,si,ai,oi,ui,_i,fi,ci,hi,di,mi]}class Ks extends Oe{constructor(e){super(),je(this,e,Js,Rs,ze,{datatype:2,label:3,show_label:4,headers:0,values:1,col_count:5,row_count:6,latex_delimiters:7,components:8,editable:9,wrap:10,root:11,i18n:12,max_height:13,line_breaks:14,column_widths:75,show_row_numbers:15,upload:16,stream_handler:17,show_fullscreen_button:18,show_copy_button:19,value_is_output:74,max_chars:20,show_search:21,pinned_columns:76,static_columns:22,fullscreen:23,display_value:77,styling:78,reset_sort_state:79},null,[-1,-1,-1,-1,-1,-1])}get reset_sort_state(){return this.$$.ctx[79]}}const Ws=Ks;function Ys(l){var o,f;let e,t,n,i,s;const r=[{autoscroll:l[17].autoscroll},{i18n:l[17].i18n},l[20]];let a={};for(let c=0;c<r.length;c+=1)a=Ci(a,r[c]);e=new Ii({props:a}),e.$on("clear_status",l[29]);function u(c){l[32](c)}let _={root:l[14],label:l[8],show_label:l[9],row_count:l[7],col_count:l[6],values:l[0].data,display_value:(o=l[0].metadata)==null?void 0:o.display_value,styling:(f=l[0].metadata)==null?void 0:f.styling,headers:l[0].headers,fullscreen:l[2],wrap:l[10],datatype:l[11],latex_delimiters:l[18],editable:l[21],max_height:l[19],i18n:l[17].i18n,line_breaks:l[15],column_widths:l[16],upload:l[30],stream_handler:l[31],show_fullscreen_button:l[22],max_chars:l[23],show_copy_button:l[24],show_row_numbers:l[25],show_search:l[26],pinned_columns:l[27],components:{image:Hi},static_columns:l[28]};return l[1]!==void 0&&(_.value_is_output=l[1]),n=new Ws({props:_}),pe.push(()=>De(n,"value_is_output",u)),n.$on("change",l[33]),n.$on("input",l[34]),n.$on("select",l[35]),n.$on("fullscreen",l[36]),{c(){ie(e.$$.fragment),t=Q(),ie(n.$$.fragment)},l(c){_e(e.$$.fragment,c),t=Z(c),_e(n.$$.fragment,c)},m(c,g){re(e,c,g),z(c,t,g),re(n,c,g),s=!0},p(c,g){var B,w;const A=g[0]&1179648?Ai(r,[g[0]&131072&&{autoscroll:c[17].autoscroll},g[0]&131072&&{i18n:c[17].i18n},g[0]&1048576&&Si(c[20])]):{};e.$set(A);const v={};g[0]&16384&&(v.root=c[14]),g[0]&256&&(v.label=c[8]),g[0]&512&&(v.show_label=c[9]),g[0]&128&&(v.row_count=c[7]),g[0]&64&&(v.col_count=c[6]),g[0]&1&&(v.values=c[0].data),g[0]&1&&(v.display_value=(B=c[0].metadata)==null?void 0:B.display_value),g[0]&1&&(v.styling=(w=c[0].metadata)==null?void 0:w.styling),g[0]&1&&(v.headers=c[0].headers),g[0]&4&&(v.fullscreen=c[2]),g[0]&1024&&(v.wrap=c[10]),g[0]&2048&&(v.datatype=c[11]),g[0]&262144&&(v.latex_delimiters=c[18]),g[0]&2097152&&(v.editable=c[21]),g[0]&524288&&(v.max_height=c[19]),g[0]&131072&&(v.i18n=c[17].i18n),g[0]&32768&&(v.line_breaks=c[15]),g[0]&65536&&(v.column_widths=c[16]),g[0]&131072&&(v.upload=c[30]),g[0]&131072&&(v.stream_handler=c[31]),g[0]&4194304&&(v.show_fullscreen_button=c[22]),g[0]&8388608&&(v.max_chars=c[23]),g[0]&16777216&&(v.show_copy_button=c[24]),g[0]&33554432&&(v.show_row_numbers=c[25]),g[0]&67108864&&(v.show_search=c[26]),g[0]&134217728&&(v.pinned_columns=c[27]),g[0]&268435456&&(v.static_columns=c[28]),!i&&g[0]&2&&(i=!0,v.value_is_output=c[1],Ie(()=>i=!1)),n.$set(v)},i(c){s||(E(e.$$.fragment,c),E(n.$$.fragment,c),s=!0)},o(c){q(e.$$.fragment,c),q(n.$$.fragment,c),s=!1},d(c){c&&d(t),se(e,c),se(n,c)}}}function Xs(l){let e,t,n;function i(r){l[37](r)}let s={visible:l[5],padding:!1,elem_id:l[3],elem_classes:l[4],container:!1,scale:l[12],min_width:l[13],overflow_behavior:"visible",$$slots:{default:[Ys]},$$scope:{ctx:l}};return l[2]!==void 0&&(s.fullscreen=l[2]),e=new Di({props:s}),pe.push(()=>De(e,"fullscreen",i)),{c(){ie(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,a){re(e,r,a),n=!0},p(r,a){const u={};a[0]&32&&(u.visible=r[5]),a[0]&8&&(u.elem_id=r[3]),a[0]&16&&(u.elem_classes=r[4]),a[0]&4096&&(u.scale=r[12]),a[0]&8192&&(u.min_width=r[13]),a[0]&536858567|a[1]&128&&(u.$$scope={dirty:a,ctx:r}),!t&&a[0]&4&&(t=!0,u.fullscreen=r[2],Ie(()=>t=!1)),e.$set(u)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){se(e,r)}}}function Gs(l,e,t){let{elem_id:n=""}=e,{elem_classes:i=[]}=e,{visible:s=!0}=e,{value:r={data:[["","",""]],headers:["1","2","3"],metadata:null}}=e,{value_is_output:a=!1}=e,{col_count:u}=e,{row_count:_}=e,{label:o=null}=e,{show_label:f=!0}=e,{wrap:c}=e,{datatype:g}=e,{scale:A=null}=e,{min_width:v=void 0}=e,{root:B}=e,{line_breaks:w=!0}=e,{column_widths:k=[]}=e,{gradio:p}=e,{latex_delimiters:H}=e,{max_height:L=void 0}=e,{loading_status:N}=e,{interactive:V}=e,{show_fullscreen_button:K=!1}=e,{max_chars:I=void 0}=e,{show_copy_button:R=!1}=e,{show_row_numbers:J=!1}=e,{show_search:F="none"}=e,{pinned_columns:W=0}=e,{static_columns:ne=[]}=e,{fullscreen:ae=!1}=e;const ee=()=>p.dispatch("clear_status",N),ce=(...b)=>p.client.upload(...b),be=(...b)=>p.client.stream(...b);function Ne(b){a=b,t(1,a)}const de=b=>{t(0,r.data=b.detail.data,r),t(0,r.headers=b.detail.headers,r),p.dispatch("change")},D=b=>p.dispatch("input"),le=b=>p.dispatch("select",b.detail),C=({detail:b})=>{t(2,ae=b)};function y(b){ae=b,t(2,ae)}return l.$$set=b=>{"elem_id"in b&&t(3,n=b.elem_id),"elem_classes"in b&&t(4,i=b.elem_classes),"visible"in b&&t(5,s=b.visible),"value"in b&&t(0,r=b.value),"value_is_output"in b&&t(1,a=b.value_is_output),"col_count"in b&&t(6,u=b.col_count),"row_count"in b&&t(7,_=b.row_count),"label"in b&&t(8,o=b.label),"show_label"in b&&t(9,f=b.show_label),"wrap"in b&&t(10,c=b.wrap),"datatype"in b&&t(11,g=b.datatype),"scale"in b&&t(12,A=b.scale),"min_width"in b&&t(13,v=b.min_width),"root"in b&&t(14,B=b.root),"line_breaks"in b&&t(15,w=b.line_breaks),"column_widths"in b&&t(16,k=b.column_widths),"gradio"in b&&t(17,p=b.gradio),"latex_delimiters"in b&&t(18,H=b.latex_delimiters),"max_height"in b&&t(19,L=b.max_height),"loading_status"in b&&t(20,N=b.loading_status),"interactive"in b&&t(21,V=b.interactive),"show_fullscreen_button"in b&&t(22,K=b.show_fullscreen_button),"max_chars"in b&&t(23,I=b.max_chars),"show_copy_button"in b&&t(24,R=b.show_copy_button),"show_row_numbers"in b&&t(25,J=b.show_row_numbers),"show_search"in b&&t(26,F=b.show_search),"pinned_columns"in b&&t(27,W=b.pinned_columns),"static_columns"in b&&t(28,ne=b.static_columns),"fullscreen"in b&&t(2,ae=b.fullscreen)},[r,a,ae,n,i,s,u,_,o,f,c,g,A,v,B,w,k,p,H,L,N,V,K,I,R,J,F,W,ne,ee,ce,be,Ne,de,D,le,C,y]}class aa extends Oe{constructor(e){super(),je(this,e,Gs,Xs,ze,{elem_id:3,elem_classes:4,visible:5,value:0,value_is_output:1,col_count:6,row_count:7,label:8,show_label:9,wrap:10,datatype:11,scale:12,min_width:13,root:14,line_breaks:15,column_widths:16,gradio:17,latex_delimiters:18,max_height:19,loading_status:20,interactive:21,show_fullscreen_button:22,max_chars:23,show_copy_button:24,show_row_numbers:25,show_search:26,pinned_columns:27,static_columns:28,fullscreen:2},null,[-1,-1])}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),ve()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),ve()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),ve()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),ve()}get value_is_output(){return this.$$.ctx[1]}set value_is_output(e){this.$$set({value_is_output:e}),ve()}get col_count(){return this.$$.ctx[6]}set col_count(e){this.$$set({col_count:e}),ve()}get row_count(){return this.$$.ctx[7]}set row_count(e){this.$$set({row_count:e}),ve()}get label(){return this.$$.ctx[8]}set label(e){this.$$set({label:e}),ve()}get show_label(){return this.$$.ctx[9]}set show_label(e){this.$$set({show_label:e}),ve()}get wrap(){return this.$$.ctx[10]}set wrap(e){this.$$set({wrap:e}),ve()}get datatype(){return this.$$.ctx[11]}set datatype(e){this.$$set({datatype:e}),ve()}get scale(){return this.$$.ctx[12]}set scale(e){this.$$set({scale:e}),ve()}get min_width(){return this.$$.ctx[13]}set min_width(e){this.$$set({min_width:e}),ve()}get root(){return this.$$.ctx[14]}set root(e){this.$$set({root:e}),ve()}get line_breaks(){return this.$$.ctx[15]}set line_breaks(e){this.$$set({line_breaks:e}),ve()}get column_widths(){return this.$$.ctx[16]}set column_widths(e){this.$$set({column_widths:e}),ve()}get gradio(){return this.$$.ctx[17]}set gradio(e){this.$$set({gradio:e}),ve()}get latex_delimiters(){return this.$$.ctx[18]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),ve()}get max_height(){return this.$$.ctx[19]}set max_height(e){this.$$set({max_height:e}),ve()}get loading_status(){return this.$$.ctx[20]}set loading_status(e){this.$$set({loading_status:e}),ve()}get interactive(){return this.$$.ctx[21]}set interactive(e){this.$$set({interactive:e}),ve()}get show_fullscreen_button(){return this.$$.ctx[22]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),ve()}get max_chars(){return this.$$.ctx[23]}set max_chars(e){this.$$set({max_chars:e}),ve()}get show_copy_button(){return this.$$.ctx[24]}set show_copy_button(e){this.$$set({show_copy_button:e}),ve()}get show_row_numbers(){return this.$$.ctx[25]}set show_row_numbers(e){this.$$set({show_row_numbers:e}),ve()}get show_search(){return this.$$.ctx[26]}set show_search(e){this.$$set({show_search:e}),ve()}get pinned_columns(){return this.$$.ctx[27]}set pinned_columns(e){this.$$set({pinned_columns:e}),ve()}get static_columns(){return this.$$.ctx[28]}set static_columns(e){this.$$set({static_columns:e}),ve()}get fullscreen(){return this.$$.ctx[2]}set fullscreen(e){this.$$set({fullscreen:e}),ve()}}export{Ws as BaseDataFrame,_a as BaseExample,aa as default};
//# sourceMappingURL=Index.BSHa734O.js.map

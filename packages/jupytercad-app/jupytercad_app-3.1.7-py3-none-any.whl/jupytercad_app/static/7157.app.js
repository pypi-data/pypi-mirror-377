"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[7157,9538],{99538:(e,t,o)=>{o.r(t),o.d(t,{default:()=>M,lineColItem:()=>w});var r,n=o(96576),i=o(86012),a=o(43154),s=o(90182),d=o(22944),l=o(83174);!function(e){e.deleteLine="codemirror:delete-line",e.toggleBlockComment="codemirror:toggle-block-comment",e.toggleComment="codemirror:toggle-comment",e.selectNextOccurrence="codemirror:select-next-occurrence",e.toggleTabFocusMode="codemirror:toggle-tab-focus-mode"}(r||(r={}));const c=".cm-content",m={id:"@jupyterlab/codemirror-extension:commands",description:"Registers commands acting on selected/active CodeMirror editor.",autoStart:!0,optional:[s.ITranslator],activate:(e,t)=>{const o=(t=null!=t?t:s.nullTranslator).load("jupyterlab"),n=e=>e.classList.contains(c),i=()=>{var t,o;const r=null!==(t=e.contextMenuHitTest(n))&&void 0!==t?t:null===(o=document.activeElement)||void 0===o?void 0:o.closest(c);if(r&&"cmView"in r)return r.cmView.view},a=()=>!!i();e.commands.addCommand(r.deleteLine,{label:o.__("Delete the current line"),execute:()=>{const e=i();e&&(0,d.SA)(e)},isEnabled:a}),e.commands.addCommand(r.toggleBlockComment,{label:o.__("Toggle Block Comment"),caption:o.__("Toggles block comments in languages which support it (e.g. C, JavaScript)"),execute:()=>{const e=i();e&&(0,d.NH)(e)},isEnabled:a}),e.commands.addCommand(r.toggleComment,{label:o.__("Toggle Comment"),execute:()=>{const e=i();e&&(0,d.qh)(e)},isEnabled:a}),e.commands.addCommand(r.toggleTabFocusMode,{label:o.__("Toggle Tab Focus Mode"),caption:o.__("Toggles behavior of Tab key between inserting indentation and moving to next focusable element"),execute:()=>{const e=i();e&&(0,d.ND)(e)},isEnabled:a}),e.commands.addCommand(r.selectNextOccurrence,{label:o.__("Select Next Occurrence"),execute:()=>{const e=i();e&&(0,l.dg)(e)},isEnabled:a})}};var u=o(86776),g=o(21656),p=o(59182),h=o(64530),v=o(68211),f=o(99925),y=o(95870),b=o.n(y);const E="@jupyterlab/codemirror-extension:plugin",x={id:"@jupyterlab/codemirror-extension:languages",description:"Provides the CodeMirror languages registry.",provides:g.IEditorLanguageRegistry,optional:[s.ITranslator],activate:(e,t)=>{const r=new g.EditorLanguageRegistry;for(const e of g.EditorLanguageRegistry.getDefaultLanguages(t))r.addLanguage(e);return r.addLanguage({name:"ipythongfm",mime:"text/x-ipythongfm",load:async()=>{const[e,t,n]=await Promise.all([Promise.all([o.e(7488),o.e(9162),o.e(1187),o.e(2552),o.e(4642)]).then(o.bind(o,14642)),Promise.all([o.e(1187),o.e(7572)]).then(o.bind(o,47572)),o.e(5637).then(o.bind(o,25637))]),i=e.markdown({base:e.markdownLanguage,codeLanguages:e=>r.findBest(e),extensions:[(0,g.parseMathIPython)(u.Tg.define(n.stexMath).parser)]});return new u.Yy(i.language,[i.support,(0,g.pythonBuiltin)(t.pythonLanguage)])}}),r}},C={id:"@jupyterlab/codemirror-extension:themes",description:"Provides the CodeMirror theme registry",provides:g.IEditorThemeRegistry,optional:[s.ITranslator],activate:(e,t)=>{const o=new g.EditorThemeRegistry;for(const e of g.EditorThemeRegistry.getDefaultThemes(t))o.addTheme(e);return o}},T={id:"@jupyterlab/codemirror-extension:extensions",description:"Provides the CodeMirror extension factory registry.",provides:g.IEditorExtensionRegistry,requires:[g.IEditorThemeRegistry],optional:[s.ITranslator,p.ISettingRegistry,h.IFormRendererRegistry],activate:(e,t,o,r,n)=>{const i=new g.EditorExtensionRegistry;for(const e of g.EditorExtensionRegistry.getDefaultExtensions({themes:t,translator:o}))i.addExtension(e);if(r){const t=e=>{var t;i.baseConfiguration=null!==(t=e.get("defaultConfig").composite)&&void 0!==t?t:{}};Promise.all([r.load(E),e.restored]).then(([e])=>{t(e),e.changed.connect(t)}),null==n||n.addRenderer(`${E}.defaultConfig`,{fieldRenderer:e=>{let t;const r=b().useMemo(()=>i.settingsSchema,[]);t=e.name in e.formContext.defaultFormData?e.formContext.defaultFormData[e.name]:{};for(const[e,o]of Object.entries(i.defaultConfiguration))void 0===r[e]||e in t||(t[e]=o);return b().createElement("div",{className:"jp-FormGroup-contentNormal"},b().createElement("h3",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem"},e.schema.title),e.schema.description&&b().createElement("div",{className:"jp-FormGroup-description"},e.schema.description),b().createElement(h.FormComponent,{schema:{title:e.schema.title,description:e.schema.description,type:"object",properties:r,additionalProperties:!1},validator:f.Ay,formData:{...t,...e.formData},formContext:{defaultFormData:t},liveValidate:!0,onChange:o=>{var r;const n={};for(const[e,i]of Object.entries(null!==(r=o.formData)&&void 0!==r?r:{})){const o=t[e];void 0!==o&&v.JSONExt.deepEqual(i,o)||(n[e]=i)}e.onChange(n)},tagName:"div",translator:null!=o?o:s.nullTranslator}))}})}return i}},R={id:"@jupyterlab/codemirror-extension:binding",description:"Register the CodeMirror extension factory binding the editor and the shared model.",autoStart:!0,requires:[g.IEditorExtensionRegistry],activate:(e,t)=>{t.addExtension({name:"shared-model-binding",factory:e=>{var t;const o=e.model.sharedModel;return g.EditorExtensionRegistry.createImmutableExtension((0,g.ybinding)({ytext:o.ysource,undoManager:null!==(t=o.undoManager)&&void 0!==t?t:void 0}))}})}},I={id:"@jupyterlab/codemirror-extension:services",description:"Provides the service to instantiate CodeMirror editors.",provides:i.IEditorServices,requires:[g.IEditorLanguageRegistry,g.IEditorExtensionRegistry],optional:[s.ITranslator],activate:(e,t,o,r)=>({factoryService:new g.CodeMirrorEditorFactory({extensions:o,languages:t,translator:null!=r?r:s.nullTranslator}),mimeTypeService:new g.CodeMirrorMimeTypeService(t)})},w={id:"@jupyterlab/codemirror-extension:line-col-status",description:"Provides the code editor cursor position model.",autoStart:!0,requires:[s.ITranslator],optional:[n.ILabShell,a.IStatusBar],provides:i.IPositionModel,activate:(e,t,o,r)=>{const n=new i.LineCol(t),a=new Set;function s(e,t){Promise.all([...a].map(e=>e(t.newValue))).then(e=>{var t;n.model.editor=null!==(t=e.filter(e=>null!==e)[0])&&void 0!==t?t:null}).catch(e=>{console.error("Get editors",e)})}return r&&r.registerStatusItem(w.id,{priority:1,item:n,align:"right",rank:2,isActive:()=>!!n.model.editor}),o&&o.currentChanged.connect(s),{addEditorProvider:t=>{a.add(t),e.shell.currentWidget&&s(e.shell,{newValue:e.shell.currentWidget,oldValue:null})},update:()=>{s(e.shell,{oldValue:e.shell.currentWidget,newValue:e.shell.currentWidget})}}}},M=[m,x,C,R,T,I,w]}}]);
"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[4725,7106],{67106:(t,a,e)=>{e.r(a),e.d(a,{default:()=>g});var n=e(96576),o=e(18504),r=e(31480),s=e(59182),i=e(90182);const l="@jupyterlab/translation-extension:plugin",c={id:"@jupyterlab/translation-extension:translator-connector",description:"Provides the application translation connector.",autoStart:!0,requires:[n.JupyterFrontEnd.IPaths],provides:i.ITranslatorConnector,activate:(t,a)=>{const e=a.urls.translations,n=t.serviceManager.serverSettings;return new i.TranslatorConnector(e,n)}},d={id:"@jupyterlab/translation-extension:translator",description:"Provides the application translation object.",autoStart:!0,requires:[n.JupyterFrontEnd.IPaths,s.ISettingRegistry],optional:[n.ILabShell,i.ITranslatorConnector],provides:i.ITranslator,activate:async(t,a,e,n,r)=>{const s=await e.load(l),c=s.get("locale").composite;let d=s.get("stringsPrefix").composite;d=s.get("displayStringsPrefix").composite?d:"";const u=t.serviceManager.serverSettings,g=new i.TranslationManager(a.urls.translations,d,u,null!=r?r:void 0);return await g.fetch(c),document.documentElement.lang=g.languageCode,n&&(n.translator=g),o.Dialog.translator=g,g}},u={id:l,description:"Adds translation commands and settings.",requires:[s.ISettingRegistry,i.ITranslator,i.ITranslatorConnector],optional:[r.IMainMenu,o.ICommandPalette],autoStart:!0,activate:(t,a,e,n,r,s)=>{var i;const c=e.load("jupyterlab"),{commands:d}=t,u=r?null===(i=r.settingsMenu.items.find(t=>{var a;return"submenu"===t.type&&"jp-mainmenu-settings-language"===(null===(a=t.submenu)||void 0===a?void 0:a.id)}))||void 0===i?void 0:i.submenu:null;n.fetch().then(t=>{const n=e.languageCode.replace("-","_");for(const e in t.data){const r=t.data[e],i=r.displayName,g=r.nativeName,p=n===e,m=p?`${i}`:`${i} - ${g}`,h=`jupyterlab-translation:${e}`;d.addCommand(h,{label:m,caption:c.__("Change interface language to %1",m),isEnabled:()=>!p,isToggled:()=>p,execute:async()=>{if((await(0,o.showDialog)({title:c.__("Change interface language?"),body:c.__("After changing the interface language to %1, you will need to reload JupyterLab to see the changes.",m),buttons:[o.Dialog.cancelButton(),o.Dialog.okButton({label:c.__("Change and reload")})]})).button.accept)try{await a.set(l,"locale",e),window.location.reload()}catch(t){console.error(`Failed to update language locale to ${e}`,t)}}}),u&&u.addItem({command:h,args:{}}),s&&s.addItem({category:c.__("Display Languages"),command:h})}}).catch(t=>{console.error(`Available locales errored!\n${t}`)})}},g=[c,d,u]}}]);
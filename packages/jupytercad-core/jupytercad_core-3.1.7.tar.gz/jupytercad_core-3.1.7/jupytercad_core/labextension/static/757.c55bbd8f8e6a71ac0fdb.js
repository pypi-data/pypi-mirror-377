"use strict";(self.webpackChunk_jupytercad_jupytercad_core=self.webpackChunk_jupytercad_jupytercad_core||[]).push([[757],{5757:(e,t,r)=>{r.r(t),r.d(t,{JupyterCadDocumentWidgetFactory:()=>m,JupyterCadWidgetFactory:()=>u,JupyterCadWorkerRegistry:()=>U,default:()=>z});var i=r(9498),o=r(6230),n=r(9662),s=r(1436),a=r(6391),d=r(5428),c=r(9565),p=r(2771),l=r(2043),y=r(6835);class m extends y.ABCWidgetFactory{constructor(e){const{backendCheck:t,externalCommandRegistry:r}=e;super(function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]])}return r}(e,["backendCheck","externalCommandRegistry"])),this.options=e,this._backendCheck=t,this._commands=e.commands,this._workerRegistry=e.workerRegistry,this._externalCommandRegistry=r}createNewWidget(e){if(this._backendCheck&&!this._backendCheck())throw new Error("Requested backend is not installed");const{model:t}=e;t.filePath=e.localPath,e.pathChanged.connect(()=>{t.filePath=e.localPath});const r=new o.JupyterCadPanel({model:t,workerRegistry:this._workerRegistry,manager:this.options.manager,contentFactory:this.options.contentFactory,mimeTypeService:this.options.mimeTypeService,rendermime:this.options.rendermime,consoleTracker:this.options.consoleTracker,commandRegistry:this.options.commands}),i=new o.ToolbarWidget({commands:this._commands,model:t,externalCommands:this._externalCommandRegistry.getCommands()});return new o.JupyterCadDocumentWidget({context:e,content:r,toolbar:i})}}const u=m;class g{constructor(e){this.collaborative=!0,this._disposed=!1,this._annotationModel=e.annotationModel,this._settingRegistry=e.settingRegistry}get name(){return"jupytercad-jcadmodel"}get contentType(){return"jcad"}get fileFormat(){return"text"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){const t=new n.JupyterCadModel({sharedModel:e.sharedModel,languagePreference:e.languagePreference,annotationModel:this._annotationModel,settingRegistry:this._settingRegistry});return t.initSettings(),t}}var h=r(5010);const b="JupyterCAD",f="jcad",P="JupyterCAD",C="@jupytercad/jupytercad-core:jupytercad-settings";var A;!function(e){e.createNew="jupytercad:create-new-jcad-file"}(A||(A={}));const j={id:"jupytercad:jcadplugin",requires:[n.IJupyterCadDocTracker,s.IThemeManager,n.IAnnotationToken,c.IFileBrowserFactory,n.IJCadWorkerRegistryToken,n.IJCadExternalCommandRegistryToken,d.ConsolePanel.IContentFactory,a.IEditorServices,l.IRenderMimeRegistry,d.IConsoleTracker],optional:[p.ILauncher,s.ICommandPalette,i.ICollaborativeDrive,h.ISettingRegistry],autoStart:!0,activate:async(e,t,r,i,s,a,d,c,p,l,u,h,j,R,T)=>{let x=null;if(T)try{x=await T.load(C),console.log(`Loaded settings for ${C}`,x)}catch(e){console.warn(`Failed to load settings for ${C}`,e)}else console.warn("No settingRegistry available; using default settings.");const S=new m({name:b,modelName:"jupytercad-jcadmodel",fileTypes:[f],defaultFor:[f],tracker:t,commands:e.commands,workerRegistry:a,externalCommandRegistry:d,manager:e.serviceManager,contentFactory:c,rendermime:l,mimeTypeService:p.mimeTypeService,consoleTracker:u});e.docRegistry.addWidgetFactory(S);const v=new y.MimeDocumentFactory({dataType:"json",rendermime:l,modelName:"jupytercad-jcadmodel",name:"JSON Editor",primaryFileType:e.docRegistry.getFileType("json"),fileTypes:[f]});e.docRegistry.addWidgetFactory(v);const w=new g({annotationModel:i,settingRegistry:T});e.docRegistry.addModelFactory(w),e.docRegistry.addFileType({name:f,displayName:"JCAD",mimeTypes:["text/json"],extensions:[".jcad",".JCAD"],fileFormat:"text",contentType:f,icon:o.logoIcon});if(R&&R.sharedModelFactory.registerDocumentFactory(f,()=>new n.JupyterCadDoc),S.widgetCreated.connect((i,n)=>{n.title.icon=o.logoIcon,n.context.pathChanged.connect(()=>{t.save(n)}),r.themeChanged.connect((e,t)=>n.model.themeChanged.emit(t)),t.add(n),e.shell.activateById("jupytercad::leftControlPanel")}),e.commands.addCommand(A.createNew,{label:e=>{var t;return null!==(t=e.label)&&void 0!==t?t:"CAD file"},caption:"Create a new JCAD Editor",icon:o.logoIcon,describedBy:{args:{type:"object",properties:{label:{type:"string",description:"The label for the file creation command"},cwd:{type:"string",description:"The current working directory where the file should be created"}}}},execute:async t=>{var r;const i=t.cwd||(null===(r=s.tracker.currentWidget)||void 0===r?void 0:r.model.path);let o=await e.serviceManager.contents.newUntitled({path:i,type:"file",ext:".jcad"});return o=await e.serviceManager.contents.save(o.path,Object.assign(Object.assign({},o),{format:"text",size:void 0,content:`{\n\t"schemaVersion": "${n.SCHEMA_VERSION}",\n\t"objects": [],\n\t"options": {},\n\t"metadata": {},\n\t"outputs": {}}`})),e.commands.execute("docmanager:open",{path:o.path,factory:b})}}),h&&h.add({command:A.createNew,category:"Other",rank:1}),j){j.addItem({command:A.createNew,category:P});for(const e in o.CommandIDs)j.addItem({command:o.CommandIDs[e],category:P})}e.contextMenu.addItem({command:A.createNew,selector:".jp-DirListing",rank:55,args:{label:"New JupyterCAD file"}})}};var R=r(7262),T=r(4602);class x extends n.JupyterCadDoc{constructor(){super(),this.editable=!1,this.toJcadEndpoint="jupytercad/export",this._sourceObserver=e=>{const t=[];e.forEach(e=>{e.keys.forEach((r,i)=>{t.push({name:"Step File",key:i,newValue:R.JSONExt.deepCopy(e.target.toJSON())})})}),this._objectChanged.emit({objectChange:t}),this._changed.emit({objectChange:t})},this._objectChanged=new T.Signal(this),this._source=this.ydoc.getText("source"),this._source.observeDeep(this._sourceObserver)}set source(e){this._source.insert(0,e)}get version(){return n.SCHEMA_VERSION}get objectsChanged(){return this._objectChanged}get objects(){return this._source.toJSON()?[{name:"Step File",visible:!0,shape:"Part::Any",parameters:{Content:this._source.toJSON(),Type:"STEP",Color:"#808080",Placement:{Angle:0,Axis:[0,0,1],Position:[0,0,0]}}}]:[]}setSource(e){this._source.insert(0,e)}static create(){return new x}}class S extends n.JupyterCadModel{constructor(e){super({sharedModel:e.sharedModel,languagePreference:e.languagePreference,settingRegistry:e.settingRegistry})}fromString(e){this.sharedModel.source=e,this.dirty=!0}createSharedModel(){return x.create()}}class v{constructor(e){this.collaborative=!0,this._disposed=!1,this._settingRegistry=e.settingRegistry}get name(){return"jupytercad-stepmodel"}get contentType(){return"step"}get fileFormat(){return"text"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){const t=new S({sharedModel:e.sharedModel,languagePreference:e.languagePreference,settingRegistry:this._settingRegistry});return t.initSettings(),t}}const w="@jupytercad/jupytercad-core:jupytercad-settings",k={id:"jupytercad:stepplugin",requires:[n.IJupyterCadDocTracker,s.IThemeManager,n.IJCadWorkerRegistryToken,n.IJCadExternalCommandRegistryToken],optional:[i.ICollaborativeDrive,h.ISettingRegistry],autoStart:!0,activate:async(e,t,r,i,n,s,a)=>{let d=null;if(a)try{d=await a.load(w),console.log(`Loaded settings for ${w}`,d)}catch(e){console.warn(`Failed to load settings for ${w}`,e)}else console.warn("No settingRegistry available; using default settings.");const c=new m({name:"JupyterCAD STEP Viewer",modelName:"jupytercad-stepmodel",fileTypes:["step"],defaultFor:["step"],tracker:t,commands:e.commands,workerRegistry:i,externalCommandRegistry:n});e.docRegistry.addWidgetFactory(c);const p=new v({settingRegistry:a});e.docRegistry.addModelFactory(p),e.docRegistry.addFileType({name:"step",displayName:"STEP",mimeTypes:["text/plain"],extensions:[".step",".STEP"],fileFormat:"text",contentType:"step",icon:o.stpIcon});s&&s.sharedModelFactory.registerDocumentFactory("step",()=>new x),c.widgetCreated.connect((i,n)=>{n.title.icon=o.stpIcon,n.context.pathChanged.connect(()=>{t.save(n)}),r.themeChanged.connect((e,t)=>n.model.themeChanged.emit(t)),t.add(n),e.shell.activateById("jupytercad::leftControlPanel"),e.shell.activateById("jupytercad::rightControlPanel")})}};var _,I=r(4690);class M extends n.JupyterCadDoc{constructor(){super(),this.editable=!1,this.toJcadEndpoint="jupytercad/export",this._sourceObserver=e=>{const t=[];e.forEach(e=>{e.keys.forEach((r,i)=>{t.push({name:"Stl File",key:i,newValue:R.JSONExt.deepCopy(e.target.toJSON())})})}),this._objectChanged.emit({objectChange:t}),this._changed.emit({objectChange:t})},this._objectChanged=new T.Signal(this),this._source=this.ydoc.getText("source"),this._source.observeDeep(this._sourceObserver)}set source(e){this._source.insert(0,e)}get version(){return n.SCHEMA_VERSION}get objectsChanged(){return this._objectChanged}get objects(){return this._source.toJSON()?[{name:"Stl File",visible:!0,shape:"Part::Any",parameters:{Content:this._source.toJSON(),Type:"STL",Color:"#808080",Placement:{Angle:0,Axis:[0,0,1],Position:[0,0,0]}}}]:[]}setSource(e){this._source.insert(0,e)}static create(){return new M}}class F extends n.JupyterCadModel{constructor(e){super({sharedModel:e.sharedModel,languagePreference:e.languagePreference,settingRegistry:e.settingRegistry})}fromString(e){this.sharedModel.source=e,this.dirty=!0}createSharedModel(){return M.create()}}class E{constructor(e){this.collaborative=!0,this._disposed=!1,this._settingRegistry=e.settingRegistry}get name(){return"jupytercad-stlmodel"}get contentType(){return"stl"}get fileFormat(){return"text"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){const t=new F({sharedModel:e.sharedModel,languagePreference:e.languagePreference,settingRegistry:this._settingRegistry});return t.initSettings(),t}}var N=new Uint8Array(16);function J(){if(!_&&!(_="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _(N)}const O=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var L=[],q=0;q<256;++q)L.push((q+256).toString(16).substr(1));const D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(L[e[t+0]]+L[e[t+1]]+L[e[t+2]]+L[e[t+3]]+"-"+L[e[t+4]]+L[e[t+5]]+"-"+L[e[t+6]]+L[e[t+7]]+"-"+L[e[t+8]]+L[e[t+9]]+"-"+L[e[t+10]]+L[e[t+11]]+L[e[t+12]]+L[e[t+13]]+L[e[t+14]]+L[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&O.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r},W=function(e,t,r){var i=(e=e||{}).random||(e.rng||J)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=i[o];return t}return D(i)};class X{constructor(e){this._ready=new R.PromiseDelegate,this._tracker=e.tracker,this.shapeFormat=e.shapeFormat}get ready(){return this._ready.promise}register(e){return W()}unregister(e){}postMessage(e){var t;if(e.action===n.WorkerAction.POSTPROCESS&&e.payload&&Object.keys(e.payload).length>0){const r=e.payload.jcObject,i=e.payload.postShape,o=(null===(t=null==r?void 0:r.shapeMetadata)||void 0===t?void 0:t.shapeFormat)||this.shapeFormat;o===n.JCadWorkerSupportedFormat.STL&&"string"==typeof i?this._downloadFile(r.name,i,"stl"):o===n.JCadWorkerSupportedFormat.BREP&&"string"==typeof i?this._downloadFile(r.name,i,"brep"):console.error("No valid content received for object:",r.name)}}_downloadFile(e,t,r){const i=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(i),n=document.createElement("a");n.href=o;const s=e.replace(/_(STL|BREP)_Export$/,"");n.download=`${s.toLowerCase().replace(/[^a-z0-9]/g,"_")}.${r}`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(o),this._cleanupExportObject(e)}_cleanupExportObject(e){const t=this._tracker.currentWidget;if(!t)return;const r=t.model.sharedModel;r&&r.objectExists(e)&&r.transact(()=>{r.removeObjectByName(e)})}}const B="@jupytercad/jupytercad-core:jupytercad-settings",Y={id:"jupytercad:stlplugin",requires:[n.IJupyterCadDocTracker,s.IThemeManager,n.IJCadWorkerRegistryToken,n.IJCadExternalCommandRegistryToken],optional:[i.ICollaborativeDrive,h.ISettingRegistry,I.ITranslator],autoStart:!0,activate:async(e,t,r,i,s,a,d,c)=>{let p=null;if(c=null!=c?c:I.nullTranslator,d)try{p=await d.load(B),console.log(`Loaded settings for ${B}`,p)}catch(e){console.warn(`Failed to load settings for ${B}`,e)}else console.warn("No settingRegistry available; using default settings.");const l=new X({tracker:t,shapeFormat:n.JCadWorkerSupportedFormat.STL});i.registerWorker("jupytercad-stl:worker",l);const y=new X({tracker:t,shapeFormat:n.JCadWorkerSupportedFormat.BREP});i.registerWorker("jupytercad-brep:worker",y);const u=new m({name:"JupyterCAD STL Viewer",modelName:"jupytercad-stlmodel",fileTypes:["stl"],defaultFor:["stl"],tracker:t,commands:e.commands,workerRegistry:i,externalCommandRegistry:s});e.docRegistry.addWidgetFactory(u);const g=new E(d?{settingRegistry:d}:{});e.docRegistry.addModelFactory(g),e.docRegistry.addFileType({name:"stl",displayName:"STL",mimeTypes:["text/plain"],extensions:[".stl",".STL"],fileFormat:"text",contentType:"stl",icon:o.stlIcon});a&&a.sharedModelFactory.registerDocumentFactory("stl",()=>new M),u.widgetCreated.connect((i,n)=>{n.title.icon=o.stlIcon,n.context.pathChanged.connect(()=>{t.save(n)}),r.themeChanged.connect((e,t)=>n.model.themeChanged.emit(t)),t.add(n),e.shell.activateById("jupytercad::leftControlPanel"),e.shell.activateById("jupytercad::rightControlPanel")})}};var Z=r(3517),G=r(1888);class U{constructor(){this._registry=new Map;const e=new Worker(new URL(r.p+r.u(201),r.b));this._defaultWorker=new G.OccWorker({worker:e})}registerWorker(e,t){this._registry.has(e)?console.error("Worker is already registered!"):this._registry.set(e,t)}unregisterWorker(e){this._registry.has(e)||this._registry.delete(e)}getDefaultWorker(){return this._defaultWorker}getWorker(e){return this._registry.get(e)}getAllWorkers(){return[...this._registry.values()]}}const V=JSON.parse('{"Part::GeomCircle":{"type":"object","required":["TypeId","CenterX","CenterY","CenterZ","NormalX","NormalY","NormalZ","AngleXU","Radius"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomCircle","description":"Geometry type"},"CenterX":{"type":"number","description":"CenterX"},"CenterY":{"type":"number","description":"CenterY"},"CenterZ":{"type":"number","description":"CenterZ"},"NormalX":{"type":"number","description":"NormalX"},"NormalY":{"type":"number","description":"NormalY"},"NormalZ":{"type":"number","description":"NormalZ"},"AngleXU":{"type":"number","description":"AngleXU"},"Radius":{"type":"number","exclusiveMinimum":0,"description":"Radius"}}},"Part::GeomLineSegment":{"type":"object","required":["TypeId","StartX","StartY","StartZ","EndX","EndY","EndZ"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomLineSegment","description":"Geometry type"},"StartX":{"type":"number","description":"StartX"},"StartY":{"type":"number","description":"StartY"},"StartZ":{"type":"number","description":"StartZ"},"EndX":{"type":"number","description":"EndX"},"EndY":{"type":"number","description":"EndY"},"EndZ":{"type":"number","description":"EndZ"}}},"Placement of the object":{"type":"object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}},"Post::Operator":{"type":"object","required":["Object"],"additionalProperties":true,"properties":{"Object":{"type":"string","description":"The name of input object"},"Type":{"type":"string","default":"BREP","enum":["BREP","STL"],"description":"The filetype for export (Brep/Stl)"}}},"Part::Any":{"type":"object","required":["Content","Type"],"additionalProperties":false,"properties":{"Content":{"type":"string","description":"The string content of the object"},"Type":{"type":"string","enum":["brep","step","stl"]},"Color":{"type":"string","description":"The color of the object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Chamfer":{"type":"object","required":["Base","Edge","Dist","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"The name of input object","fcType":"App::PropertyLink"},"Edge":{"anyOf":[{"type":"number","minimum":0,"description":"The edge index"},{"type":"array","items":{"type":"number","minimum":0},"description":"List of edge indices"}]},"Dist":{"type":"number","minimum":0,"description":"The distance of the symmetric chamfer"},"Color":{"type":"string","description":"The color of the chamfer","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Box":{"type":"object","required":["Length","Width","Height","Placement"],"additionalProperties":false,"properties":{"Length":{"type":"number","exclusiveMinimum":0,"description":"The length of the box (dX)"},"Width":{"type":"number","exclusiveMinimum":0,"description":"The width of the box (dY)"},"Height":{"type":"number","exclusiveMinimum":0,"description":"The height of the box (dZ)"},"Color":{"type":"string","description":"The color of the box","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Cone":{"type":"object","required":["Radius1","Radius2","Height","Angle","Placement"],"additionalProperties":false,"properties":{"Radius1":{"type":"number","exclusiveMinimum":0,"description":"The bottom radius of the cone"},"Radius2":{"type":"number","exclusiveMinimum":0,"description":"The top radius of the cone"},"Height":{"type":"number","exclusiveMinimum":0,"description":"The height of the cone"},"Angle":{"type":"number","exclusiveMinimum":0,"description":"The angle of the cone"},"Color":{"type":"string","description":"The color of the cone","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Cut":{"type":"object","required":["Base","Tool","Refine","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"The base of the cut operator","fcType":"App::PropertyLink"},"Tool":{"type":"string","description":"The tool of the cut operator","fcType":"App::PropertyLink"},"Refine":{"type":"boolean","description":"Refine shape"},"Color":{"type":"string","description":"The color of the cut object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Cylinder":{"type":"object","required":["Radius","Angle","Height","Placement"],"additionalProperties":false,"properties":{"Radius":{"type":"number","exclusiveMinimum":0,"description":"Radius of the cylinder"},"Height":{"type":"number","exclusiveMinimum":0,"description":"Height of the cylinder"},"Angle":{"type":"number","exclusiveMinimum":0,"description":"Angle of the cylinder"},"Color":{"type":"string","description":"The color of the cylinder","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Extrusion":{"type":"object","required":["Base","Dir","LengthFwd","LengthRev","Solid","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"Shape to extrude","fcType":"App::PropertyLink"},"Dir":{"type":"array","description":"Direction of extrusion","items":{"type":"number"}},"LengthFwd":{"type":"number","description":"Length of extrusion along the direction"},"LengthRev":{"type":"number","description":"Length of extrusion against the direction"},"Solid":{"type":"boolean","description":"If true, creating a solid"},"Color":{"type":"string","description":"The color of the extrusion","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Fillet":{"type":"object","required":["Base","Edge","Radius","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"The name of input object","fcType":"App::PropertyLink"},"Edge":{"anyOf":[{"type":"number","minimum":0,"description":"The edge index"},{"type":"array","items":{"type":"number","minimum":0},"description":"List of edge indices"}]},"Radius":{"type":"number","exclusiveMinimum":0,"description":"The radius for the fillet"},"Color":{"type":"string","description":"The color of the fillet","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::MultiFuse":{"type":"object","required":["Shapes","Refine","Placement"],"additionalProperties":false,"properties":{"Shapes":{"type":"array","description":"The shapes of the individual elements","fcType":"App::PropertyLinkList","items":{"type":"string"}},"Refine":{"type":"boolean","description":"Refine shape"},"Color":{"type":"string","description":"The color of the fused object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::MultiCommon":{"type":"object","required":["Shapes","Refine","Placement"],"additionalProperties":false,"properties":{"Shapes":{"type":"array","description":"The objects to intersect","fcType":"App::PropertyLinkList","items":{"type":"string"}},"Refine":{"type":"boolean","description":"Refine shape"},"Color":{"type":"string","description":"The color of the intersection","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Sketcher::SketchObject":{"type":"object","required":["AttachmentOffset","Geometry"],"additionalProperties":false,"properties":{"AttachmentOffset":{"description":"The attachment offset","type":"object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}},"Geometry":{"type":"array","description":"The geometry list","items":{"anyOf":[{"type":"object","description":"Part::GeomCircle","title":"IGeomCircle","required":["TypeId","CenterX","CenterY","CenterZ","NormalX","NormalY","NormalZ","AngleXU","Radius"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomCircle","description":"Geometry type"},"CenterX":{"type":"number","description":"CenterX"},"CenterY":{"type":"number","description":"CenterY"},"CenterZ":{"type":"number","description":"CenterZ"},"NormalX":{"type":"number","description":"NormalX"},"NormalY":{"type":"number","description":"NormalY"},"NormalZ":{"type":"number","description":"NormalZ"},"AngleXU":{"type":"number","description":"AngleXU"},"Radius":{"type":"number","exclusiveMinimum":0,"description":"Radius"}}},{"type":"object","description":"Part::GeomLineSegment","title":"IGeomLineSegment","required":["TypeId","StartX","StartY","StartZ","EndX","EndY","EndZ"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomLineSegment","description":"Geometry type"},"StartX":{"type":"number","description":"StartX"},"StartY":{"type":"number","description":"StartY"},"StartZ":{"type":"number","description":"StartZ"},"EndX":{"type":"number","description":"EndX"},"EndY":{"type":"number","description":"EndY"},"EndZ":{"type":"number","description":"EndZ"}}}]}},"Color":{"type":"string","description":"The color of the sketch object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Sphere":{"type":"object","required":["Radius","Angle1","Angle2","Angle3","Placement"],"additionalProperties":false,"properties":{"Radius":{"type":"number","exclusiveMinimum":0,"description":"The radius of the sphere"},"Angle1":{"type":"number","description":"First angle defining a spherical segment"},"Angle2":{"type":"number","description":"Second angle defining a spherical segment"},"Angle3":{"type":"number","description":"The angle between the radii lying within the bounding semidisks"},"Color":{"type":"string","description":"The color of the sphere","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Torus":{"type":"object","required":["Radius1","Radius2","Angle1","Angle2","Angle3","Placement"],"additionalProperties":false,"properties":{"Radius1":{"type":"number","exclusiveMinimum":0,"description":"The distance from the center of the pipe to the center of the torus"},"Radius2":{"type":"number","exclusiveMinimum":0,"description":"The radius of the pipe"},"Angle1":{"type":"number","description":"First angle to create a torus ring segment"},"Angle2":{"type":"number","description":"Second angle to create a torus ring segment"},"Angle3":{"type":"number","description":"Angle to create a torus pipe segment"},"Color":{"type":"string","description":"The color of the torus","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}}}');class ${constructor(){this._registry=new Map(Object.entries(V))}registerSchema(e,t){this._registry.has(e)?console.error("Worker is already registered!"):this._registry.set(e,t)}has(e){return this._registry.has(e)}getSchemas(){return this._registry}}class H{constructor(){this._registry=new Set}registerCommand(e){this._registry.add(e)}getCommands(){return[...this._registry]}}const z=[{id:"jupytercad:core:tracker",autoStart:!0,requires:[I.ITranslator],optional:[Z.IMainMenu],provides:n.IJupyterCadDocTracker,activate:(e,t,r)=>{const i=new s.WidgetTracker({namespace:"jupytercad"});return console.log("jupytercad:core:tracker is activated!"),i}},{id:"jupytercad:core:annotation",autoStart:!0,requires:[n.IJupyterCadDocTracker],provides:n.IAnnotationToken,activate:(e,t)=>{var r;const i=new o.AnnotationModel({model:null===(r=t.currentWidget)||void 0===r?void 0:r.model});return t.currentChanged.connect((e,t)=>{i.model=(null==t?void 0:t.model)||void 0}),i}},{id:"jupytercad:core:worker-registry",autoStart:!0,requires:[],provides:n.IJCadWorkerRegistryToken,activate:e=>new U},j,k,Y,{id:"jupytercad:core:form-schema-registry",autoStart:!0,requires:[],provides:n.IJCadFormSchemaRegistryToken,activate:e=>new $},{id:"jupytercad:core:external-command-registry",autoStart:!0,requires:[],provides:n.IJCadExternalCommandRegistryToken,activate:e=>new H}]}}]);
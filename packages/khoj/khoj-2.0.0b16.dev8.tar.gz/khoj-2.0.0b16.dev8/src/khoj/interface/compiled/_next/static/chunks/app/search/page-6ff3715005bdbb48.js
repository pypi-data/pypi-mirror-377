(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2797],{94114:function(e,a,l){Promise.resolve().then(l.bind(l,76321))},76321:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return ed}});var t=l(57437),s=l(95186),n=l(2265),r=l(41816),i=l.n(r),c=l(19378),d=l(66070),o=l(3467),m=l(73278),h=l(4992);let u=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M208,28H48A20,20,0,0,0,28,48V208a20,20,0,0,0,20,20H156.69a19.86,19.86,0,0,0,14.14-5.86l51.31-51.31A19.86,19.86,0,0,0,228,156.69V48A20,20,0,0,0,208,28ZM52,52H204v92H156a12,12,0,0,0-12,12v48H52ZM168,191V168h23Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,160l-56,56V160Z",opacity:"0.2"}),n.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H156.69A15.86,15.86,0,0,0,168,219.31L219.31,168A15.86,15.86,0,0,0,224,156.69V48A16,16,0,0,0,208,32ZM48,48H208V152H160a8,8,0,0,0-8,8v48H48ZM196.69,168,168,196.69V168Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H156.69A15.86,15.86,0,0,0,168,219.31L219.31,168A15.86,15.86,0,0,0,224,156.69V48A16,16,0,0,0,208,32ZM160,204.69V160h44.69Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M208,34H48A14,14,0,0,0,34,48V208a14,14,0,0,0,14,14H156.69a13.94,13.94,0,0,0,9.9-4.1l51.31-51.31a13.94,13.94,0,0,0,4.1-9.9V48A14,14,0,0,0,208,34ZM46,208V48a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2V154H160a6,6,0,0,0-6,6v50H48A2,2,0,0,1,46,208Zm120-6.49V166h35.52Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H156.69A15.86,15.86,0,0,0,168,219.31L219.31,168A15.86,15.86,0,0,0,224,156.69V48A16,16,0,0,0,208,32ZM48,48H208V152H160a8,8,0,0,0-8,8v48H48ZM196.69,168,168,196.69V168Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M208,36H48A12,12,0,0,0,36,48V208a12,12,0,0,0,12,12H156.69a11.93,11.93,0,0,0,8.48-3.51l51.32-51.32a11.93,11.93,0,0,0,3.51-8.48V48A12,12,0,0,0,208,36ZM44,208V48a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4V156H160a4,4,0,0,0-4,4v52H48A4,4,0,0,1,44,208Zm120-1.66V164h42.35Z"}))]]),x=n.forwardRef((e,a)=>n.createElement(h.Z,{ref:a,...e,weights:u}));x.displayName="NoteBlankIcon";var f=l(25778),p=l(86723),j=l(96620),g=l(4235);let v=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M87.5,151.52l64-64a12,12,0,0,1,17,17l-64,64a12,12,0,0,1-17-17Zm131-114a60.08,60.08,0,0,0-84.87,0L103.51,67.61a12,12,0,0,0,17,17l30.07-30.06a36,36,0,0,1,50.93,50.92L171.4,135.52a12,12,0,1,0,17,17l30.08-30.06A60.09,60.09,0,0,0,218.45,37.55ZM135.52,171.4l-30.07,30.08a36,36,0,0,1-50.92-50.93l30.06-30.07a12,12,0,0,0-17-17L37.55,133.58a60,60,0,0,0,84.88,84.87l30.06-30.07a12,12,0,0,0-17-17Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M209.94,113.94l-96,96a48,48,0,0,1-67.88-67.88l96-96a48,48,0,0,1,67.88,67.88Z",opacity:"0.2"}),n.createElement("path",{d:"M165.66,90.34a8,8,0,0,1,0,11.32l-64,64a8,8,0,0,1-11.32-11.32l64-64A8,8,0,0,1,165.66,90.34ZM215.6,40.4a56,56,0,0,0-79.2,0L106.34,70.45a8,8,0,0,0,11.32,11.32l30.06-30a40,40,0,0,1,56.57,56.56l-30.07,30.06a8,8,0,0,0,11.31,11.32L215.6,119.6a56,56,0,0,0,0-79.2ZM138.34,174.22l-30.06,30.06a40,40,0,1,1-56.56-56.57l30.05-30.05a8,8,0,0,0-11.32-11.32L40.4,136.4a56,56,0,0,0,79.2,79.2l30.06-30.07a8,8,0,0,0-11.32-11.31Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM144.56,173.66l-21.45,21.45a44,44,0,0,1-62.22-62.22l21.45-21.46a8,8,0,0,1,11.32,11.31L72.2,144.2a28,28,0,0,0,39.6,39.6l21.45-21.46a8,8,0,0,1,11.31,11.32Zm-34.9-16a8,8,0,0,1-11.32-11.32l48-48a8,8,0,0,1,11.32,11.32Zm85.45-34.55-21.45,21.45a8,8,0,0,1-11.32-11.31L183.8,111.8a28,28,0,0,0-39.6-39.6L122.74,93.66a8,8,0,0,1-11.31-11.32l21.46-21.45a44,44,0,0,1,62.22,62.22Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M164.25,91.75a6,6,0,0,1,0,8.49l-64,64a6,6,0,0,1-8.49-8.48l64-64A6,6,0,0,1,164.25,91.75ZM214.2,41.8a54.07,54.07,0,0,0-76.38,0L107.75,71.85a6,6,0,0,0,8.49,8.49l30.07-30.06a42,42,0,0,1,59.41,59.41l-30.08,30.07a6,6,0,1,0,8.49,8.49l30.07-30.07A54,54,0,0,0,214.2,41.8ZM139.76,175.64l-30.07,30.08a42,42,0,0,1-59.41-59.41l30.06-30.07a6,6,0,0,0-8.49-8.49l-30,30.07a54,54,0,0,0,76.38,76.39l30.07-30.08a6,6,0,0,0-8.49-8.49Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M165.66,90.34a8,8,0,0,1,0,11.32l-64,64a8,8,0,0,1-11.32-11.32l64-64A8,8,0,0,1,165.66,90.34ZM215.6,40.4a56,56,0,0,0-79.2,0L106.34,70.45a8,8,0,0,0,11.32,11.32l30.06-30a40,40,0,0,1,56.57,56.56l-30.07,30.06a8,8,0,0,0,11.31,11.32L215.6,119.6a56,56,0,0,0,0-79.2ZM138.34,174.22l-30.06,30.06a40,40,0,1,1-56.56-56.57l30.05-30.05a8,8,0,0,0-11.32-11.32L40.4,136.4a56,56,0,0,0,79.2,79.2l30.06-30.07a8,8,0,0,0-11.32-11.31Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M162.84,93.16a4,4,0,0,1,0,5.66l-64,64a4,4,0,0,1-5.66-5.66l64-64A4,4,0,0,1,162.84,93.16Zm49.95-49.95a52.07,52.07,0,0,0-73.56,0L109.17,73.27a4,4,0,0,0,5.65,5.66l30.07-30.06a44,44,0,0,1,62.24,62.24l-30.07,30.06a4,4,0,0,0,5.66,5.66l30.07-30.06A52.07,52.07,0,0,0,212.79,43.21ZM141.17,177.06l-30.06,30.07a44,44,0,0,1-62.24-62.24l30.06-30.06a4,4,0,0,0-5.66-5.66L43.21,139.23a52,52,0,0,0,73.56,73.56l30.06-30.07a4,4,0,1,0-5.66-5.66Z"}))]]),N=n.forwardRef((e,a)=>n.createElement(h.Z,{ref:a,...e,weights:v}));N.displayName="LinkSimpleIcon";var A=l(49807),Z=l(795),w=l(82033),E=l(2335);let y=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M234.29,47.91A20,20,0,0,0,216,36H40A20,20,0,0,0,25.2,69.45l.12.14L92,140.75V216a20,20,0,0,0,31.1,16.64l32-21.33A20,20,0,0,0,164,194.66V140.75l66.67-71.16.12-.14A20,20,0,0,0,234.29,47.91Zm-91,79.89A12,12,0,0,0,140,136v56.52l-24,16V136a12,12,0,0,0-3.25-8.2L49.23,60H206.77Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M221.9,61.38,152,136v58.65a8,8,0,0,1-3.56,6.66l-32,21.33A8,8,0,0,1,104,216V136L34.1,61.38A8,8,0,0,1,40,48H216A8,8,0,0,1,221.9,61.38Z",opacity:"0.2"}),n.createElement("path",{d:"M230.6,49.53A15.81,15.81,0,0,0,216,40H40A16,16,0,0,0,28.19,66.76l.08.09L96,139.17V216a16,16,0,0,0,24.87,13.32l32-21.34A16,16,0,0,0,160,194.66V139.17l67.74-72.32.08-.09A15.8,15.8,0,0,0,230.6,49.53ZM40,56h0Zm106.18,74.58A8,8,0,0,0,144,136v58.66L112,216V136a8,8,0,0,0-2.16-5.47L40,56H216Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M227.81,66.76l-.08.09L160,139.17v55.49A16,16,0,0,1,152.87,208l-32,21.34A16,16,0,0,1,96,216V139.17L28.27,66.85l-.08-.09A16,16,0,0,1,40,40H216a16,16,0,0,1,11.84,26.76Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M228.77,50.34A13.8,13.8,0,0,0,216,42H40A14,14,0,0,0,29.67,65.42l.06.07L98,138.38V216a14,14,0,0,0,21.77,11.64l32-21.33A14,14,0,0,0,158,194.66V138.38l68.33-73A13.82,13.82,0,0,0,228.77,50.34Zm-11.26,6.94L147.62,131.9A6,6,0,0,0,146,136v58.66a2,2,0,0,1-.89,1.67l-32,21.33A2,2,0,0,1,110,216V136a6,6,0,0,0-1.62-4.1L38.53,57.32A2,2,0,0,1,40,54H216a1.9,1.9,0,0,1,1.83,1.19A1.86,1.86,0,0,1,217.51,57.28Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M230.6,49.53A15.81,15.81,0,0,0,216,40H40A16,16,0,0,0,28.19,66.76l.08.09L96,139.17V216a16,16,0,0,0,24.87,13.32l32-21.34A16,16,0,0,0,160,194.66V139.17l67.74-72.32.08-.09A15.8,15.8,0,0,0,230.6,49.53ZM40,56h0Zm106.18,74.58A8,8,0,0,0,144,136v58.66L112,216V136a8,8,0,0,0-2.16-5.47L40,56H216Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M227,51.15A11.85,11.85,0,0,0,216,44H40a12,12,0,0,0-8.88,20.07l.05.05L100,137.59V216a12,12,0,0,0,18.66,10l32-21.33a12,12,0,0,0,5.35-10V137.59l68.86-73.52A11.85,11.85,0,0,0,227,51.15Zm-8,7.5-69.9,74.62A4,4,0,0,0,148,136v58.65a4,4,0,0,1-1.78,3.33l-32,21.33A4,4,0,0,1,108,216V136a4,4,0,0,0-1.08-2.74L37.05,58.67A4,4,0,0,1,40,52H216a4,4,0,0,1,3,6.65Z"}))]]),V=n.forwardRef((e,a)=>n.createElement(h.Z,{ref:a,...e,weights:y}));V.displayName="FunnelIcon";var M=l(24148),b=l(80382),H=l(97159);let S=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M84,224a12,12,0,0,1-12,12H56a20,20,0,0,1-20-20V184a12,12,0,0,1,24,0v28H72A12,12,0,0,1,84,224ZM220,88v48a12,12,0,0,1-24,0V104H148a12,12,0,0,1-12-12V44H120a12,12,0,0,1,0-24h32a12,12,0,0,1,8.49,3.51l56,56A12,12,0,0,1,220,88Zm-60-8h23L160,57ZM80,20H56A20,20,0,0,0,36,40V64a12,12,0,0,0,24,0V44H80a12,12,0,0,0,0-24ZM208,164a12,12,0,0,0-12,12v36h-4a12,12,0,0,0,0,24h8a20,20,0,0,0,20-20V176A12,12,0,0,0,208,164ZM48,156a12,12,0,0,0,12-12V104a12,12,0,0,0-24,0v40A12,12,0,0,0,48,156Zm104,56H112a12,12,0,0,0,0,24h40a12,12,0,0,0,0-24Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M208,88H152V32Z",opacity:"0.2"}),n.createElement("path",{d:"M80,224a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V184a8,8,0,0,1,16,0v32H72A8,8,0,0,1,80,224ZM216,88v48a8,8,0,0,1-16,0V96H152a8,8,0,0,1-8-8V40H120a8,8,0,0,1,0-16h32a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88Zm-56-8h28.69L160,51.31ZM80,24H56A16,16,0,0,0,40,40V64a8,8,0,0,0,16,0V40H80a8,8,0,0,0,0-16ZM208,168a8,8,0,0,0-8,8v40h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V176A8,8,0,0,0,208,168ZM48,152a8,8,0,0,0,8-8V104a8,8,0,0,0-16,0v40A8,8,0,0,0,48,152Zm104,64H112a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M80,224a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V184a8,8,0,0,1,16,0v32H72A8,8,0,0,1,80,224ZM213.66,82.34l-56-56A8,8,0,0,0,152,24H120a8,8,0,0,0,0,16h24V88a8,8,0,0,0,8,8h48v40a8,8,0,0,0,16,0V88A8,8,0,0,0,213.66,82.34ZM80,24H56A16,16,0,0,0,40,40V64a8,8,0,0,0,16,0V40H80a8,8,0,0,0,0-16ZM208,168a8,8,0,0,0-8,8v40h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V176A8,8,0,0,0,208,168ZM48,152a8,8,0,0,0,8-8V104a8,8,0,0,0-16,0v40A8,8,0,0,0,48,152Zm104,64H112a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M78,224a6,6,0,0,1-6,6H56a14,14,0,0,1-14-14V184a6,6,0,0,1,12,0v32a2,2,0,0,0,2,2H72A6,6,0,0,1,78,224ZM214,88v48a6,6,0,0,1-12,0V94H152a6,6,0,0,1-6-6V38H120a6,6,0,0,1,0-12h32a6,6,0,0,1,4.24,1.76l56,56A6,6,0,0,1,214,88Zm-56-6h35.51L158,46.49ZM80,26H56A14,14,0,0,0,42,40V64a6,6,0,0,0,12,0V40a2,2,0,0,1,2-2H80a6,6,0,0,0,0-12ZM208,170a6,6,0,0,0-6,6v40a2,2,0,0,1-2,2h-8a6,6,0,0,0,0,12h8a14,14,0,0,0,14-14V176A6,6,0,0,0,208,170ZM48,150a6,6,0,0,0,6-6V104a6,6,0,0,0-12,0v40A6,6,0,0,0,48,150Zm104,68H112a6,6,0,0,0,0,12h40a6,6,0,0,0,0-12Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M80,224a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V184a8,8,0,0,1,16,0v32H72A8,8,0,0,1,80,224ZM216,88v48a8,8,0,0,1-16,0V96H152a8,8,0,0,1-8-8V40H120a8,8,0,0,1,0-16h32a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88Zm-56-8h28.69L160,51.31ZM80,24H56A16,16,0,0,0,40,40V64a8,8,0,0,0,16,0V40H80a8,8,0,0,0,0-16ZM208,168a8,8,0,0,0-8,8v40h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V176A8,8,0,0,0,208,168ZM48,152a8,8,0,0,0,8-8V104a8,8,0,0,0-16,0v40A8,8,0,0,0,48,152Zm104,64H112a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M76,224a4,4,0,0,1-4,4H56a12,12,0,0,1-12-12V184a4,4,0,0,1,8,0v32a4,4,0,0,0,4,4H72A4,4,0,0,1,76,224ZM212,88v48a4,4,0,0,1-8,0V92H152a4,4,0,0,1-4-4V36H120a4,4,0,0,1,0-8h32a4,4,0,0,1,2.83,1.17l56,56A4,4,0,0,1,212,88Zm-56-4h42.34L156,41.66ZM80,28H56A12,12,0,0,0,44,40V64a4,4,0,0,0,8,0V40a4,4,0,0,1,4-4H80a4,4,0,0,0,0-8ZM208,172a4,4,0,0,0-4,4v40a4,4,0,0,1-4,4h-8a4,4,0,0,0,0,8h8a12,12,0,0,0,12-12V176A4,4,0,0,0,208,172ZM48,148a4,4,0,0,0,4-4V104a4,4,0,0,0-8,0v40A4,4,0,0,0,48,148Zm104,72H112a4,4,0,0,0,0,8h40a4,4,0,0,0,0-8Z"}))]]),L=n.forwardRef((e,a)=>n.createElement(h.Z,{ref:a,...e,weights:S}));L.displayName="FileDashedIcon";var F=l(62869),k=l(27648),T=l(7436),C=l(60729),_=l(34124),D=l(6512),I=l(37104),O=l(14308),R=l(26110),z=l(77992),P=l(84190),W=l(79205);let U=(0,W.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var Y=l(10407);let B=(0,W.Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var K=l(94508);let G=e=>{let{className:a,...l}=e;return(0,t.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,K.cn)("mx-auto flex w-full justify-center",a),...l})};G.displayName="Pagination";let X=n.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)("ul",{ref:a,className:(0,K.cn)("flex flex-row items-center gap-1",l),...s})});X.displayName="PaginationContent";let $=n.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)("li",{ref:a,className:(0,K.cn)("",l),...s})});$.displayName="PaginationItem";let q=e=>{let{className:a,isActive:l,size:s="icon",...n}=e;return(0,t.jsx)("a",{"aria-current":l?"page":void 0,className:(0,K.cn)((0,F.d)({variant:l?"outline":"ghost",size:s}),"no-underline",a),...n})};q.displayName="PaginationLink";let J=e=>{let{className:a,...l}=e;return(0,t.jsxs)(q,{"aria-label":"Go to previous page",size:"default",className:(0,K.cn)("gap-1 pl-2.5",a),...l,children:[(0,t.jsx)(U,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Previous"})]})};J.displayName="PaginationPrevious";let Q=e=>{let{className:a,...l}=e;return(0,t.jsxs)(q,{"aria-label":"Go to next page",size:"default",className:(0,K.cn)("gap-1 pr-2.5",a),...l,children:[(0,t.jsx)("span",{children:"Next"}),(0,t.jsx)(Y.Z,{className:"h-4 w-4"})]})};Q.displayName="PaginationNext";let ee=e=>{let{className:a,...l}=e;return(0,t.jsxs)("span",{"aria-hidden":!0,className:(0,K.cn)("flex h-9 w-9 items-center justify-center",a),...l,children:[(0,t.jsx)(B,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"More pages"})]})};ee.displayName="PaginationEllipsis";var ea=l(23518),el=l(57054),et=l(59199),es=l(32759);function en(e){let{file:a,setSelectedFile:l,setSelectedFileFullText:s,handleDownload:n,handleDelete:r,isDeleting:i,selectedFileFullText:o}=e;return(0,t.jsxs)(d.Zb,{className:"animate-fade-in-up bg-secondary h-52",children:[(0,t.jsx)(d.Ol,{className:"p-2",children:(0,t.jsxs)(d.ll,{className:"flex items-center gap-2 justify-between",title:a.file_name,children:[(0,t.jsxs)(R.Vq,{children:[(0,t.jsx)(R.hg,{asChild:!0,children:(0,t.jsx)("div",{className:"text-sm font-medium truncate hover:text-clip hover:whitespace-normal cursor-pointer",onClick:()=>{s(""),l(a.file_name)},children:a.file_name.split("/").pop()})}),(0,t.jsxs)(R.cZ,{className:"max-w-fit",children:[(0,t.jsx)(R.fK,{children:(0,t.jsx)(R.$N,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a.file_name.split("/").pop(),(0,t.jsx)(F.z,{variant:"ghost",title:"Download as plaintext",onClick:()=>n(a.file_name,a.raw_text),children:(0,t.jsx)(f.U,{className:"h-4 w-4"})})]})})}),(0,t.jsx)(c.x,{className:"h-[50vh] w-[80vw]",children:(0,t.jsxs)("p",{className:"whitespace-pre-wrap break-words text-sm font-normal word-wrap",children:[!o&&(0,t.jsx)(O.l,{className:"mt-4",message:"Loading",iconClassName:"h-5 w-5"}),o]})})]})]}),(0,t.jsxs)(P.h_,{children:[(0,t.jsx)(P.$F,{children:(0,t.jsx)(F.z,{variant:"ghost",children:(0,t.jsx)(p.F,{className:"h-4 w-4"})})}),(0,t.jsx)(P.AW,{className:"flex flex-col gap-0 w-fit",children:(0,t.jsx)(P.Xi,{className:"p-0",children:(0,t.jsxs)(F.z,{variant:"ghost",className:"flex items-center gap-2 p-1 text-sm",onClick:()=>{r(a.file_name)},children:[(0,t.jsx)(j.r,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-xs",children:i?"Deleting...":"Delete"})]})})})]})]})}),(0,t.jsx)(d.aY,{className:"p-2",children:(0,t.jsx)(c.x,{className:"h-24 bg-background rounded-lg",children:(0,t.jsxs)("p",{className:"whitespace-pre-wrap break-words text-sm font-normal text-muted-foreground p-2 h-full",children:[a.raw_text.slice(0,100),"..."]})})}),(0,t.jsx)(d.eW,{className:"flex justify-end gap-2 p-2",children:(0,t.jsx)("div",{className:"text-muted-foreground text-xs",children:(0,T.o0)(a.updated_at)})})]})}function er(e){var a;let l=e.note,s=(l.additional.file||"").startsWith("http"),n=s?l.additional.heading:l.additional.file.split("/").pop();return(0,t.jsxs)(d.Zb,{className:"bg-secondary h-full shadow-sm rounded-lg border border-muted mb-4 animate-fade-in-up",children:[(0,t.jsx)(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"inline-flex gap-2",children:["notion"===(a=l.additional.source)?(0,t.jsx)(o.F,{className:"text-muted-foreground"}):"github"===a?(0,t.jsx)(m.b,{className:"text-muted-foreground"}):(0,t.jsx)(x,{className:"text-muted-foreground"}),n]})}),(0,t.jsxs)(d.aY,{children:[(0,t.jsx)("div",{className:"line-clamp-4 text-muted-foreground",children:l.entry}),(0,t.jsxs)(F.z,{onClick:()=>e.setFocusSearchResult(l),variant:"ghost",className:"p-0 mt-2 text-orange-400 hover:bg-inherit",children:["See content",(0,t.jsx)(g.o,{className:"inline ml-2"})]})]}),s&&(0,t.jsx)(d.eW,{children:(0,t.jsxs)("a",{href:l.additional.file,target:"_blank",className:"underline text-sm bg-muted p-1 rounded-lg text-muted-foreground",children:[(0,t.jsx)(N,{className:"inline m-2"}),l.additional.file]})})]})}let ei=e=>{let{setUploadedFiles:a}=e,[l,s]=(0,n.useState)(!1),[r,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[o,m]=(0,n.useState)(!1),[h,u]=(0,n.useState)(0),x=(0,n.useRef)(null);function f(e){(0,et.ko)(e,i,m,d,a)}return(0,n.useEffect)(()=>{if(!o&&(u(0),!r&&!c)){let e=new KeyboardEvent("keydown",{key:"Escape"});document.dispatchEvent(e)}if(o){let e=setInterval(()=>{u(e=>{let a=e+(Math.floor(5*Math.random())+1);return a<100?a:100})},800);return()=>clearInterval(e)}},[o]),(0,t.jsxs)(R.Vq,{children:[(0,t.jsx)(R.hg,{asChild:!0,children:(0,t.jsxs)(F.z,{variant:"secondary",className:"mt-4",children:[(0,t.jsx)(A.a,{className:"h-4 w-4 mr-2"}),"Add Documents"]})}),(0,t.jsxs)(R.cZ,{children:[(0,t.jsxs)(R.fK,{children:[(0,t.jsx)(R.$N,{children:"Build Your Knowledge Base"}),(0,t.jsx)(R.Be,{children:"Add context for your Khoj knowledge base. Quickly search and get personalized answers from your documents."})]}),(0,t.jsxs)("div",{className:"flex flex-col h-full",onDragOver:function(e){e.preventDefault(),s(!0)},onDragLeave:function(e){e.preventDefault(),s(!1)},onDrop:function(e){e.preventDefault(),s(!1),e.dataTransfer.files&&f(e.dataTransfer.files)},onClick:function(){x&&x.current&&x.current.click()},children:[(0,t.jsx)("input",{type:"file",multiple:!0,ref:x,style:{display:"none"},onChange:function(e){e.target.files&&f(e.target.files)}}),(0,t.jsx)("div",{className:"flex-none p-4",children:o&&(0,t.jsx)(es.E,{indicatorColor:"bg-slate-500",className:"w-full h-2 rounded-full",value:h})}),r&&(0,t.jsxs)("div",{className:"flex-none p-4 border-b rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.v,{className:"h-6 w-6"}),(0,t.jsx)("span",{children:r})]}),(0,t.jsx)(F.z,{onClick:()=>i(null),className:"mt-2",variant:"ghost",children:"Dismiss"})]}),c&&(0,t.jsxs)("div",{className:"flex-none p-4 border-b rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.v,{className:"h-6 w-6"}),(0,t.jsx)("span",{children:c})]}),(0,t.jsx)(F.z,{onClick:()=>d(null),className:"mt-2",variant:"ghost",children:"Dismiss"})]}),(0,t.jsx)("div",{className:"flex-none p-4 border-b ".concat(l?"animate-pulse border-blue-500 bg-blue-500 bg-opacity-25":"bg-secondary"," rounded-lg"),children:(0,t.jsx)("div",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg",children:l?(0,t.jsxs)("div",{className:"flex items-center justify-center w-full h-full",children:[(0,t.jsx)(w.u,{className:"h-6 w-6 mr-2"}),(0,t.jsx)("span",{children:"Drop files to upload"})]}):(0,t.jsxs)("div",{className:"flex items-center justify-center w-full h-full",children:[(0,t.jsx)(E.v,{className:"h-6 w-6 mr-2"}),(0,t.jsx)("span",{children:"Drag and drop files here"})]})})})]})]})]})};function ec(e){let[a,l]=(0,n.useState)(!1),[s,r]=(0,n.useState)(e.inputText||""),[i,c]=(0,n.useState)(!1),[d,o]=(0,n.useState)("");return(0,n.useEffect)(()=>{e.inputText?"INITIALIZE"===e.inputText?(l(!0),o("")):(o(e.inputText),e.allFiles.includes(e.inputText)&&r(e.inputText)):o("")},[e.inputText]),(0,n.useEffect)(()=>{d&&!e.allFiles.includes(d)?(c(!0),r("")):d?(c(!1),r(d)):(c(!1),r(""))},[d,e.allFiles]),(0,n.useEffect)(()=>{a||e.onClose()},[a]),(0,t.jsxs)(el.J2,{open:a||i&&!!d,onOpenChange:l,children:[(0,t.jsx)(el.xo,{asChild:!0,children:(0,t.jsxs)(F.z,{variant:"outline",role:"combobox","aria-expanded":a,className:'justify-between" '.concat(e.isMobileWidth?"w-full":"w-[200px]"),children:[s?e.isMobileWidth?"✔️":"Selected":e.isMobileWidth?" ":"Select file",(0,t.jsx)(V,{className:"opacity-50"})]})}),(0,t.jsx)(el.yk,{className:"w-[200px] p-0",children:(0,t.jsxs)(ea.mY,{children:[(0,t.jsx)(ea.sZ,{placeholder:"Search files...",value:d,onInput:e=>o(e.currentTarget.value)}),(0,t.jsxs)(ea.e8,{children:[(0,t.jsx)(ea.rb,{children:"No files found."}),(0,t.jsx)(ea.fu,{children:e.allFiles.map(a=>(0,t.jsxs)(ea.di,{value:a,onSelect:a=>{r(a===s?"":a),l(!1),e.onChooseFile(a)},children:[a,(0,t.jsx)(M.J,{className:(0,K.cn)("ml-auto",s===a?"opacity-100":"opacity-0")})]},a))})]})]})})]})}function ed(){let[e,a]=(0,n.useState)(""),[l,r]=(0,n.useState)(null),[o,m]=(0,n.useState)(!1),h=(0,n.useRef)(null),[u,x]=(0,n.useState)(null),[f,p]=(0,n.useState)([]),[j,g]=(0,n.useState)(null),[v,A]=(0,n.useState)(!0),[Z,w]=(0,n.useState)([]),E=(0,n.useRef)(null),[y,V]=(0,n.useState)(null),[M,S]=(0,n.useState)(void 0),[R,P]=(0,n.useState)(null),[W,U]=(0,n.useState)(!1),[Y,B]=(0,n.useState)([]),[K,ea]=(0,n.useState)(0),[el,et]=(0,n.useState)(1),{toast:es}=(0,z.pm)(),ed=(0,T.IC)();function eo(e){if(a(e),!e.trim()){r(null);return}E.current&&clearTimeout(E.current),e.trim()&&(E.current=setTimeout(()=>{em()},750))}function em(){!o&&e.trim()&&(m(!0),fetch("/api/search?q=".concat(encodeURIComponent(e),"&client=web"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{r(e),m(!1)}).catch(e=>{console.error("Error:",e)}))}(0,n.useEffect)(()=>{fetch("/api/content/computer",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{w(e)}).catch(e=>{console.error("Error loading files:",e)})},[]),(0,n.useEffect)(()=>{let a=e.match(/file:([^"\s]*|"[^"]*")?/);if(a){let e=a[1],l=null==e?void 0:e.replace(/"/g,"");l?S(l):S("INITIALIZE")}},[e]);let eh=async e=>{try{let a=await fetch("api/content/files?page=".concat(e));if(!a.ok)throw Error("Failed to fetch files");let l=await a.json(),t=l.files,s=l.num_pages;et(s),Array.isArray(t)&&p(t.toSorted())}catch(e){g("Failed to load files"),console.error("Error fetching files:",e)}finally{A(!1)}};(0,n.useEffect)(()=>{eh(K)},[K]);let eu=async e=>{try{let a=await fetch("/api/content/file?file_name=".concat(e));if(!a.ok)throw Error("Failed to fetch file");let l=await a.json();P(l.raw_text)}catch(e){g("Failed to load file"),console.error("Error fetching file:",e)}},ex=(e,a)=>{let l=new Blob([a],{type:"text/plain"}),t=window.URL.createObjectURL(l),s=document.createElement("a");s.href=t,s.download="".concat(e.split("/").pop(),".txt"),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t)};(0,n.useEffect)(()=>{y&&eu(y)},[y]),(0,n.useEffect)(()=>{eh(K)},[]),(0,n.useEffect)(()=>{Y.length>0&&(ea(0),eh(0))},[Y]);let ef=async e=>{U(!0);try{if(!(await fetch("/api/content/file?filename=".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete file");es({title:"File deleted",description:"File ".concat(e," has been deleted"),variant:"default"}),eh(K)}catch(a){es({title:"Error deleting file",description:"Failed to delete file ".concat(e),variant:"destructive"})}finally{U(!1)}};return(0,t.jsxs)(C.Hn,{children:[(0,t.jsx)(_.S,{conversationId:""}),(0,t.jsxs)(C.kV,{children:[(0,t.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,t.jsx)(C.vP,{className:"-ml-1"}),(0,t.jsx)(D.Z,{orientation:"vertical",className:"mr-2 h-4"}),ed?(0,t.jsx)("a",{className:"p-0 no-underline",href:"/",children:(0,t.jsx)(I.VO,{className:"h-auto w-16"})}):(0,t.jsx)("h2",{className:"text-lg",children:"Search Your Knowledge Base"})]}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"".concat(i().searchLayout),children:(0,t.jsx)("div",{className:"w-full md:w-5/6 mx-auto pt-6 md:pt-8",children:(0,t.jsxs)("div",{className:"p-4 w-full mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-2 border-muted p-1 gap-1 rounded-lg flex-col md:flex-row",children:[(0,t.jsx)("div",{className:"relative flex-1 w-full",children:(0,t.jsx)(s.I,{autoFocus:!0,className:"border-none pl-4 focus-visible:ring-transparent focus-visible:ring-offset-transparent",onChange:e=>eo(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&em()},ref:h,type:"search",placeholder:"Search Documents",value:e})}),(0,t.jsxs)("div",{id:"actions",className:"flex gap-2",children:[(0,t.jsx)(ec,{allFiles:Z,onChooseFile:l=>(function(l){var t;let s=e.replace(/file:([^"\s]*|"[^"]*")?/i,"").trim();a('file:"'.concat(l,'" ').concat(s)),null===(t=h.current)||void 0===t||t.focus(),em()})(l),isMobileWidth:ed,inputText:M,onClose:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.focus()}}),(0,t.jsxs)(F.z,{className:"px-2 gap-2 inline-flex rounded-none items-center border-l border-gray-300 hover:text-gray-500",variant:"ghost",onClick:()=>em(),children:[(0,t.jsx)(b.Y,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Find"})]})]})]}),null===l&&(0,t.jsx)(ei,{setUploadedFiles:B}),o&&(0,t.jsx)("div",{className:"mt-4 flex items-center justify-center",children:(0,t.jsx)(O.l,{className:"mt-4",message:"Searching",iconClassName:"h-5 w-5"})}),u&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)(F.z,{onClick:()=>x(null),className:"mb-4",variant:"outline",children:[(0,t.jsx)(H.X,{className:"inline mr-2"}),"Back"]}),function(e){let a=(e.additional.file||"").startsWith("http"),l=a?e.additional.heading:e.additional.file.split("/").pop();return(0,t.jsxs)(d.Zb,{className:"bg-secondary h-full shadow-sm rounded-lg border border-muted mb-4 animate-fade-in-up",children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:l})}),a&&(0,t.jsx)(d.eW,{children:(0,t.jsxs)("a",{href:e.additional.file,target:"_blank",className:"underline text-sm bg-muted p-3 rounded-lg text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(N,{className:"inline"}),e.additional.file]})}),(0,t.jsx)(d.aY,{children:(0,t.jsx)("div",{className:"text-m",children:e.entry})})]})}(u)]}),!u&&!o&&l&&l.length>0&&(0,t.jsxs)("div",{className:"mt-4 max-w-[92vw] break-all",children:[(0,t.jsxs)(F.z,{onClick:()=>eo(""),className:"mb-4",variant:"outline",children:[(0,t.jsx)(H.X,{className:"inline mr-2"}),"See All"]}),(0,t.jsx)(c.x,{className:"h-[80vh]",children:l.map((e,a)=>(0,t.jsx)(er,{note:e,setFocusSearchResult:x},e["corpus-id"]))})]}),!o&&null===l&&!e.trim()&&(0,t.jsxs)("div",{className:"w-full mt-4",children:[v&&(0,t.jsx)("div",{className:"mt-4 flex items-center justify-center",children:(0,t.jsx)(O.l,{className:"mt-4",message:"Loading",iconClassName:"h-5 w-5"})}),j&&(0,t.jsx)("div",{className:"text-red-500",children:j}),!l&&!v&&0===f.length&&(0,t.jsxs)(d.Zb,{className:"flex flex-col items-center justify-center border-none shadow-none",children:[(0,t.jsxs)(d.Ol,{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(d.SZ,{className:"border-muted-foreground border w-fit rounded-lg mb-2 text-center text-lg p-4",children:(0,t.jsx)(L,{weight:"fill",className:"text-muted-foreground h-10 w-10"})}),(0,t.jsx)(d.ll,{className:"text-center",children:"Let's get started!"})]}),(0,t.jsxs)(d.aY,{children:[(0,t.jsx)("div",{className:"text-muted-foreground items-center justify-center text-center flex",children:'To use search, upload docs via the "Add Documents" button.'}),(0,t.jsx)(k.default,{href:"https://docs.khoj.dev/data-sources/share_your_data",className:"no-underline",children:(0,t.jsx)("div",{className:"mt-4 text-center text-secondary-foreground bg-secondary w-fit m-auto p-2 rounded-lg",children:"Learn More"})})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map((e,a)=>(0,t.jsx)(en,{file:e,index:a,setSelectedFile:V,setSelectedFileFullText:P,handleDownload:ex,handleDelete:ef,isDeleting:W,selectedFileFullText:R},a))}),(0,t.jsx)(G,{children:(0,t.jsxs)(X,{className:"p-0",children:[K>0&&(0,t.jsx)($,{className:"list-none",children:(0,t.jsx)(J,{onClick:()=>ea(K-1)})}),K>1&&(0,t.jsx)($,{className:"list-none",children:(0,t.jsx)(q,{onClick:()=>ea(0),children:"1"})}),K>2&&(0,t.jsx)($,{className:"list-none",children:(0,t.jsx)(ee,{})}),K>0&&(0,t.jsx)($,{className:"list-none",children:(0,t.jsx)(q,{onClick:()=>ea(K-1),children:K})}),(0,t.jsx)($,{className:"list-none",children:(0,t.jsx)(q,{isActive:!0,children:K+1})}),K<el-1&&(0,t.jsx)($,{className:"list-none",children:(0,t.jsx)(q,{onClick:()=>ea(K+1),children:K+2})}),K<el-3&&(0,t.jsx)($,{className:"list-none",children:(0,t.jsx)(ee,{})}),K<el-2&&(0,t.jsx)($,{className:"list-none",children:(0,t.jsx)(q,{onClick:()=>ea(el-1),children:el})}),K<el-1&&(0,t.jsx)($,{className:"list-none",children:(0,t.jsx)(Q,{onClick:()=>ea(K+1)})})]})})]})]})})})})]})]})}},32759:function(e,a,l){"use strict";l.d(a,{E:function(){return i}});var t=l(57437),s=l(2265),n=l(60610),r=l(94508);let i=s.forwardRef((e,a)=>{let{className:l,value:s,indicatorColor:i,...c}=e;return(0,t.jsx)(n.fC,{ref:a,className:(0,r.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",l),...c,children:(0,t.jsx)(n.z$,{className:"h-full w-full flex-1 bg-primary transition-all ".concat(i),style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});i.displayName=n.fC.displayName},77992:function(e,a,l){"use strict";l.d(a,{pm:function(){return h}});var t=l(2265);let s=0,n=new Map,r=e=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,a)},i=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:l}=a;return l?r(l):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===l||void 0===l?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},c=[],d={toasts:[]};function o(e){d=i(d,e),c.forEach(e=>{e(d)})}function m(e){let{...a}=e,l=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>o({type:"DISMISS_TOAST",toastId:l});return o({type:"ADD_TOAST",toast:{...a,id:l,open:!0,onOpenChange:e=>{e||t()}}}),{id:l,dismiss:t,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:l}})}}function h(){let[e,a]=t.useState(d);return t.useEffect(()=>(c.push(a),()=>{let e=c.indexOf(a);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},41816:function(e){e.exports={searchLayout:"search_searchLayout__fP3m0"}}},function(e){e.O(0,[2026,5638,7079,7200,8667,2684,945,2327,2971,2117,1744],function(){return e(e.s=94114)}),_N_E=e.O()}]);
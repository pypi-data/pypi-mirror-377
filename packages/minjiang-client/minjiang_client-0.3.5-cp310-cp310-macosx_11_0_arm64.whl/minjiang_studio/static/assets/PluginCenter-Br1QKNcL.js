import{dP as be,K as i,d as O,au as ne,dQ as Ee,dF as qe,dR as We,dS as Xe,F as M,ap as le,ai as q,af as z,ah as V,ak as Re,aq as ae,dT as Ct,as as Le,at as ze,aj as Q,ba as Ge,dU as kt,r as T,aA as E,cv as Ze,az as Ye,cd as Be,bO as Te,aF as we,ce as De,bI as Rt,cq as Ie,cr as zt,ax as he,dV as xe,b6 as Ke,bC as $t,dW as Ue,V as Pt,B as Y,dX as St,cp as Lt,dY as Bt,bL as Tt,dZ as Dt,d_ as It,X as Ut,d$ as Ot,a4 as se,e0 as Ft,c2 as Mt,an as jt,e1 as Oe,aU as me,e as H,f as I,h as x,G as ce,u as te,P as ve,b as ie,o as Ce,C as ee,I as $e,k as d,J as re,w as _,i as v,q as _e,l as Je,m as Vt,t as D,cD as Nt,Y as At,e2 as Ht,a0 as Fe,N as ge,p as A,a1 as Pe,e3 as Et,a9 as Se,bx as qt,H as Wt,a as Qe,Z as et,x as fe,aX as tt,bt as Xt,L as nt,M as Gt,aL as Zt,cz as Yt,R as Kt,S as rt,U as it,a3 as ot,a5 as lt,a7 as ue,j as st,ac as Me,a6 as at}from"./index-J5_wuFzQ.js";import{_ as ct,a as dt}from"./FormItem-cRlJVOXw.js";import{C as Jt}from"./CommingSoon-D4lnxNbH.js";import{_ as Qt}from"./Alert-BAyZP53g.js";import{A as en}from"./Add-C8P6H80E.js";import"./index-BypQeadj.js";import{A as tn}from"./Add-GkLiV60o.js";import{b as nn,a as rn}from"./Tabs-CR38P_Kp.js";import"./debounce-COzzVebV.js";const on=be("attach",()=>i("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},i("g",{fill:"currentColor","fill-rule":"nonzero"},i("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),ln=be("cancel",()=>i("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},i("g",{fill:"currentColor","fill-rule":"nonzero"},i("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),sn=be("retry",()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),i("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),an=be("trash",()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),i("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),i("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),i("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),cn={success:i(Xe,null),error:i(We,null),warning:i(qe,null),info:i(Ee,null)},dn=O({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:[String,Object],railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:n}){function t(o,a,l,c){const{gapDegree:s,viewBoxWidth:g,strokeWidth:u}=e,f=50,w=0,C=f,m=0,y=2*f,S=50+u/2,L=`M ${S},${S} m ${w},${C}
      a ${f},${f} 0 1 1 ${m},-100
      a ${f},${f} 0 1 1 0,${y}`,R=Math.PI*2*f,P={stroke:c==="rail"?l:typeof e.fillColor=="object"?"url(#gradient)":l,strokeDasharray:`${o/100*(R-s)}px ${g*8}px`,strokeDashoffset:`-${s/2}px`,transformOrigin:a?"center":void 0,transform:a?`rotate(${a}deg)`:void 0};return{pathString:L,pathStyle:P}}const r=()=>{const o=typeof e.fillColor=="object",a=o?e.fillColor.stops[0]:"",l=o?e.fillColor.stops[1]:"";return o&&i("defs",null,i("linearGradient",{id:"gradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%"},i("stop",{offset:"0%","stop-color":a}),i("stop",{offset:"100%","stop-color":l})))};return()=>{const{fillColor:o,railColor:a,strokeWidth:l,offsetDegree:c,status:s,percentage:g,showIndicator:u,indicatorTextColor:f,unit:w,gapOffsetDegree:C,clsPrefix:m}=e,{pathString:y,pathStyle:S}=t(100,0,a,"rail"),{pathString:L,pathStyle:R}=t(g,c,o,"fill"),P=100+l;return i("div",{class:`${m}-progress-content`,role:"none"},i("div",{class:`${m}-progress-graph`,"aria-hidden":!0},i("div",{class:`${m}-progress-graph-circle`,style:{transform:C?`rotate(${C}deg)`:void 0}},i("svg",{viewBox:`0 0 ${P} ${P}`},r(),i("g",null,i("path",{class:`${m}-progress-graph-circle-rail`,d:y,"stroke-width":l,"stroke-linecap":"round",fill:"none",style:S})),i("g",null,i("path",{class:[`${m}-progress-graph-circle-fill`,g===0&&`${m}-progress-graph-circle-fill--empty`],d:L,"stroke-width":l,"stroke-linecap":"round",fill:"none",style:R}))))),u?i("div",null,n.default?i("div",{class:`${m}-progress-custom-content`,role:"none"},n.default()):s!=="default"?i("div",{class:`${m}-progress-icon`,"aria-hidden":!0},i(ne,{clsPrefix:m},{default:()=>cn[s]})):i("div",{class:`${m}-progress-text`,style:{color:f},role:"none"},i("span",{class:`${m}-progress-text__percentage`},g),i("span",{class:`${m}-progress-text__unit`},w))):null)}}}),un={success:i(Xe,null),error:i(We,null),warning:i(qe,null),info:i(Ee,null)},gn=O({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:[String,Object],status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:n}){const t=M(()=>le(e.height)),r=M(()=>{var l,c;return typeof e.fillColor=="object"?`linear-gradient(to right, ${(l=e.fillColor)===null||l===void 0?void 0:l.stops[0]} , ${(c=e.fillColor)===null||c===void 0?void 0:c.stops[1]})`:e.fillColor}),o=M(()=>e.railBorderRadius!==void 0?le(e.railBorderRadius):e.height!==void 0?le(e.height,{c:.5}):""),a=M(()=>e.fillBorderRadius!==void 0?le(e.fillBorderRadius):e.railBorderRadius!==void 0?le(e.railBorderRadius):e.height!==void 0?le(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:l,railColor:c,railStyle:s,percentage:g,unit:u,indicatorTextColor:f,status:w,showIndicator:C,processing:m,clsPrefix:y}=e;return i("div",{class:`${y}-progress-content`,role:"none"},i("div",{class:`${y}-progress-graph`,"aria-hidden":!0},i("div",{class:[`${y}-progress-graph-line`,{[`${y}-progress-graph-line--indicator-${l}`]:!0}]},i("div",{class:`${y}-progress-graph-line-rail`,style:[{backgroundColor:c,height:t.value,borderRadius:o.value},s]},i("div",{class:[`${y}-progress-graph-line-fill`,m&&`${y}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,background:r.value,height:t.value,lineHeight:t.value,borderRadius:a.value}},l==="inside"?i("div",{class:`${y}-progress-graph-line-indicator`,style:{color:f}},n.default?n.default():`${g}${u}`):null)))),C&&l==="outside"?i("div",null,n.default?i("div",{class:`${y}-progress-custom-content`,style:{color:f},role:"none"},n.default()):w==="default"?i("div",{role:"none",class:`${y}-progress-icon ${y}-progress-icon--as-text`,style:{color:f}},g,u):i("div",{class:`${y}-progress-icon`,"aria-hidden":!0},i(ne,{clsPrefix:y},{default:()=>un[w]}))):null)}}});function je(e,n,t=100){return`m ${t/2} ${t/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const fn=O({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:n}){const t=M(()=>e.percentage.map((a,l)=>`${Math.PI*a/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*l)-e.circleGap*l)*2}, ${e.viewBoxWidth*8}`)),r=(o,a)=>{const l=e.fillColor[a],c=typeof l=="object"?l.stops[0]:"",s=typeof l=="object"?l.stops[1]:"";return typeof e.fillColor[a]=="object"&&i("linearGradient",{id:`gradient-${a}`,x1:"100%",y1:"0%",x2:"0%",y2:"100%"},i("stop",{offset:"0%","stop-color":c}),i("stop",{offset:"100%","stop-color":s}))};return()=>{const{viewBoxWidth:o,strokeWidth:a,circleGap:l,showIndicator:c,fillColor:s,railColor:g,railStyle:u,percentage:f,clsPrefix:w}=e;return i("div",{class:`${w}-progress-content`,role:"none"},i("div",{class:`${w}-progress-graph`,"aria-hidden":!0},i("div",{class:`${w}-progress-graph-circle`},i("svg",{viewBox:`0 0 ${o} ${o}`},i("defs",null,f.map((C,m)=>r(C,m))),f.map((C,m)=>i("g",{key:m},i("path",{class:`${w}-progress-graph-circle-rail`,d:je(o/2-a/2*(1+2*m)-l*m,a,o),"stroke-width":a,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:g[m]},u[m]]}),i("path",{class:[`${w}-progress-graph-circle-fill`,C===0&&`${w}-progress-graph-circle-fill--empty`],d:je(o/2-a/2*(1+2*m)-l*m,a,o),"stroke-width":a,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:t.value[m],strokeDashoffset:0,stroke:typeof s[m]=="object"?`url(#gradient-${m})`:s[m]}})))))),c&&n.default?i("div",null,i("div",{class:`${w}-progress-text`},n.default())):null)}}}),pn=q([z("progress",{display:"inline-block"},[z("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),V("line",`
 width: 100%;
 display: block;
 `,[z("progress-content",`
 display: flex;
 align-items: center;
 `,[z("progress-graph",{flex:1})]),z("progress-custom-content",{marginLeft:"14px"}),z("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[V("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),V("circle, dashboard",{width:"120px"},[z("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),z("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),z("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),V("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[z("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),z("progress-content",{position:"relative"}),z("progress-graph",{position:"relative"},[z("progress-graph-circle",[q("svg",{verticalAlign:"bottom"}),z("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[V("empty",{opacity:0})]),z("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),z("progress-graph-line",[V("indicator-inside",[z("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[z("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),z("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),V("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[z("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),z("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),z("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[z("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[V("processing",[q("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),q("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),hn=Object.assign(Object.assign({},ae.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array,Object],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),mn=O({name:"Progress",props:hn,setup(e){const n=M(()=>e.indicatorPlacement||e.indicatorPosition),t=M(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:r,inlineThemeDisabled:o}=Re(e),a=ae("Progress","-progress",pn,Ct,e,r),l=M(()=>{const{status:s}=e,{common:{cubicBezierEaseInOut:g},self:{fontSize:u,fontSizeCircle:f,railColor:w,railHeight:C,iconSizeCircle:m,iconSizeLine:y,textColorCircle:S,textColorLineInner:L,textColorLineOuter:R,lineBgProcessing:P,fontWeightCircle:k,[Le("iconColor",s)]:h,[Le("fillColor",s)]:$}}=a.value;return{"--n-bezier":g,"--n-fill-color":$,"--n-font-size":u,"--n-font-size-circle":f,"--n-font-weight-circle":k,"--n-icon-color":h,"--n-icon-size-circle":m,"--n-icon-size-line":y,"--n-line-bg-processing":P,"--n-rail-color":w,"--n-rail-height":C,"--n-text-color-circle":S,"--n-text-color-line-inner":L,"--n-text-color-line-outer":R}}),c=o?ze("progress",M(()=>e.status[0]),l,e):void 0;return{mergedClsPrefix:r,mergedIndicatorPlacement:n,gapDeg:t,cssVars:o?void 0:l,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){const{type:e,cssVars:n,indicatorTextColor:t,showIndicator:r,status:o,railColor:a,railStyle:l,color:c,percentage:s,viewBoxWidth:g,strokeWidth:u,mergedIndicatorPlacement:f,unit:w,borderRadius:C,fillBorderRadius:m,height:y,processing:S,circleGap:L,mergedClsPrefix:R,gapDeg:P,gapOffsetDegree:k,themeClass:h,$slots:$,onRender:p}=this;return p==null||p(),i("div",{class:[h,`${R}-progress`,`${R}-progress--${e}`,`${R}-progress--${o}`],style:n,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?i(dn,{clsPrefix:R,status:o,showIndicator:r,indicatorTextColor:t,railColor:a,fillColor:c,railStyle:l,offsetDegree:this.offsetDegree,percentage:s,viewBoxWidth:g,strokeWidth:u,gapDegree:P===void 0?e==="dashboard"?75:0:P,gapOffsetDegree:k,unit:w},$):e==="line"?i(gn,{clsPrefix:R,status:o,showIndicator:r,indicatorTextColor:t,railColor:a,fillColor:c,railStyle:l,percentage:s,processing:S,indicatorPlacement:f,unit:w,fillBorderRadius:m,railBorderRadius:C,height:y},$):e==="multiple-circle"?i(fn,{clsPrefix:R,strokeWidth:u,railColor:a,fillColor:c,railStyle:l,viewBoxWidth:g,percentage:s,showIndicator:r,circleGap:L},$):null)}}),vn=z("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[V("horizontal",`
 flex-direction: row;
 `),V("vertical",`
 flex-direction: column;
 `),z("split-pane-1",`
 overflow: hidden;
 `),z("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),Q("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[V("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),q("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),_n=Object.assign(Object.assign({},ae.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),yn=O({name:"Split",props:_n,slots:Object,setup(e){var n;const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=Re(e),o=ae("Split","-split",vn,kt,e,t),a=M(()=>{const{common:{cubicBezierEaseInOut:P},self:{resizableTriggerColor:k,resizableTriggerColorHover:h}}=o.value;return{"--n-bezier":P,"--n-resize-trigger-color":k,"--n-resize-trigger-color-hover":h}}),l=T(null),c=T(!1),s=E(e,"size"),g=T(e.defaultSize);!((n=e.watchProps)===null||n===void 0)&&n.includes("defaultSize")&&Ze(()=>g.value=e.defaultSize);const u=P=>{const k=e["onUpdate:size"];e.onUpdateSize&&we(e.onUpdateSize,P),k&&we(k,P),g.value=P},f=Ye(s,g),w=M(()=>{const P=f.value;if(typeof P=="string")return{flex:`0 0 ${P}`};if(typeof P=="number"){const k=P*100;return{flex:`0 0 calc(${k}% - ${e.resizeTriggerSize*k/100}px)`}}}),C=M(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),m=M(()=>{const P=e.direction==="horizontal";return{width:P?`${e.resizeTriggerSize}px`:"",height:P?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let y=0;const S=P=>{P.preventDefault(),c.value=!0,e.onDragStart&&e.onDragStart(P);const k="mousemove",h="mouseup",$=b=>{L(b),e.onDragMove&&e.onDragMove(b)},p=()=>{De(k,document,$),De(h,document,p),c.value=!1,e.onDragEnd&&e.onDragEnd(P),document.body.style.cursor=""};document.body.style.cursor=m.value.cursor,Be(k,document,$),Be(h,document,p);const B=l.value;if(B){const b=B.getBoundingClientRect();e.direction==="horizontal"?y=P.clientX-b.left:y=b.top-P.clientY}L(P)};function L(P){var k,h;const $=(h=(k=l.value)===null||k===void 0?void 0:k.parentElement)===null||h===void 0?void 0:h.getBoundingClientRect();if(!$)return;const{direction:p}=e,B=$.width-e.resizeTriggerSize,b=$.height-e.resizeTriggerSize,U=p==="horizontal"?B:b,N=p==="horizontal"?P.clientX-$.left-y:P.clientY-$.top+y,{min:W,max:j}=e,G=typeof W=="string"?Te(W):W*U,X=typeof j=="string"?Te(j):j*U;let F=N;F=Math.max(F,G),F=Math.min(F,X,U),typeof f.value=="string"?u(`${F}px`):u(F/U)}const R=r?ze("split",void 0,a,e):void 0;return{themeClass:R==null?void 0:R.themeClass,onRender:R==null?void 0:R.onRender,cssVars:r?void 0:a,resizeTriggerElRef:l,isDragging:c,mergedClsPrefix:t,resizeTriggerWrapperStyle:m,resizeTriggerStyle:C,handleMouseDown:S,firstPaneStyle:w}},render(){var e,n,t,r,o;return(e=this.onRender)===null||e===void 0||e.call(this),i("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},i("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(t=(n=this.$slots)[1])===null||t===void 0?void 0:t.call(n)),!this.disabled&&i("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},Ge(this.$slots["resize-trigger"],()=>[i("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),i("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(o=(r=this.$slots)[2])===null||o===void 0?void 0:o.call(r)))}}),de=Rt("n-upload"),wn=q([z("upload","width: 100%;",[V("dragger-inside",[z("upload-trigger",`
 display: block;
 `)]),V("drag-over",[z("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),z("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[q("&:hover",`
 border: var(--n-dragger-border-hover);
 `),V("disabled",`
 cursor: not-allowed;
 `)]),z("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[q("+",[z("upload-file-list","margin-top: 8px;")]),V("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),V("image-card",`
 width: 96px;
 height: 96px;
 `,[z("base-icon",`
 font-size: 24px;
 `),z("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),z("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[q("a, img","outline: none;"),V("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[z("upload-file","cursor: not-allowed;")]),V("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),z("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Ie(),z("progress",[Ie({foldPadding:!0})]),q("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[z("upload-file-info",[Q("action",`
 opacity: 1;
 `)])]),V("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[z("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[z("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),Q("name",`
 padding: 0 8px;
 `),Q("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[q("img",`
 width: 100%;
 `)])])]),V("text-type",[z("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),V("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[z("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),z("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[Q("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[q("img",`
 width: 100%;
 `)])]),q("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),q("&:hover",[q("&::before","opacity: 1;"),z("upload-file-info",[Q("thumbnail","opacity: .12;")])])]),V("error-status",[q("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),z("upload-file-info",[Q("name","color: var(--n-item-text-color-error);"),Q("thumbnail","color: var(--n-item-text-color-error);")]),V("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),V("with-url",`
 cursor: pointer;
 `,[z("upload-file-info",[Q("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[q("a",`
 text-decoration: underline;
 `)])])]),z("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[Q("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[z("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),Q("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[z("button",[q("&:not(:last-child)",{marginRight:"4px"}),z("base-icon",[q("svg",[zt()])])]),V("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),V("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),Q("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[q("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),z("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),ut="__UPLOAD_DRAGGER__",bn=O({name:"UploadDragger",[ut]:!0,setup(e,{slots:n}){const t=he(de,null);return t||xe("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:r},mergedDisabledRef:{value:o},maxReachedRef:{value:a}}=t;return i("div",{class:[`${r}-upload-dragger`,(o||a)&&`${r}-upload-dragger--disabled`]},n)}}}),xn=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},i("g",{fill:"none"},i("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),Cn=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},i("g",{fill:"none"},i("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"}))),kn=O({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:he(de).mergedThemeRef}},render(){return i(Ke,null,{default:()=>this.show?i(mn,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});var ke=function(e,n,t,r){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(u){try{g(r.next(u))}catch(f){l(f)}}function s(u){try{g(r.throw(u))}catch(f){l(f)}}function g(u){u.done?a(u.value):o(u.value).then(c,s)}g((r=r.apply(e,n||[])).next())})};function gt(e){return e.includes("image/")}function Ve(e=""){const n=e.split("/"),r=n[n.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]}const Ne=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,ft=e=>{if(e.type)return gt(e.type);const n=Ve(e.name||"");if(Ne.test(n))return!0;const t=e.thumbnailUrl||e.url||"",r=Ve(t);return!!(/^data:image\//.test(t)||Ne.test(r))};function Rn(e){return ke(this,void 0,void 0,function*(){return yield new Promise(n=>{if(!e.type||!gt(e.type)){n("");return}n(window.URL.createObjectURL(e))})})}const zn=$t&&window.FileReader&&window.File;function $n(e){return e.isDirectory}function Pn(e){return e.isFile}function Sn(e,n){return ke(this,void 0,void 0,function*(){const t=[];function r(o){return ke(this,void 0,void 0,function*(){for(const a of o)if(a){if(n&&$n(a)){const l=a.createReader();let c=[],s;try{do s=yield new Promise((g,u)=>{l.readEntries(g,u)}),c=c.concat(s);while(s.length>0)}catch(g){Ue("upload","error happens when handling directory upload",g)}yield r(c)}else if(Pn(a))try{const l=yield new Promise((c,s)=>{a.file(c,s)});t.push({file:l,entry:a,source:"dnd"})}catch(l){Ue("upload","error happens when handling file upload",l)}}})}return yield r(e),t})}function pe(e){const{id:n,name:t,percentage:r,status:o,url:a,file:l,thumbnailUrl:c,type:s,fullPath:g,batchId:u}=e;return{id:n,name:t,percentage:r??null,status:o,url:a??null,file:l??null,thumbnailUrl:c??null,type:s??null,fullPath:g??null,batchId:u??null}}function Ln(e,n,t){return e=e.toLowerCase(),n=n.toLocaleLowerCase(),t=t.toLocaleLowerCase(),t.split(",").map(o=>o.trim()).filter(Boolean).some(o=>{if(o.startsWith(".")){if(e.endsWith(o))return!0}else if(o.includes("/")){const[a,l]=n.split("/"),[c,s]=o.split("/");if((c==="*"||a&&c&&c===a)&&(s==="*"||l&&s&&s===l))return!0}else return!0;return!1})}var Ae=function(e,n,t,r){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(u){try{g(r.next(u))}catch(f){l(f)}}function s(u){try{g(r.throw(u))}catch(f){l(f)}}function g(u){u.done?a(u.value):o(u.value).then(c,s)}g((r=r.apply(e,n||[])).next())})};const ye={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Bn=O({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(e){const n=he(de),t=T(null),r=T(""),o=M(()=>{const{file:h}=e;return h.status==="finished"?"success":h.status==="error"?"error":"info"}),a=M(()=>{const{file:h}=e;if(h.status==="error")return"error"}),l=M(()=>{const{file:h}=e;return h.status==="uploading"}),c=M(()=>{if(!n.showCancelButtonRef.value)return!1;const{file:h}=e;return["uploading","pending","error"].includes(h.status)}),s=M(()=>{if(!n.showRemoveButtonRef.value)return!1;const{file:h}=e;return["finished"].includes(h.status)}),g=M(()=>{if(!n.showDownloadButtonRef.value)return!1;const{file:h}=e;return["finished"].includes(h.status)}),u=M(()=>{if(!n.showRetryButtonRef.value)return!1;const{file:h}=e;return["error"].includes(h.status)}),f=Tt(()=>r.value||e.file.thumbnailUrl||e.file.url),w=M(()=>{if(!n.showPreviewButtonRef.value)return!1;const{file:{status:h},listType:$}=e;return["finished"].includes(h)&&f.value&&$==="image-card"});function C(){return Ae(this,void 0,void 0,function*(){const h=n.onRetryRef.value;h&&(yield h({file:e.file}))===!1||n.submit(e.file.id)})}function m(h){h.preventDefault();const{file:$}=e;["finished","pending","error"].includes($.status)?S($):["uploading"].includes($.status)?R($):Dt("upload","The button clicked type is unknown.")}function y(h){h.preventDefault(),L(e.file)}function S(h){const{xhrMap:$,doChange:p,onRemoveRef:{value:B},mergedFileListRef:{value:b}}=n;Promise.resolve(B?B({file:Object.assign({},h),fileList:b,index:e.index}):!0).then(U=>{if(U===!1)return;const N=Object.assign({},h,{status:"removed"});$.delete(h.id),p(N,void 0,{remove:!0})})}function L(h){const{onDownloadRef:{value:$},customDownloadRef:{value:p}}=n;Promise.resolve($?$(Object.assign({},h)):!0).then(B=>{B!==!1&&(p?p(Object.assign({},h)):It(h.url,h.name))})}function R(h){const{xhrMap:$}=n,p=$.get(h.id);p==null||p.abort(),S(Object.assign({},h))}function P(h){const{onPreviewRef:{value:$}}=n;if($)$(e.file,{event:h});else if(e.listType==="image-card"){const{value:p}=t;if(!p)return;p.click()}}const k=()=>Ae(this,void 0,void 0,function*(){const{listType:h}=e;h!=="image"&&h!=="image-card"||n.shouldUseThumbnailUrlRef.value(e.file)&&(r.value=yield n.getFileThumbnailUrlResolver(e.file))});return Ze(()=>{k()}),{mergedTheme:n.mergedThemeRef,progressStatus:o,buttonType:a,showProgress:l,disabled:n.mergedDisabledRef,showCancelButton:c,showRemoveButton:s,showDownloadButton:g,showRetryButton:u,showPreviewButton:w,mergedThumbnailUrl:f,shouldUseThumbnailUrl:n.shouldUseThumbnailUrlRef,renderIcon:n.renderIconRef,imageRef:t,handleRemoveOrCancelClick:m,handleDownloadClick:y,handleRetryClick:C,handlePreviewClick:P}},render(){const{clsPrefix:e,mergedTheme:n,listType:t,file:r,renderIcon:o}=this;let a;const l=t==="image";l||t==="image-card"?a=!this.shouldUseThumbnailUrl(r)||!this.mergedThumbnailUrl?i("span",{class:`${e}-upload-file-info__thumbnail`},o?o(r):ft(r)?i(ne,{clsPrefix:e},{default:xn}):i(ne,{clsPrefix:e},{default:Cn})):i("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},t==="image-card"?i(Pt,{src:this.mergedThumbnailUrl||void 0,previewSrc:r.url||void 0,alt:r.name,ref:"imageRef"}):i("img",{src:this.mergedThumbnailUrl||void 0,alt:r.name})):a=i("span",{class:`${e}-upload-file-info__thumbnail`},o?o(r):i(ne,{clsPrefix:e},{default:()=>i(on,null)}));const s=i(kn,{show:this.showProgress,percentage:r.percentage||0,status:this.progressStatus}),g=t==="text"||t==="image";return i("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,r.url&&r.status!=="error"&&t!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${t}-type`]},i("div",{class:`${e}-upload-file-info`},a,i("div",{class:`${e}-upload-file-info__name`},g&&(r.url&&r.status!=="error"?i("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,onClick:this.handlePreviewClick},r.name):i("span",{onClick:this.handlePreviewClick},r.name)),l&&s),i("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${t}-type`]},this.showPreviewButton?i(Y,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:ye},{icon:()=>i(ne,{clsPrefix:e},{default:()=>i(St,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&i(Y,{key:"cancelOrTrash",theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:ye,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>i(Lt,null,{default:()=>this.showRemoveButton?i(ne,{clsPrefix:e,key:"trash"},{default:()=>i(an,null)}):i(ne,{clsPrefix:e,key:"cancel"},{default:()=>i(ln,null)})})}),this.showRetryButton&&!this.disabled&&i(Y,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:ye},{icon:()=>i(ne,{clsPrefix:e},{default:()=>i(sn,null)})}),this.showDownloadButton?i(Y,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:ye},{icon:()=>i(ne,{clsPrefix:e},{default:()=>i(Bt,null)})}):null)),!l&&s)}}),pt=O({name:"UploadTrigger",props:{abstract:Boolean},slots:Object,setup(e,{slots:n}){const t=he(de,null);t||xe("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:r,mergedDisabledRef:o,maxReachedRef:a,listTypeRef:l,dragOverRef:c,openOpenFileDialog:s,draggerInsideRef:g,handleFileAddition:u,mergedDirectoryDndRef:f,triggerClassRef:w,triggerStyleRef:C}=t,m=M(()=>l.value==="image-card");function y(){o.value||a.value||s()}function S(k){k.preventDefault(),c.value=!0}function L(k){k.preventDefault(),c.value=!0}function R(k){k.preventDefault(),c.value=!1}function P(k){var h;if(k.preventDefault(),!g.value||o.value||a.value){c.value=!1;return}const $=(h=k.dataTransfer)===null||h===void 0?void 0:h.items;$!=null&&$.length?Sn(Array.from($).map(p=>p.webkitGetAsEntry()),f.value).then(p=>{u(p)}).finally(()=>{c.value=!1}):c.value=!1}return()=>{var k;const{value:h}=r;return e.abstract?(k=n.default)===null||k===void 0?void 0:k.call(n,{handleClick:y,handleDrop:P,handleDragOver:S,handleDragEnter:L,handleDragLeave:R}):i("div",{class:[`${h}-upload-trigger`,(o.value||a.value)&&`${h}-upload-trigger--disabled`,m.value&&`${h}-upload-trigger--image-card`,w.value],style:C.value,onClick:y,onDrop:P,onDragover:S,onDragenter:L,onDragleave:R},m.value?i(bn,null,{default:()=>Ge(n.default,()=>[i(ne,{clsPrefix:h},{default:()=>i(en,null)})])}):n)}}}),Tn=O({name:"UploadFileList",setup(e,{slots:n}){const t=he(de,null);t||xe("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:r,mergedClsPrefixRef:o,listTypeRef:a,mergedFileListRef:l,fileListClassRef:c,fileListStyleRef:s,cssVarsRef:g,themeClassRef:u,maxReachedRef:f,showTriggerRef:w,imageGroupPropsRef:C}=t,m=M(()=>a.value==="image-card"),y=()=>l.value.map((L,R)=>i(Bn,{clsPrefix:o.value,key:L.id,file:L,index:R,listType:a.value})),S=()=>m.value?i(Ut,Object.assign({},C.value),{default:y}):i(Ke,{group:!0},{default:y});return()=>{const{value:L}=o,{value:R}=r;return i("div",{class:[`${L}-upload-file-list`,m.value&&`${L}-upload-file-list--grid`,R?u==null?void 0:u.value:void 0,c.value],style:[R&&g?g.value:"",s.value]},S(),w.value&&!f.value&&m.value&&i(pt,null,n))}}});var He=function(e,n,t,r){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(u){try{g(r.next(u))}catch(f){l(f)}}function s(u){try{g(r.throw(u))}catch(f){l(f)}}function g(u){u.done?a(u.value):o(u.value).then(c,s)}g((r=r.apply(e,n||[])).next())})};function Dn(e,n,t){const{doChange:r,xhrMap:o}=e;let a=0;function l(s){var g;let u=Object.assign({},n,{status:"error",percentage:a});o.delete(n.id),u=pe(((g=e.onError)===null||g===void 0?void 0:g.call(e,{file:u,event:s}))||u),r(u,s)}function c(s){var g;if(e.isErrorState){if(e.isErrorState(t)){l(s);return}}else if(t.status<200||t.status>=300){l(s);return}let u=Object.assign({},n,{status:"finished",percentage:a});o.delete(n.id),u=pe(((g=e.onFinish)===null||g===void 0?void 0:g.call(e,{file:u,event:s}))||u),r(u,s)}return{handleXHRLoad:c,handleXHRError:l,handleXHRAbort(s){const g=Object.assign({},n,{status:"removed",file:null,percentage:a});o.delete(n.id),r(g,s)},handleXHRProgress(s){const g=Object.assign({},n,{status:"uploading"});if(s.lengthComputable){const u=Math.ceil(s.loaded/s.total*100);g.percentage=u,a=u}r(g,s)}}}function In(e){const{inst:n,file:t,data:r,headers:o,withCredentials:a,action:l,customRequest:c}=e,{doChange:s}=e.inst;let g=0;c({file:t,data:r,headers:o,withCredentials:a,action:l,onProgress(u){const f=Object.assign({},t,{status:"uploading"}),w=u.percent;f.percentage=w,g=w,s(f)},onFinish(){var u;let f=Object.assign({},t,{status:"finished",percentage:g});f=pe(((u=n.onFinish)===null||u===void 0?void 0:u.call(n,{file:f}))||f),s(f)},onError(){var u;let f=Object.assign({},t,{status:"error",percentage:g});f=pe(((u=n.onError)===null||u===void 0?void 0:u.call(n,{file:f}))||f),s(f)}})}function Un(e,n,t){const r=Dn(e,n,t);t.onabort=r.handleXHRAbort,t.onerror=r.handleXHRError,t.onload=r.handleXHRLoad,t.upload&&(t.upload.onprogress=r.handleXHRProgress)}function ht(e,n){return typeof e=="function"?e({file:n}):e||{}}function On(e,n,t){const r=ht(n,t);r&&Object.keys(r).forEach(o=>{e.setRequestHeader(o,r[o])})}function Fn(e,n,t){const r=ht(n,t);r&&Object.keys(r).forEach(o=>{e.append(o,r[o])})}function Mn(e,n,t,{method:r,action:o,withCredentials:a,responseType:l,headers:c,data:s}){const g=new XMLHttpRequest;g.responseType=l,e.xhrMap.set(t.id,g),g.withCredentials=a;const u=new FormData;if(Fn(u,s,t),t.file!==null&&u.append(n,t.file),Un(e,t,g),o!==void 0){g.open(r.toUpperCase(),o),On(g,c,t),g.send(u);const f=Object.assign({},t,{status:"uploading"});e.doChange(f)}}const jn=Object.assign(Object.assign({},ae.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onRetry:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,customDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>zn?ft(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Vn=O({name:"Upload",props:jn,setup(e){e.abstract&&e.listType==="image-card"&&xe("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:n,inlineThemeDisabled:t}=Re(e),r=ae("Upload","-upload",wn,Ft,e,n),o=Mt(e),a=T(e.defaultFileList),l=E(e,"fileList"),c=T(null),s={value:!1},g=T(!1),u=new Map,f=Ye(l,a),w=M(()=>f.value.map(pe)),C=M(()=>{const{max:b}=e;return b!==void 0?w.value.length>=b:!1});function m(){var b;(b=c.value)===null||b===void 0||b.click()}function y(b){const U=b.target;P(U.files?Array.from(U.files).map(N=>({file:N,entry:null,source:"input"})):null,b),U.value=""}function S(b){const{"onUpdate:fileList":U,onUpdateFileList:N}=e;U&&we(U,b),N&&we(N,b),a.value=b}const L=M(()=>e.multiple||e.directory),R=(b,U,N={append:!1,remove:!1})=>{const{append:W,remove:j}=N,G=Array.from(w.value),X=G.findIndex(F=>F.id===b.id);if(W||j||~X){W?G.push(b):j?G.splice(X,1):G.splice(X,1,b);const{onChange:F}=e;F&&F({file:b,fileList:G,event:U}),S(G)}};function P(b,U){if(!b||b.length===0)return;const{onBeforeUpload:N}=e;b=L.value?b:[b[0]];const{max:W,accept:j}=e;b=b.filter(({file:X,source:F})=>F==="dnd"&&(j!=null&&j.trim())?Ln(X.name,X.type,j):!0),W&&(b=b.slice(0,W-w.value.length));const G=Oe();Promise.all(b.map(X=>He(this,[X],void 0,function*({file:F,entry:J}){var K;const Z={id:Oe(),batchId:G,name:F.name,status:"pending",percentage:0,file:F,url:null,type:F.type,thumbnailUrl:null,fullPath:(K=J==null?void 0:J.fullPath)!==null&&K!==void 0?K:`/${F.webkitRelativePath||F.name}`};return!N||(yield N({file:Z,fileList:w.value}))!==!1?Z:null}))).then(X=>He(this,void 0,void 0,function*(){let F=Promise.resolve();X.forEach(J=>{F=F.then(me).then(()=>{J&&R(J,U,{append:!0})})}),yield F})).then(()=>{e.defaultUpload&&k()})}function k(b){const{method:U,action:N,withCredentials:W,headers:j,data:G,name:X}=e,F=b!==void 0?w.value.filter(K=>K.id===b):w.value,J=b!==void 0;F.forEach(K=>{const{status:Z}=K;(Z==="pending"||Z==="error"&&J)&&(e.customRequest?In({inst:{doChange:R,xhrMap:u,onFinish:e.onFinish,onError:e.onError},file:K,action:N,withCredentials:W,headers:j,data:G,customRequest:e.customRequest}):Mn({doChange:R,xhrMap:u,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},X,K,{method:U,action:N,withCredentials:W,responseType:e.responseType,headers:j,data:G}))})}function h(b){var U;if(b.thumbnailUrl)return b.thumbnailUrl;const{createThumbnailUrl:N}=e;return N?(U=N(b.file,b))!==null&&U!==void 0?U:b.url||"":b.url?b.url:b.file?Rn(b.file):""}const $=M(()=>{const{common:{cubicBezierEaseInOut:b},self:{draggerColor:U,draggerBorder:N,draggerBorderHover:W,itemColorHover:j,itemColorHoverError:G,itemTextColorError:X,itemTextColorSuccess:F,itemTextColor:J,itemIconColor:K,itemDisabledOpacity:Z,lineHeight:oe,borderRadius:yt,fontSize:wt,itemBorderImageCardError:bt,itemBorderImageCard:xt}}=r.value;return{"--n-bezier":b,"--n-border-radius":yt,"--n-dragger-border":N,"--n-dragger-border-hover":W,"--n-dragger-color":U,"--n-font-size":wt,"--n-item-color-hover":j,"--n-item-color-hover-error":G,"--n-item-disabled-opacity":Z,"--n-item-icon-color":K,"--n-item-text-color":J,"--n-item-text-color-error":X,"--n-item-text-color-success":F,"--n-line-height":oe,"--n-item-border-image-card-error":bt,"--n-item-border-image-card":xt}}),p=t?ze("upload",void 0,$,e):void 0;jt(de,{mergedClsPrefixRef:n,mergedThemeRef:r,showCancelButtonRef:E(e,"showCancelButton"),showDownloadButtonRef:E(e,"showDownloadButton"),showRemoveButtonRef:E(e,"showRemoveButton"),showRetryButtonRef:E(e,"showRetryButton"),onRemoveRef:E(e,"onRemove"),onDownloadRef:E(e,"onDownload"),customDownloadRef:E(e,"customDownload"),mergedFileListRef:w,triggerClassRef:E(e,"triggerClass"),triggerStyleRef:E(e,"triggerStyle"),shouldUseThumbnailUrlRef:E(e,"shouldUseThumbnailUrl"),renderIconRef:E(e,"renderIcon"),xhrMap:u,submit:k,doChange:R,showPreviewButtonRef:E(e,"showPreviewButton"),onPreviewRef:E(e,"onPreview"),getFileThumbnailUrlResolver:h,listTypeRef:E(e,"listType"),dragOverRef:g,openOpenFileDialog:m,draggerInsideRef:s,handleFileAddition:P,mergedDisabledRef:o.mergedDisabledRef,maxReachedRef:C,fileListClassRef:E(e,"fileListClass"),fileListStyleRef:E(e,"fileListStyle"),abstractRef:E(e,"abstract"),acceptRef:E(e,"accept"),cssVarsRef:t?void 0:$,themeClassRef:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender,showTriggerRef:E(e,"showTrigger"),imageGroupPropsRef:E(e,"imageGroupProps"),mergedDirectoryDndRef:M(()=>{var b;return(b=e.directoryDnd)!==null&&b!==void 0?b:e.directory}),onRetryRef:E(e,"onRetry")});const B={clear:()=>{a.value=[]},submit:k,openOpenFileDialog:m};return Object.assign({mergedClsPrefix:n,draggerInsideRef:s,inputElRef:c,mergedTheme:r,dragOver:g,mergedMultiple:L,cssVars:t?void 0:$,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender,handleFileInputChange:y},B)},render(){var e,n;const{draggerInsideRef:t,mergedClsPrefix:r,$slots:o,directory:a,onRender:l}=this;if(o.default&&!this.abstract){const s=o.default()[0];!((e=s==null?void 0:s.type)===null||e===void 0)&&e[ut]&&(t.value=!0)}const c=i("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${r}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:a||void 0,directory:a||void 0}));return this.abstract?i(se,null,(n=o.default)===null||n===void 0?void 0:n.call(o),i(Ot,{to:"body"},c)):(l==null||l(),i("div",{class:[`${r}-upload`,t.value&&`${r}-upload--dragger-inside`,this.dragOver&&`${r}-upload--drag-over`,this.themeClass],style:this.cssVars},c,this.showTrigger&&this.listType!=="image-card"&&i(pt,null,o),this.showFileList&&i(Tn,null,o)))}}),Nn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},An=O({name:"Close",render:function(n,t){return I(),H("svg",Nn,t[0]||(t[0]=[x("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1)]))}}),Hn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},En=O({name:"CloudUploadOutline",render:function(n,t){return I(),H("svg",Hn,t[0]||(t[0]=[x("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),x("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),x("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1)]))}}),qn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Wn=O({name:"Play",render:function(n,t){return I(),H("svg",qn,t[0]||(t[0]=[x("path",{d:"M133 440a35.37 35.37 0 0 1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0 1 35.77.45l247.85 148.36a36 36 0 0 1 0 61l-247.89 148.4A35.5 35.5 0 0 1 133 440z",fill:"currentColor"},null,-1)]))}});function Xn(e){return ce(te.getPluginList,e)}function Gn(){return ce(te.getLocalPluginList)}function Zn(e){return ve(te.createPlugin,e)}function Yn(e){return ce(te.getPluginVersions,e)}function Kn(e){return ve(te.packagePlugin,e)}function Jn(e){return ce(te.installPlugin,e)}function Qn(e){return ce(te.unInstallPlugin,e)}function er(e){return ve(te.globalVisible,e)}function tr(e){return ve(te.updatePlugin,e)}function nr(e){return ce(te.getPluginConfig,e)}const rr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ir=O({name:"InsertDriveFileOutlined",render:function(n,t){return I(),H("svg",rr,t[0]||(t[0]=[x("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z",fill:"currentColor"},null,-1)]))}}),or={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},mt=O({name:"InstallDesktopFilled",render:function(n,t){return I(),H("svg",or,t[0]||(t[0]=[x("path",{d:"M20 17H4V5h8V3H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h4v2h8v-2h4c1.1 0 2-.9 2-2v-3h-2v3z",fill:"currentColor"},null,-1),x("path",{d:"M17 14l5-5l-1.41-1.41L18 10.17V3h-2v7.17l-2.59-2.58L12 9z",fill:"currentColor"},null,-1)]))}}),lr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},sr=O({name:"UpgradeFilled",render:function(n,t){return I(),H("svg",lr,t[0]||(t[0]=[x("path",{d:"M16 18v2H8v-2h8zM11 7.99V16h2V7.99h3L12 4L8 7.99h3z",fill:"currentColor"},null,-1)]))}}),ar={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},cr=O({name:"Add12Regular",render:function(n,t){return I(),H("svg",ar,t[0]||(t[0]=[x("g",{fill:"none"},[x("path",{d:"M6 1.5a.5.5 0 0 0-1 0V5H1.5a.5.5 0 0 0 0 1H5v3.5a.5.5 0 0 0 1 0V6h3.5a.5.5 0 0 0 0-1H6V1.5z",fill:"currentColor"})],-1)]))}}),dr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ur=O({name:"Delete24Regular",render:function(n,t){return I(),H("svg",dr,t[0]||(t[0]=[x("g",{fill:"none"},[x("path",{d:"M12 1.75a3.25 3.25 0 0 1 3.245 3.066L15.25 5h5.25a.75.75 0 0 1 .102 1.493L20.5 6.5h-.796l-1.28 13.02a2.75 2.75 0 0 1-2.561 2.474l-.176.006H8.313a2.75 2.75 0 0 1-2.714-2.307l-.023-.174L4.295 6.5H3.5a.75.75 0 0 1-.743-.648L2.75 5.75a.75.75 0 0 1 .648-.743L3.5 5h5.25A3.25 3.25 0 0 1 12 1.75zm6.197 4.75H5.802l1.267 12.872a1.25 1.25 0 0 0 1.117 1.122l.127.006h7.374c.6 0 1.109-.425 1.225-1.002l.02-.126L18.196 6.5zM13.75 9.25a.75.75 0 0 1 .743.648L14.5 10v7a.75.75 0 0 1-1.493.102L13 17v-7a.75.75 0 0 1 .75-.75zm-3.5 0a.75.75 0 0 1 .743.648L11 10v7a.75.75 0 0 1-1.493.102L9.5 17v-7a.75.75 0 0 1 .75-.75zm1.75-6a1.75 1.75 0 0 0-1.744 1.606L10.25 5h3.5A1.75 1.75 0 0 0 12 3.25z",fill:"currentColor"})],-1)]))}}),gr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},fr=O({name:"UninstallApp24Regular",render:function(n,t){return I(),H("svg",gr,t[0]||(t[0]=[x("g",{fill:"none"},[x("path",{d:"M21.695 15.147l.084.072a.75.75 0 0 1 .072.977l-.072.084l-2.22 2.219l2.22 2.22a.75.75 0 0 1 .072.976l-.072.084a.75.75 0 0 1-.977.072l-.084-.072l-2.22-2.22l-2.218 2.22a.75.75 0 0 1-.976.072l-.085-.072a.75.75 0 0 1-.072-.977l.072-.084l2.219-2.22l-2.218-2.218a.75.75 0 0 1-.073-.976l.072-.085a.75.75 0 0 1 .977-.072l.084.072l2.219 2.219l2.22-2.218a.75.75 0 0 1 .976-.073zM18.75 3A2.25 2.25 0 0 1 21 5.25v5.25a2.25 2.25 0 0 1-2.25 2.25h-6v6A2.25 2.25 0 0 1 10.5 21H5.25A2.25 2.25 0 0 1 3 18.75V5.25A2.25 2.25 0 0 1 5.25 3h13.5zm-7.5 9.749H4.5v6.001c0 .414.336.75.75.75h5.25a.75.75 0 0 0 .75-.75v-6.001zm7.5-8.249h-6v6.75h6a.75.75 0 0 0 .75-.75V5.25a.75.75 0 0 0-.75-.75zm-7.5 0h-6a.75.75 0 0 0-.75.75v5.999l6.75.001V4.5z",fill:"currentColor"})],-1)]))}}),pr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},hr=O({name:"Map",render:function(n,t){return I(),H("svg",pr,t[0]||(t[0]=[x("path",{d:"M16 24l-6.09-8.6A8.14 8.14 0 0 1 16 2a8.08 8.08 0 0 1 8 8.13a8.2 8.2 0 0 1-1.8 5.13zm0-20a6.07 6.07 0 0 0-6 6.13a6.19 6.19 0 0 0 1.49 4L16 20.52L20.63 14A6.24 6.24 0 0 0 22 10.13A6.07 6.07 0 0 0 16 4z",fill:"currentColor"},null,-1),x("circle",{cx:"16",cy:"9",r:"2",fill:"currentColor"},null,-1),x("path",{d:"M28 12h-2v2h2v14H4V14h2v-2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1)]))}}),mr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},vr=O({name:"Package",render:function(n,t){return I(),H("svg",mr,t[0]||(t[0]=[x("path",{d:"M26 30H6a2 2 0 0 1-2-2V16a2 2 0 0 1 2-2h3v2H6v12h20V16h-3v-2h3a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2z",fill:"currentColor"},null,-1),x("path",{d:"M13 20h6v2h-6z",fill:"currentColor"},null,-1),x("path",{d:"M20.59 8.59L17 12.17V2h-2v10.17l-3.59-3.58L10 10l6 6l6-6l-1.41-1.41z",fill:"currentColor"},null,-1)]))}}),_r={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},yr=O({name:"Version",render:function(n,t){return I(),H("svg",_r,t[0]||(t[0]=[x("path",{d:"M16 2v2h10v15h2V4a2.002 2.002 0 0 0-2-2z",fill:"currentColor"},null,-1),x("path",{d:"M11 7v2h10v15h2V9a2.002 2.002 0 0 0-2-2z",fill:"currentColor"},null,-1),x("path",{d:"M6 12h10a2.002 2.002 0 0 1 2 2v14a2.002 2.002 0 0 1-2 2H6a2.002 2.002 0 0 1-2-2V14a2.002 2.002 0 0 1 2-2zm10 2l-10-.001V28h10z",fill:"currentColor"},null,-1)]))}}),wr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},br=O({name:"SwapOutlined",render:function(n,t){return I(),H("svg",wr,t[0]||(t[0]=[x("path",{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z",fill:"currentColor"},null,-1)]))}}),xr={class:"flex justify-end"},Cr={key:0},kr={key:1},vt=O({__name:"CreatePlugin",emits:["success"],setup(e,{expose:n,emit:t}){const r=t,{t:o}=ie(),a=T(),l=T(!1),c=T(),s=T({plugin_name:void 0,description:void 0,must_be_installed:!1,auto_upgrade:!1,manager_user_ids:void 0,org_ids:void 0}),g={plugin_name:{required:!0,message:"common.required"},description:{required:!0,message:"common.required"},must_be_installed:{required:!0,message:"common.required"},auto_upgrade:{required:!0,message:"common.required"}},u=T(!1),f=()=>{u.value=!1,s.value={plugin_name:void 0,description:void 0,must_be_installed:!1,auto_upgrade:!1,manager_user_ids:void 0,org_ids:void 0}},w=k=>{k||f()},C=async()=>{const[k,h]=await Zn({...s.value,manager_user_ids:[],org_ids:s.value.org_ids||[]});l.value=!1,!k&&h&&h.status===0&&setTimeout(()=>{f(),r("success")},100)},m=async()=>{const[k,h]=await tr({...s.value,manager_user_ids:[],org_ids:s.value.org_ids||[]});l.value=!1,!k&&h&&h.status===0&&setTimeout(()=>{f(),r("success")},100)},y=()=>{var k;l.value||(l.value=!0,(k=c.value)==null||k.validate(async h=>{if(h){l.value=!1;return}a.value==="update"?m():C()}))},S=T(),L=async()=>{var $,p;const[k,h]=await Nt();!k&&(h==null?void 0:h.status)===0&&(S.value=(p=($=h==null?void 0:h.data)==null?void 0:$.organizations)==null?void 0:p.map(B=>({...B,label:B.organization_name,value:B.organization_id})))};return Ce(()=>{L()}),n({open:()=>u.value=!0,close:f,setValues:(k={})=>{s.value={...s.value,...k}},setType:k=>{a.value=k}}),(k,h)=>{const $=Je,p=dt,B=Vt,b=Y,U=ct,N=_e,W=$e;return I(),ee(W,{show:d(u),"onUpdate:show":h[3]||(h[3]=j=>re(u)?u.value=j:null),"on-update:show":w},{default:_(()=>[v(N,{style:{width:"600px"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true"},{default:_(()=>[v(U,{ref_key:"formRef",ref:c,model:d(s),rules:g},{default:_(()=>[v(p,{label:d(o)("pluginCenter.pluginName"),path:"plugin_name"},{default:_(()=>[v($,{disabled:d(a)==="update",value:d(s).plugin_name,"onUpdate:value":h[0]||(h[0]=j=>d(s).plugin_name=j),placeholder:d(o)("pluginCenter.pluginName")},null,8,["disabled","value","placeholder"])]),_:1},8,["label"]),v(p,{label:d(o)("pluginCenter.description"),path:"description"},{default:_(()=>[v($,{type:"textarea",value:d(s).description,"onUpdate:value":h[1]||(h[1]=j=>d(s).description=j),placeholder:d(o)("pluginCenter.description")},null,8,["value","placeholder"])]),_:1},8,["label"]),v(p,{label:d(o)("pluginCenter.visibleRange"),path:"org_ids"},{default:_(()=>[v(B,{filterable:"",multiple:"",clearable:"",placeholder:d(o)("pluginCenter.rangeTips"),value:d(s).org_ids,"onUpdate:value":h[2]||(h[2]=j=>d(s).org_ids=j),options:d(S)},null,8,["placeholder","value","options"])]),_:1},8,["label"]),x("div",xr,[v(b,{type:"primary",loading:d(l),onClick:y},{default:_(()=>[d(a)==="update"?(I(),H("span",Cr,D(d(o)("pluginCenter.update")),1)):(I(),H("span",kr,D(d(o)("pluginCenter.create")),1))]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])}}}),Rr={class:"font-bold flex justify-between mt-1.5 pr-2"},zr={class:"h-full flex flex-col"},$r={class:"flex-1 flex items-center pl-2"},Pr={class:"flex-1 py-3 pl-3"},Sr={class:"whitespace-pre-line"},Lr={key:1,class:"h-full flex justify-center items-center"},Br={class:"flex justify-end gap-2"},Tr=O({__name:"PackageView",emits:["success"],setup(e,{expose:n,emit:t}){const r=t,{t:o}=ie(),a=At(),l=Ht("pathops",[]),c=T(),s=T(),g=T(!1),u=T(),f=T({plugin_dir:void 0}),w={plugin_dir:{required:!0,message:"common.required"}},C=T(!1),m=T(!1),y=()=>{m.value=!1,s.value=void 0},S=()=>{C.value=!1,s.value=void 0,f.value={plugin_dir:void 0}},L=()=>{const p=l.value||[];p.unshift(f.value.plugin_dir),l.value=[...new Set(p)]},R=async()=>{if(s.value=void 0,g.value||(g.value=!0,!c.value))return;const[p,B]=await Kn({plugin_dir:c.value});g.value=!1,!p&&(B==null?void 0:B.status)===1&&(s.value={type:"error",text:B.msg}),!p&&B&&B.status===0&&(s.value={type:"success",text:B==null?void 0:B.data},r("success"))},P=()=>{var p;L(),c.value=(p=f.value)==null?void 0:p.plugin_dir,S()};Ce(()=>{Array.isArray(l.value)||(l.value=[])}),n({open:()=>{m.value=!0},close:y});const k=p=>{c.value===p.key&&me(()=>{setTimeout(()=>{c.value=void 0},200)}),l.value=qt(l.value,p.label)},h=()=>{C.value=!0},$=p=>i("div",{className:"flex items-center gap-2"},[i(ge,{onClick:()=>k(p),component:ir}),i(Se,null,{default:()=>p.label}),i(ge,{color:"#f00",style:"display: none",onClick:()=>k(p),component:ur})]);return(p,B)=>{const b=Y,U=Et,N=Pe,W=Qt,j=yn,G=_e,X=$e,F=Je,J=dt,K=ct;return I(),H(se,null,[v(X,{show:d(m),"onUpdate:show":B[1]||(B[1]=Z=>re(m)?m.value=Z:null),"mask-closable":!1},{default:_(()=>[v(G,{style:{width:"1200px"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true","content-class":"!p-4"},{default:_(()=>[v(j,{min:.1,max:.75,"default-size":"200px"},{1:_(()=>[x("div",Rr,[A(D(d(o)("pluginCenter.plugin"))+" ",1),v(b,{type:"primary",size:"tiny",onClick:h},{icon:_(()=>[v(d(cr))]),_:1})]),v(N,{style:{"max-height":"80vh","min-height":"500px"}},{default:_(()=>{var Z;return[v(U,{indent:0,"collapsed-width":64,"collapsed-icon-size":22,options:(Z=d(l))==null?void 0:Z.map(oe=>({label:oe,key:oe})),"render-label":$,value:d(c),"onUpdate:value":B[0]||(B[0]=oe=>re(c)?c.value=oe:null)},null,8,["options","value"])]}),_:1})]),2:_(()=>[x("div",zr,[x("div",{class:"flex justify-end gap-2 pb-2 border-b",style:Fe({borderColor:d(a).dividerColor})},[x("div",$r,D(d(c)),1),v(b,{disabled:!d(c),type:"primary",loading:d(g),onClick:R},{icon:_(()=>[v(d(Wn))]),default:_(()=>[A(" "+D(d(o)("pluginCenter.package")),1)]),_:1},8,["disabled","loading"]),v(b,{type:"primary",onClick:y},{icon:_(()=>[v(d(An))]),_:1})],4),x("div",Pr,[d(s)?(I(),ee(W,{key:0,"show-icon":!1,type:d(s).type,class:"mb-5 max-h-48 overflow-y-auto"},{default:_(()=>[B[4]||(B[4]=x("div",null,"Result:",-1)),x("div",Sr,D(d(s).text),1)]),_:1},8,["type"])):(I(),H("div",Lr,[v(Jt,{class:"h-full"})]))])])]),"resize-trigger":_(()=>[x("div",{style:Fe({height:"100%",backgroundColor:d(a).dividerColor,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"8px"})},[v(d(ge),{color:"white",size:16},{default:_(()=>[v(d(br))]),_:1})],4)]),_:1})]),_:1})]),_:1},8,["show"]),v(X,{show:d(C),"onUpdate:show":B[3]||(B[3]=Z=>re(C)?C.value=Z:null),"mask-closable":!1,"auto-focus":!1},{default:_(()=>[v(G,{style:{width:"600px"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true","content-class":"!p-4"},{default:_(()=>[v(K,{ref_key:"formRef",ref:u,model:d(f),rules:w},{default:_(()=>[v(W,{class:"w-full mb-5",type:"info"},{default:_(()=>[A(D(d(o)("pluginCenter.packagePathPlaceholder")),1)]),_:1}),v(J,{label:d(o)("pluginCenter.packagePath"),path:"plugin_dir"},{default:_(()=>[v(F,{value:d(f).plugin_dir,"onUpdate:value":B[2]||(B[2]=Z=>d(f).plugin_dir=Z),clearable:""},null,8,["value"])]),_:1},8,["label"]),x("div",Br,[v(b,{type:"default",onClick:S},{default:_(()=>[A(D(d(o)("common.cancel")),1)]),_:1}),v(b,{type:"primary",loading:d(g),onClick:P},{default:_(()=>[A(D(d(o)("common.OK")),1)]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])],64)}}}),Dr=Wt(Tr,[["__scopeId","data-v-56486782"]]),Ir="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='24.000000'%20height='24.000000'%20fill='none'%3e%3crect%20id='swap-box-fill'%20width='24.000000'%20height='24.000000'%20x='0.000000'%20y='0.000000'%20fill='rgb(255,255,255)'%20fill-opacity='0'%20/%3e%3cpath%20id='%20100'%20d='M3%203L21%203C21.2652%203%2021.5196%203.10536%2021.7071%203.29289C21.8946%203.48043%2022%203.73478%2022%204L22%2020C22%2020.2652%2021.8946%2020.5196%2021.7071%2020.7071C21.5196%2020.8946%2021.2652%2021%2021%2021L3%2021C2.73478%2021%202.48043%2020.8946%202.29289%2020.7071C2.10536%2020.5196%202%2020.2652%202%2020L2%204C2%203.73478%202.10536%203.48043%202.29289%203.29289C2.48043%203.10536%202.73478%203%203%203L3%203ZM15%207L15%209L11%209L11%2011L15%2011L15%2013L18.5%2010L15%207ZM9%2017L9%2015L13%2015L13%2013L9%2013L9%2011L5.5%2014L9%2017Z'%20fill='rgb(99,226,183)'%20fill-rule='evenodd'%20/%3e%3c/svg%3e",Ur="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='24.000000'%20height='24.000000'%20fill='none'%3e%3crect%20id='file-edit-fill'%20width='24.000000'%20height='24.000000'%20x='0.000000'%20y='0.000000'%20fill='rgb(255,255,255)'%20fill-opacity='0'%20/%3e%3cpath%20id='%2044'%20d='M21%2015.243L21%2021.008C20.9997%2021.2712%2020.895%2021.5235%2020.7088%2021.7095C20.5226%2021.8955%2020.2702%2022%2020.007%2022L3.99302%2022C3.8617%2021.9991%203.73184%2021.9723%203.61087%2021.9212C3.48989%2021.8701%203.38017%2021.7957%203.28796%2021.7022C3.19575%2021.6087%203.12286%2021.4979%203.07346%2021.3762C3.02405%2021.2545%202.9991%2021.1243%203.00002%2020.993L3.00002%209L9.00002%209C9.26524%209%209.51959%208.89464%209.70713%208.70711C9.89467%208.51957%2010%208.26522%2010%208L10%202L20.002%202C20.553%202%2021%202.455%2021%202.992L21%206.757L12.001%2015.757L11.995%2019.995L16.241%2020.001L21%2015.243ZM21.778%208.808L23.192%2010.222L15.414%2018L13.998%2017.998L14%2016.586L21.778%208.808L21.778%208.808ZM3.00002%207L8.00002%202.003L8.00002%207L3.00002%207Z'%20fill='rgb(99,226,183)'%20fill-rule='evenodd'%20/%3e%3c/svg%3e",Or={class:"absolute top-0 right-0 inline-flex items-center gap-1"},Fr=["src"],Mr=["src"],jr=O({__name:"ActionView",props:{cfg:{},uid:{},id:{},visible:{type:Boolean}},emits:["visible:success","refresh"],setup(e,{emit:n}){const t=Qe(),r=et(),{t:o}=ie(),a=T(),l=n,c=e,s=T(!1),g=async()=>{const[m,y]=await er({plugin_id:c.id,visible:!c.visible});!m&&(y==null?void 0:y.status)===0&&(r.success(o("pluginCenter.setupSuccess")),l("visible:success"))},u=T(!1),f=async()=>{const[m,y]=await nr({plugin_id:c.id});if(!m&&(y==null?void 0:y.status)===0)return y.data.org_list},w=async()=>{const m=await f();u.value=!0,me(()=>{setTimeout(()=>{var y,S,L;(y=a.value)==null||y.open(),(S=a.value)==null||S.setValues({plugin_name:c.cfg.plugin_name,plugin_id:c.cfg.plugin_id,description:c.cfg.description,must_be_installed:c.cfg.must_be_installed,auto_upgrade:c.cfg.auto_upgrade,manager_user_ids:void 0,org_ids:m==null?void 0:m.map(R=>R.organization_id)}),(L=a.value)==null||L.setType("update")},100)})},C=()=>{l("refresh")};return(m,y)=>{var L,R;const S=tt;return I(),H(se,null,[x("div",Or,[d(s)?(I(),ee(S,{key:0,placement:"top-start",trigger:"hover"},{trigger:_(()=>[x("img",{class:"w-5 cursor-pointer",src:d(Ir),alt:"",onClick:g},null,8,Fr)]),default:_(()=>[A(" "+D(d(o)("pluginCenter.visibleTips")),1)]),_:1})):fe("",!0),((L=d(t).info)==null?void 0:L.user_id)===m.uid||(R=d(t).info)!=null&&R.is_sys_admin?(I(),ee(S,{key:1,placement:"top-start",trigger:"hover"},{trigger:_(()=>[x("img",{class:"w-5 cursor-pointer",src:d(Ur),alt:"",onClick:w},null,8,Mr)]),default:_(()=>[A(" "+D(d(o)("pluginCenter.edit")),1)]),_:1})):fe("",!0)]),d(u)?(I(),ee(vt,{key:0,ref_key:"createPluginRef",ref:a,onSuccess:C},null,512)):fe("",!0)],64)}}}),_t=O({__name:"UploadFile",props:{url:{}},emits:["success"],setup(e,{emit:n}){const{t}=ie(),r=e,o=n,a=et(),l=async({file:c,data:s,onFinish:g,onError:u,onProgress:f})=>{const w=new FormData;s&&Object.keys(s).forEach(y=>{w.append(y,s[y])}),w.append("plugin_file",c.file);const[C,m]=await ve(r.url,w,{headers:{"Content-Type":"multipart/form-data"}});!C&&(m==null?void 0:m.status)===0?(g(),o("success"),a.success(t("pluginCenter.uploadSuccessfully"))):u()};return(c,s)=>{const g=Vn;return I(),ee(g,{"custom-request":l,"show-file-list":!1},{default:_(()=>[Xt(c.$slots,"default")]),_:3})}}}),Vr=O({__name:"VersionList",props:{pluginId:{}},setup(e,{expose:n}){const{t}=ie(),r=e,o=T(!1),a=[{title:t("pluginCenter.version"),key:"full_version_code"},{title:t("pluginCenter.updateDesc"),key:"update_description"},{title:t("pluginCenter.hooks"),key:"hook",render:w=>w.hook||"-"},{title:t("pluginCenter.createTime"),key:"create_time",minWidth:100,render:w=>w.create_time?new Date(w.create_time).toLocaleString():"-"}],l=nt({page:1,per_page:Gt,total:0}),c=T(),s=async()=>{if(!r.pluginId||!o.value)return;const[w,C]=await Yn({...it(l),plugin_id:r.pluginId});!w&&C&&C.status===0&&(c.value=C.data.list,l.total=C.data.total)},g=w=>{w||u()},u=()=>{o.value=!1};Zt(()=>r.pluginId,w=>{w&&s()});const f=()=>{l.page=1,me(()=>{s()})};return n({open:()=>o.value=!0,close:u,fetchList:s}),(w,C)=>{const m=Y,y=Kt,S=_e,L=$e;return I(),ee(L,{show:d(o),"onUpdate:show":C[1]||(C[1]=R=>re(o)?o.value=R:null),"on-update:show":g},{default:_(()=>[v(S,{style:{width:"80vw"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true",class:"!pt-0"},{default:_(()=>[v(Yt,{title:d(t)("pluginCenter.versions")},{extra:_(()=>[x("div",null,[v(_t,{url:d(te).uploadVersion,data:{plugin_id:w.pluginId},onSuccess:f},{default:_(()=>[v(m,{type:"primary"},{icon:_(()=>[v(d(En))]),default:_(()=>[A(" "+D(d(t)("pluginCenter.upload")),1)]),_:1})]),_:1},8,["url","data"])])]),_:1},8,["title"]),v(y,{columns:a,data:d(c),pagination:!1,"scroll-x":1e3},null,8,["data"]),v(rt,{"page-info":d(l),"onUpdate:pageInfo":C[0]||(C[0]=R=>re(l)?l.value=R:null),onUpdateList:s},null,8,["page-info"])]),_:1})]),_:1},8,["show"])}}}),Nr={class:"relative"},Ar={class:"break-keep text-xl"},Hr={class:"opacity-75 text-xs mt-2"},Er={class:"flex"},qr={class:"break-keep pr-2"},Wr={class:"flex flex-col gap-2 mt-2 min-h-[62px]"},Xr={class:"mt-2"},Gr={class:""},Zr={class:"inline-block ml-10"},Yr={class:"flex justify-around items-center gap-1"},Kr=O({__name:"OnlinePlugin",setup(e,{expose:n}){const t=Qe(),{t:r}=ie(),o=T(),a=T(),l=C=>{var m;a.value=C,(m=o.value)==null||m.open()},c=T({loading:!1,id:void 0}),s=async(C,m,y)=>{var S;if(!((S=c.value)!=null&&S.loading)){if(c.value={loading:!0,id:y},m==="install"){const[L,R]=await Jn({plugin_id:C.plugin_id});!L&&(R==null?void 0:R.status)===0&&f()}else if(m==="unInstall"){const[L,R]=await Qn({plugin_name:C.plugin_name});!L&&(R==null?void 0:R.status)===0&&f()}c.value={loading:!1}}},g=nt({page:1,per_page:8,total:0}),u=T(),f=async(C={})=>{const[m,y]=await Xn({...C,...it(g)});!m&&y&&y.status===0&&(u.value=y.data.list,g.total=y.data.total)};Ce(()=>{f()});const w=()=>{g.page=1,me(f)};return n({refresh:w}),(C,m)=>{const y=Se,S=st,L=ge,R=tt,P=_e,k=at,h=ot,$=Pe;return I(),H("div",null,[v($,{style:{maxHeight:"calc(100vh - 280px)"}},{default:_(()=>[v(h,{cols:"4","x-gap":"20","y-gap":"20",class:"py-1 px-1.5"},{default:_(()=>[(I(!0),H(se,null,lt(d(u),p=>(I(),ee(k,{key:p.plugin_id},{default:_(()=>[v(P,{rounded:"",style:{width:"100%"},"content-class":"!mb-0 !p-2",class:"hover:scale-103 hover:transform-gpu"},{default:_(()=>{var B,b,U;return[x("div",Nr,[x("div",Ar,[A(D(p.plugin_name)+" ",1),v(d(ue),{class:"ml-2",size:"small",type:p.installed?"success":"info",bordered:!1},{default:_(()=>[A(D(p.installed?d(r)("pluginCenter.INSTALLED"):d(r)("pluginCenter.UNINSTALLED")),1)]),_:2},1032,["type"]),v(jr,{id:p.plugin_id,visible:p.is_globally_visible,uid:p.create_uid,cfg:p,"onVisible:success":w,onRefresh:w},null,8,["id","visible","uid","cfg"])]),x("div",Hr,[v(y,{"line-clamp":1},{default:_(()=>[A(D(p.description),1)]),_:2},1024)])]),v(S,{class:"!my-3"}),x("div",Er,[x("span",qr,D(d(r)("pluginCenter.hooks"))+": ",1),v(y,{"line-clamp":1},{default:_(()=>[A(D(p.latest_version_hook),1)]),_:2},1024)]),x("div",Wr,[x("div",null,[v(d(ue),{type:"warning",size:"small"},{default:_(()=>[A(D(d(r)("pluginCenter.localVersion"))+": "+D(p.local_version),1)]),_:2},1024),v(d(ue),{type:"warning",size:"small",class:"ml-2"},{default:_(()=>[A(D(d(r)("pluginCenter.latestVersionCode"))+": "+D(p.latest_version_code),1)]),_:2},1024)]),x("div",Xr,[(B=d(t).info)!=null&&B.is_sys_admin?(I(),H(se,{key:0},[x("span",Gr,D(d(r)("pluginCenter.visible"))+": ",1),v(d(ue),{type:"error",size:"small"},{default:_(()=>[A(D(p.is_globally_visible?d(r)("pluginCenter.yes"):d(r)("pluginCenter.no")),1)]),_:2},1024)],64)):fe("",!0),p.full_path?(I(),ee(R,{key:1,placement:"top-start",trigger:"hover"},{trigger:_(()=>[x("div",Zr,[v(d(Y),{type:"primary",size:"tiny",class:"relative top-0.5"},{default:_(()=>[v(L,{component:d(hr)},null,8,["component"])]),_:1})])]),default:_(()=>[x("span",null,D(p.full_path),1)]),_:2},1024)):fe("",!0)])]),v(S,{class:"!my-3"}),x("div",Yr,[v(d(Y),{type:"info",size:"small",class:"flex-1 !px-0.5",onClick:Me(()=>l(p.plugin_id),["stop"])},{icon:_(()=>[v(d(yr))]),default:_(()=>[A(" "+D(d(r)("pluginCenter.versions")),1)]),_:2},1032,["onClick"]),v(d(Y),{type:"info",size:"small",class:"flex-1",loading:((b=d(c))==null?void 0:b.loading)&&((U=d(c))==null?void 0:U.id)==p.plugin_id,disabled:p.installed?!p.uninstall_enable:!1,onClick:Me(()=>s(p,p.installed?"unInstall":"install",p.plugin_id),["stop"])},{icon:_(()=>[p.installed?(I(),ee(d(fr),{key:0})):(I(),ee(d(mt),{key:1}))]),default:_(()=>[A(D(p!=null&&p.installed?d(r)("pluginCenter.unInstall"):d(r)("pluginCenter.install"))+" ",1)]),_:2},1032,["loading","disabled","onClick"]),v(d(Y),{type:"info",size:"small",class:"flex-1",onClick:()=>s(p,"install",p.plugin_id),disabled:!p.need_update},{icon:_(()=>[v(d(sr))]),default:_(()=>[A(D(d(r)("pluginCenter.update"))+" ",1)]),_:2},1032,["onClick","disabled"])])]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),v(rt,{"page-info":d(g),"onUpdate:pageInfo":m[0]||(m[0]=p=>re(g)?g.value=p:null),onUpdateList:f,"page-sizes":[8,16,24]},null,8,["page-info"]),v(Vr,{"plugin-id":d(a),ref_key:"versionModalRef",ref:o},null,8,["plugin-id"])])}}}),Jr={class:"relative"},Qr={class:"break-keep text-xl flex justify-between"},ei={class:"opacity-75 text-xs mt-2"},ti={class:"flex"},ni={class:"break-keep pr-2"},ri={class:"flex mt-2 pb-3"},ii={class:"pr-2"},oi={class:"flex gap-2 flex-wrap"},li=O({__name:"LocalPlugin",setup(e,{expose:n}){const{t}=ie(),r=T(),o=async()=>{const[a,l]=await Gn();!a&&l&&l.status===0&&(r.value=l.data)};return n({refresh:o}),Ce(()=>{o()}),(a,l)=>{const c=Se,s=st,g=_e,u=at,f=ot,w=Pe;return I(),H("div",null,[v(w,{style:{maxHeight:"calc(100vh - 280px)"}},{default:_(()=>[v(f,{cols:"4","x-gap":"20","y-gap":"20",class:"py-1 px-1.5"},{default:_(()=>[(I(!0),H(se,null,lt(d(r),(C,m)=>(I(),ee(u,{key:m},{default:_(()=>[v(g,{rounded:"",style:{width:"100%"},"content-class":"!mb-0 !p-2",class:"hover:scale-103 hover:transform-gpu"},{default:_(()=>[x("div",Jr,[x("div",Qr,[x("div",null,D(C.plugin_name),1)]),x("div",ei,[v(c,{"line-clamp":1},{default:_(()=>[A(D(C.desc),1)]),_:2},1024)])]),v(s,{class:"!my-3"}),x("div",ti,[x("span",ni,D(d(t)("pluginCenter.hooks"))+": ",1),v(c,{"line-clamp":1},{default:_(()=>{var y;return[A(D((y=C.hook)==null?void 0:y.join(", ")),1)]}),_:2},1024)]),x("div",ri,[x("span",ii,D(d(t)("pluginCenter.localVersion"))+": ",1),x("div",oi,[v(d(ue),{type:"warning",size:"small"},{default:_(()=>[A(D(C.version),1)]),_:2},1024)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])}}}),si={class:"flex justify-between items-center gap-5"},ai={class:"flex justify-end gap-2"},_i=O({__name:"PluginCenter",setup(e){const{t:n}=ie(),t=T(),r=T(),o=T(),a=T(),l=()=>{var f;(f=o.value)==null||f.open()},c=()=>{var f;(f=a.value)==null||f.open()},s=T(),g=T(),u=()=>{setTimeout(()=>{var f,w;(f=t.value)==null||f.refresh(),(w=r.value)==null||w.refresh()},500)};return(f,w)=>{const C=ge,m=nn,y=rn;return I(),H("div",null,[v(y,{type:"card",animated:"",class:"!h-full !w-auto",value:d(s),"onUpdate:value":w[0]||(w[0]=S=>re(s)?s.value=S:null),onUpdateValue:d(g)},{suffix:_(()=>[x("div",si,[x("div",ai,[v(d(Y),{type:"primary",onClick:c},{icon:_(()=>[v(d(vr))]),default:_(()=>[A(" "+D(d(n)("pluginCenter.package")),1)]),_:1}),v(_t,{url:d(te).installFromLocal},{default:_(()=>[v(d(Y),{type:"primary"},{icon:_(()=>[v(d(mt))]),default:_(()=>[A(" "+D(d(n)("pluginCenter.installFromLocale")),1)]),_:1})]),_:1},8,["url"]),v(d(Y),{type:"primary",onClick:l},{icon:_(()=>[v(C,null,{default:_(()=>[v(d(tn))]),_:1})]),default:_(()=>[A(" "+D(d(n)("pluginCenter.create")),1)]),_:1})])])]),default:_(()=>[v(m,{name:"local",tab:d(n)("pluginCenter.localPlugins")},{default:_(()=>[v(li,{ref_key:"localPluginRef",ref:t},null,512)]),_:1},8,["tab"]),v(m,{name:"online",tab:d(n)("pluginCenter.onlinePlugins")},{default:_(()=>[v(Kr,{ref_key:"onlinePluginRef",ref:r},null,512)]),_:1},8,["tab"])]),_:1},8,["value","onUpdateValue"]),v(vt,{ref_key:"createPluginRef",ref:o,onSuccess:u},null,512),v(Dr,{ref_key:"packageViewRef",ref:a},null,512)])}}});export{_i as default};

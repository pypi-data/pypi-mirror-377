// ğŸ‘¤ User Service
// @Service

print "âš™ï¸ Loading User Service...";

// @Service
function UserService_createUser(name, email) {
    print "ğŸ”„ UserService.createUser()";
    
    // Business logic validation
    if (len(name) < 2) {
        print "âŒ Validation error: Name too short";
        return false;
    }
    
    // Check if email exists
    print "ğŸ” Checking email uniqueness...";
    
    // Save user
    let saved = UserRepository_save(name, email);
    
    // Send welcome email (business logic)
    print "ğŸ“§ Sending welcome email to: " + email;
    
    print "âœ… User creation completed";
    return saved;
}

function UserService_getUserById(id) {
    print "ğŸ” UserService.getUserById(" + str(id) + ")";
    return UserRepository_findById(id);
}

function UserService_getAllUsers() {
    print "ğŸ“‹ UserService.getAllUsers()";
    return UserRepository_findAll();
}

function UserService_updateUser(id, name, email) {
    print "ğŸ”„ UserService.updateUser(" + str(id) + ")";
    
    // Validation
    if (len(name) < 2) {
        print "âŒ Validation error: Name too short";
        return false;
    }
    
    // Update logic
    print "ğŸ“ Updating user data...";
    let updated = UserRepository_updateById(id, name, email);
    print "âœ… User updated successfully";
    return updated;
}

function UserService_deleteUser(id) {
    print "ğŸ—‘ï¸ UserService.deleteUser(" + str(id) + ")";
    return UserRepository_deleteById(id);
}

function UserService_findUserByEmail(email) {
    print "ğŸ” UserService.findUserByEmail('" + email + "')";
    return UserRepository_findByEmail(email);
}

print "âœ… User Service loaded successfully";

<odoo>
<!-- Copyright 2022 OpenSynergy Indonesia
     Copyright 2022 PT. Simetri Sinergi Indonesia
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). -->
<data>
<record id="stock_picking_action_assigned" model="ir.actions.server">
    <field name="name">Action Assigned</field>
    <field name="model_id" ref="stock.model_stock_picking" />
    <field name="state">code</field>
    <field name="code">for picking in records:
    picking.action_request_approval()
</field>
</record>

<record id="stock_picking_action_draft" model="ir.actions.server">
    <field name="name">Action Draft</field>
    <field name="model_id" ref="stock.model_stock_picking" />
    <field name="state">code</field>
    <field name="code">for picking in records:
    picking.sudo().mapped("approval_ids").unlink()
    picking.sudo().mapped("active_approver_partner_ids").unlink()
    picking.sudo().write({"approval_template_id" : False})
</field>
</record>

</data>
</odoo>

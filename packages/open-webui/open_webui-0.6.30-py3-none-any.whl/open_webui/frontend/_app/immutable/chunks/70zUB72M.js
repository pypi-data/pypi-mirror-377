import{S as ke,i as ye,s as Ie,H as pe,I as _e,C as $,D as ee,E as te,K as ge,q as R,r as W,F as se,v as xe,k as Ee,P as Ce,e as h,t as J,l as q,c as v,a as p,b as K,d as m,p as P,f as c,g as me,h as a,G as ie,J as Ve,j as Q,y as be,u as we,O as De,n as ze,L as Ne}from"./G5mHU2ZO.js";import"./IHki7fMi.js";import{t as fe}from"./BLy842NA.js";import{M as Se}from"./CvV1yQz2.js";import{b as Le,d as qe,e as Pe}from"./CzzyEy5H.js";import{b as We,d as Xe,e as Ye}from"./CSq9KHQ7.js";import{S as Te}from"./DQCAYDYi.js";import"./DJ_9eQT6.js";import"./Bf22bvAJ.js";import"./BFmuJLeH.js";import{V as Ae}from"./DRixCCWD.js";import{X as Ue}from"./CGPqWpxc.js";import{e as Ge}from"./Ck_mPZiz.js";function Je(r){let e,t;return e=new Te({props:{className:"size-5"}}),{c(){$(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,n){te(e,l,n),t=!0},p:ze,i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Ke(r){let e,t,l;function n(s){r[11](s)}let f={valvesSpec:r[3]};return r[4]!==void 0&&(f.valves=r[4]),e=new Ae({props:f}),pe.push(()=>_e(e,"valves",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,o){const i={};o&8&&(i.valvesSpec=s[3]),!t&&o&16&&(t=!0,i.valves=s[4],ge(()=>t=!1)),e.$set(i)},i(s){l||(R(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function Fe(r){let e,t,l;return t=new Te({}),{c(){e=h("div"),$(t.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var f=p(e);ee(t.$$.fragment,f),f.forEach(m),this.h()},h(){c(e,"class","ml-2 self-center")},m(n,f){me(n,e,f),te(t,e,null),l=!0},i(n){l||(R(t.$$.fragment,n),l=!0)},o(n){W(t.$$.fragment,n),l=!1},d(n){n&&m(e),se(t)}}}function Qe(r){let e,t,l,n=r[5].t("Valves")+"",f,s,o,i,B,_,g,u,y,I,D,F,b,w,d=r[5].t("Save")+"",E,j,X,H,U,Y;i=new Ue({props:{className:"size-5"}});const G=[Ke,Je],L=[];function C(V,O){return V[2]?1:0}I=C(r),D=L[I]=G[I](r);let k=r[1]&&Fe();return{c(){e=h("div"),t=h("div"),l=h("div"),f=J(n),s=q(),o=h("button"),$(i.$$.fragment),B=q(),_=h("div"),g=h("div"),u=h("form"),y=h("div"),D.c(),F=q(),b=h("div"),w=h("button"),E=J(d),j=q(),k&&k.c(),this.h()},l(V){e=v(V,"DIV",{});var O=p(e);t=v(O,"DIV",{class:!0});var x=p(t);l=v(x,"DIV",{class:!0});var S=p(l);f=K(S,n),S.forEach(m),s=P(x),o=v(x,"BUTTON",{class:!0});var M=p(o);ee(i.$$.fragment,M),M.forEach(m),x.forEach(m),B=P(O),_=v(O,"DIV",{class:!0});var A=p(_);g=v(A,"DIV",{class:!0});var Z=p(g);u=v(Z,"FORM",{class:!0});var N=p(u);y=v(N,"DIV",{class:!0});var le=p(y);D.l(le),le.forEach(m),F=P(N),b=v(N,"DIV",{class:!0});var ae=p(b);w=v(ae,"BUTTON",{class:!0,type:!0});var T=p(w);E=K(T,d),j=P(T),k&&k.l(T),T.forEach(m),ae.forEach(m),N.forEach(m),Z.forEach(m),A.forEach(m),O.forEach(m),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(o,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(y,"class","px-1"),c(w,"class",X="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full "+(r[1]?" cursor-not-allowed":"")),c(w,"type","submit"),w.disabled=r[1],c(b,"class","flex justify-end pt-3 text-sm font-medium"),c(u,"class","flex flex-col w-full"),c(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(_,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(V,O){me(V,e,O),a(e,t),a(t,l),a(l,f),a(t,s),a(t,o),te(i,o,null),a(e,B),a(e,_),a(_,g),a(g,u),a(u,y),L[I].m(y,null),a(u,F),a(u,b),a(b,w),a(w,E),a(w,j),k&&k.m(w,null),H=!0,U||(Y=[ie(o,"click",r[10]),ie(u,"submit",Ve(r[12]))],U=!0)},p(V,O){(!H||O&32)&&n!==(n=V[5].t("Valves")+"")&&Q(f,n);let x=I;I=C(V),I===x?L[I].p(V,O):(be(),W(L[x],1,1,()=>{L[x]=null}),we(),D=L[I],D?D.p(V,O):(D=L[I]=G[I](V),D.c()),R(D,1),D.m(y,null)),(!H||O&32)&&d!==(d=V[5].t("Save")+"")&&Q(E,d),V[1]?k?O&2&&R(k,1):(k=Fe(),k.c(),R(k,1),k.m(w,null)):k&&(be(),W(k,1,1,()=>{k=null}),we()),(!H||O&2&&X!==(X="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full "+(V[1]?" cursor-not-allowed":"")))&&c(w,"class",X),(!H||O&2)&&(w.disabled=V[1])},i(V){H||(R(i.$$.fragment,V),R(D),R(k),H=!0)},o(V){W(i.$$.fragment,V),W(D),W(k),H=!1},d(V){V&&m(e),se(i),L[I].d(),k&&k.d(),U=!1,De(Y)}}}function Ze(r){let e,t,l;function n(s){r[13](s)}let f={size:"sm",$$slots:{default:[Qe]},$$scope:{ctx:r}};return r[0]!==void 0&&(f.show=r[0]),e=new Se({props:f}),pe.push(()=>_e(e,"show",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,[o]){const i={};o&65599&&(i.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,i.show=s[0],ge(()=>t=!1)),e.$set(i)},i(s){l||(R(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function $e(r,e,t){let l;const n=xe("i18n");Ee(r,n,d=>t(5,l=d));const f=Ce();let{show:s=!1}=e,{type:o="tool"}=e,{id:i=null}=e,B=!1,_=!1,g=null,u={};const y=async()=>{var d;if(t(1,B=!0),g){for(const j in g.properties)((d=g.properties[j])==null?void 0:d.type)==="array"&&t(4,u[j]=(u[j]??"").split(",").map(X=>X.trim()),u);let E=null;o==="tool"?E=await Ye(localStorage.token,i,u).catch(j=>{fe.error(`${j}`)}):o==="function"&&(E=await Pe(localStorage.token,i,u).catch(j=>{fe.error(`${j}`)})),E&&(fe.success(l.t("Valves updated successfully")),f("save"))}t(1,B=!1)},I=async()=>{var d;if(t(2,_=!0),t(4,u={}),t(3,g=null),o==="tool"?(t(4,u=await We(localStorage.token,i)),t(3,g=await Xe(localStorage.token,i))):o==="function"&&(t(4,u=await Le(localStorage.token,i)),t(3,g=await qe(localStorage.token,i))),u||t(4,u={}),g)for(const E in g.properties)((d=g.properties[E])==null?void 0:d.type)==="array"&&t(4,u[E]=(u[E]??[]).join(","),u);t(2,_=!1)},D=()=>{t(0,s=!1)};function F(d){u=d,t(4,u)}const b=()=>{y()};function w(d){s=d,t(0,s)}return r.$$set=d=>{"show"in d&&t(0,s=d.show),"type"in d&&t(8,o=d.type),"id"in d&&t(9,i=d.id)},r.$$.update=()=>{r.$$.dirty&1&&s&&I()},[s,B,_,g,u,l,n,y,o,i,D,F,b,w]}class bt extends ke{constructor(e){super(),ye(this,e,$e,Ze,Ie,{show:0,type:8,id:9})}}function et(r){let e,t,l,n=r[2].t("Show your support!")+"",f,s,o,i,B,_,g,u,y,I,D=r[2].t("The developers behind this plugin are passionate volunteers from the community. If you find this plugin helpful, please consider contributing to its development.")+"",F,b,w,d=r[2].t("Your entire contribution will go directly to the plugin developer; Open WebUI does not take any percentage. However, the chosen funding platform might have its own fees.")+"",E,j,X,H,U,Y=r[2].t("Support this plugin:")+"",G,L,C,k=r[1].funding_url+"",V,O,x,S,M,A=r[2].t("Done")+"",Z,N,le,ae;return i=new Ue({props:{className:"size-5"}}),{c(){e=h("div"),t=h("div"),l=h("div"),f=J(n),s=q(),o=h("button"),$(i.$$.fragment),B=q(),_=h("div"),g=h("div"),u=h("form"),y=h("div"),I=h("div"),F=J(D),b=q(),w=h("div"),E=J(d),j=q(),X=h("hr"),H=q(),U=h("div"),G=J(Y),L=q(),C=h("a"),V=J(k),x=q(),S=h("div"),M=h("button"),Z=J(A),this.h()},l(T){e=v(T,"DIV",{});var z=p(e);t=v(z,"DIV",{class:!0});var re=p(t);l=v(re,"DIV",{class:!0});var ue=p(l);f=K(ue,n),ue.forEach(m),s=P(re),o=v(re,"BUTTON",{class:!0});var ce=p(o);ee(i.$$.fragment,ce),ce.forEach(m),re.forEach(m),B=P(z),_=v(z,"DIV",{class:!0});var de=p(_);g=v(de,"DIV",{class:!0});var ne=p(g);u=v(ne,"FORM",{class:!0});var he=p(u);y=v(he,"DIV",{class:!0});var oe=p(y);I=v(oe,"DIV",{class:!0});var Me=p(I);F=K(Me,D),Me.forEach(m),b=P(oe),w=v(oe,"DIV",{class:!0});var Be=p(w);E=K(Be,d),Be.forEach(m),j=P(oe),X=v(oe,"HR",{class:!0}),H=P(oe),U=v(oe,"DIV",{class:!0});var ve=p(U);G=K(ve,Y),L=P(ve),C=v(ve,"A",{href:!0,target:!0,class:!0});var Oe=p(C);V=K(Oe,k),Oe.forEach(m),ve.forEach(m),oe.forEach(m),x=P(he),S=v(he,"DIV",{class:!0});var je=p(S);M=v(je,"BUTTON",{class:!0,type:!0});var He=p(M);Z=K(He,A),He.forEach(m),je.forEach(m),he.forEach(m),ne.forEach(m),de.forEach(m),z.forEach(m),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(o,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(I,"class","my-2"),c(w,"class","my-2"),c(X,"class","dark:border-gray-800 my-3"),c(C,"href",O=r[1].funding_url),c(C,"target","_blank"),c(C,"class","underline text-blue-400 hover:text-blue-300"),c(U,"class","my-2"),c(y,"class","px-1 text-sm"),c(M,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),c(M,"type","submit"),c(S,"class","flex justify-end pt-3 text-sm font-medium"),c(u,"class","flex flex-col w-full"),c(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(_,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(T,z){me(T,e,z),a(e,t),a(t,l),a(l,f),a(t,s),a(t,o),te(i,o,null),a(e,B),a(e,_),a(_,g),a(g,u),a(u,y),a(y,I),a(I,F),a(y,b),a(y,w),a(w,E),a(y,j),a(y,X),a(y,H),a(y,U),a(U,G),a(U,L),a(U,C),a(C,V),a(u,x),a(u,S),a(S,M),a(M,Z),N=!0,le||(ae=[ie(o,"click",r[4]),ie(u,"submit",Ve(r[5]))],le=!0)},p(T,z){(!N||z&4)&&n!==(n=T[2].t("Show your support!")+"")&&Q(f,n),(!N||z&4)&&D!==(D=T[2].t("The developers behind this plugin are passionate volunteers from the community. If you find this plugin helpful, please consider contributing to its development.")+"")&&Q(F,D),(!N||z&4)&&d!==(d=T[2].t("Your entire contribution will go directly to the plugin developer; Open WebUI does not take any percentage. However, the chosen funding platform might have its own fees.")+"")&&Q(E,d),(!N||z&4)&&Y!==(Y=T[2].t("Support this plugin:")+"")&&Q(G,Y),(!N||z&2)&&k!==(k=T[1].funding_url+"")&&Q(V,k),(!N||z&2&&O!==(O=T[1].funding_url))&&c(C,"href",O),(!N||z&4)&&A!==(A=T[2].t("Done")+"")&&Q(Z,A)},i(T){N||(R(i.$$.fragment,T),N=!0)},o(T){W(i.$$.fragment,T),N=!1},d(T){T&&m(e),se(i),le=!1,De(ae)}}}function tt(r){let e,t,l;function n(s){r[6](s)}let f={size:"sm",$$slots:{default:[et]},$$scope:{ctx:r}};return r[0]!==void 0&&(f.show=r[0]),e=new Se({props:f}),pe.push(()=>_e(e,"show",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,[o]){const i={};o&263&&(i.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,i.show=s[0],ge(()=>t=!1)),e.$set(i)},i(s){l||(R(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function st(r,e,t){let l;const n=xe("i18n");Ee(r,n,_=>t(2,l=_)),Ce();let{show:f=!1}=e,{manifest:s={}}=e;const o=()=>{t(0,f=!1)},i=()=>{t(0,f=!1)};function B(_){f=_,t(0,f)}return r.$$set=_=>{"show"in _&&t(0,f=_.show),"manifest"in _&&t(1,s=_.manifest)},[f,s,l,n,o,i,B]}class wt extends ke{constructor(e){super(),ye(this,e,st,tt,Ie,{show:0,manifest:1})}}function Re(r){let e,t,l;return t=new Te({}),{c(){e=h("div"),$(t.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var f=p(e);ee(t.$$.fragment,f),f.forEach(m),this.h()},h(){c(e,"class","ml-2 self-center")},m(n,f){me(n,e,f),te(t,e,null),l=!0},i(n){l||(R(t.$$.fragment,n),l=!0)},o(n){W(t.$$.fragment,n),l=!1},d(n){n&&m(e),se(t)}}}function lt(r){let e,t,l,n=r[3].t("Import")+"",f,s,o,i,B,_,g,u,y,I,D,F=r[3].t("URL")+"",b,w,d,E,j,X,H,U,Y=r[3].t("Import")+"",G,L,C,k,V,O;i=new Ue({props:{className:"size-5"}});let x=r[1]&&Re();return{c(){e=h("div"),t=h("div"),l=h("div"),f=J(n),s=q(),o=h("button"),$(i.$$.fragment),B=q(),_=h("div"),g=h("div"),u=h("form"),y=h("div"),I=h("div"),D=h("div"),b=J(F),w=q(),d=h("div"),E=h("input"),X=q(),H=h("div"),U=h("button"),G=J(Y),L=q(),x&&x.c(),this.h()},l(S){e=v(S,"DIV",{});var M=p(e);t=v(M,"DIV",{class:!0});var A=p(t);l=v(A,"DIV",{class:!0});var Z=p(l);f=K(Z,n),Z.forEach(m),s=P(A),o=v(A,"BUTTON",{class:!0});var N=p(o);ee(i.$$.fragment,N),N.forEach(m),A.forEach(m),B=P(M),_=v(M,"DIV",{class:!0});var le=p(_);g=v(le,"DIV",{class:!0});var ae=p(g);u=v(ae,"FORM",{class:!0});var T=p(u);y=v(T,"DIV",{class:!0});var z=p(y);I=v(z,"DIV",{class:!0});var re=p(I);D=v(re,"DIV",{class:!0});var ue=p(D);b=K(ue,F),ue.forEach(m),w=P(re),d=v(re,"DIV",{class:!0});var ce=p(d);E=v(ce,"INPUT",{class:!0,type:!0,placeholder:!0}),ce.forEach(m),re.forEach(m),z.forEach(m),X=P(T),H=v(T,"DIV",{class:!0});var de=p(H);U=v(de,"BUTTON",{class:!0,type:!0});var ne=p(U);G=K(ne,Y),L=P(ne),x&&x.l(ne),ne.forEach(m),de.forEach(m),T.forEach(m),ae.forEach(m),le.forEach(m),M.forEach(m),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(o,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(D,"class","mb-1 text-xs text-gray-500"),c(E,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden"),c(E,"type","url"),c(E,"placeholder",j=r[3].t("Enter the URL to import")),E.required=!0,c(d,"class","flex-1"),c(I,"class","flex flex-col w-full"),c(y,"class","px-1"),c(U,"class",C="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(r[1]?" cursor-not-allowed":"")),c(U,"type","submit"),U.disabled=r[1],c(H,"class","flex justify-end pt-3 text-sm font-medium"),c(u,"class","flex flex-col w-full"),c(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(_,"class","flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200")},m(S,M){me(S,e,M),a(e,t),a(t,l),a(l,f),a(t,s),a(t,o),te(i,o,null),a(e,B),a(e,_),a(_,g),a(g,u),a(u,y),a(y,I),a(I,D),a(D,b),a(I,w),a(I,d),a(d,E),Ne(E,r[2]),a(u,X),a(u,H),a(H,U),a(U,G),a(U,L),x&&x.m(U,null),k=!0,V||(O=[ie(o,"click",r[10]),ie(E,"input",r[11]),ie(u,"submit",Ve(r[12]))],V=!0)},p(S,M){(!k||M&8)&&n!==(n=S[3].t("Import")+"")&&Q(f,n),(!k||M&8)&&F!==(F=S[3].t("URL")+"")&&Q(b,F),(!k||M&8&&j!==(j=S[3].t("Enter the URL to import")))&&c(E,"placeholder",j),M&4&&E.value!==S[2]&&Ne(E,S[2]),(!k||M&8)&&Y!==(Y=S[3].t("Import")+"")&&Q(G,Y),S[1]?x?M&2&&R(x,1):(x=Re(),x.c(),R(x,1),x.m(U,null)):x&&(be(),W(x,1,1,()=>{x=null}),we()),(!k||M&2&&C!==(C="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(S[1]?" cursor-not-allowed":"")))&&c(U,"class",C),(!k||M&2)&&(U.disabled=S[1])},i(S){k||(R(i.$$.fragment,S),R(x),k=!0)},o(S){W(i.$$.fragment,S),W(x),k=!1},d(S){S&&m(e),se(i),x&&x.d(),V=!1,De(O)}}}function rt(r){let e,t,l;function n(s){r[13](s)}let f={size:"sm",$$slots:{default:[lt]},$$scope:{ctx:r}};return r[0]!==void 0&&(f.show=r[0]),e=new Se({props:f}),pe.push(()=>_e(e,"show",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,[o]){const i={};o&16399&&(i.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,i.show=s[0],ge(()=>t=!1)),e.$set(i)},i(s){l||(R(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function at(r,e,t){let l;const n=xe("i18n");Ee(r,n,b=>t(3,l=b));let{show:f=!1}=e,{onImport:s=b=>{}}=e,{onClose:o=()=>{}}=e,{loadUrlHandler:i=()=>{}}=e,{successMessage:B=""}=e,_=!1,g="";const u=async()=>{if(t(1,_=!0),!g){fe.error(l.t("Please enter a valid URL")),t(1,_=!1);return}const b=await i(g).catch(w=>(fe.error(`${w}`),t(1,_=!1),null));if(b){B||t(6,B=l.t("Function imported successfully")),fe.success(B);let w=b;w.id=w.id||w.name.replace(/\s+/g,"_").toLowerCase();const d=Ge(b.content);d!=null&&d.title&&(w.name=d.title),w.meta={...w.meta??{},description:(d==null?void 0:d.description)??w.name},s(w),t(0,f=!1)}},y=()=>{t(0,f=!1)};function I(){g=this.value,t(2,g)}const D=()=>{u()};function F(b){f=b,t(0,f)}return r.$$set=b=>{"show"in b&&t(0,f=b.show),"onImport"in b&&t(7,s=b.onImport),"onClose"in b&&t(8,o=b.onClose),"loadUrlHandler"in b&&t(9,i=b.loadUrlHandler),"successMessage"in b&&t(6,B=b.successMessage)},[f,_,g,l,n,u,B,s,o,i,y,I,D,F]}class kt extends ke{constructor(e){super(),ye(this,e,at,rt,Ie,{show:0,onImport:7,onClose:8,loadUrlHandler:9,successMessage:6})}}export{kt as I,wt as M,bt as V};
//# sourceMappingURL=70zUB72M.js.map

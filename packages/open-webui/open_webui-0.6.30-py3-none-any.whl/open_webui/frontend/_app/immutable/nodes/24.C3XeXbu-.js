const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/h22AL3a0.js","../chunks/C1FmrZbK.js","../chunks/QjJsDpFa.js"])))=>i.map(i=>d[i]);
import{S as Be,i as He,s as Me,l as x,C as R,e as $,o as xe,d as u,p as W,D as q,c as b,a as y,f as m,g as A,E as G,y as oe,r as P,u as ie,q as T,F as Y,k as ce,v as Fe,_ as We,w as Re,n as fe,H as qe,I as Ge,h as p,L as Ee,G as _e,K as Ye,t as K,b as z,j as ee,a0 as Je,V as Ie}from"../chunks/G5mHU2ZO.js";import"../chunks/IHki7fMi.js";import{W as Xe,s as Ne,m as Ke,u as ze,k as Qe}from"../chunks/Bf22bvAJ.js";import{U as Ze}from"../chunks/jygM4yKg.js";import{_ as Ve}from"../chunks/C1FmrZbK.js";import{g as et}from"../chunks/D0QH3NT1.js";import{e as he,u as tt,o as lt}from"../chunks/Bno_0ZUi.js";import{t as se}from"../chunks/BLy842NA.js";import{f as rt}from"../chunks/DJe0zG-O.js";import{F as st}from"../chunks/CU2r43ac.js";import{d as ue,r as at}from"../chunks/I1CDPYOB.js";import"../chunks/BXP-4RTu.js";import{d as nt}from"../chunks/BQWQRICs.js";import{g as ot}from"../chunks/Bk82nkIB.js";import{g as it,c as Te,d as ft}from"../chunks/m1dP9bvT.js";import{f as ct,g as ut,m as dt,h as Se}from"../chunks/Ck_mPZiz.js";import{E as mt}from"../chunks/Cos11Dic.js";import{C as ht}from"../chunks/2iWpB1LN.js";import{S as _t}from"../chunks/Dy7DAqol.js";import{P as pt}from"../chunks/BTeh22-X.js";import{S as vt}from"../chunks/DQCAYDYi.js";import{T as ye}from"../chunks/BOU1-HoI.js";import{N as gt}from"../chunks/B34Kkw9F.js";import{F as $t}from"../chunks/DxBA1Qqr.js";import{X as bt}from"../chunks/CGPqWpxc.js";import{S as wt}from"../chunks/DKWVN9N5.js";const{document:ke}=et;function Ce(f,e,t){const r=f.slice();return r[31]=e[t],r}function Le(f,e,t){const r=f.slice();return r[34]=e[t],r[36]=t,r}function kt(f){let e,t,r;return t=new vt({props:{className:"size-5"}}),{c(){e=$("div"),R(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var a=y(e);q(t.$$.fragment,a),a.forEach(u),this.h()},h(){m(e,"class","w-full h-full flex justify-center items-center")},m(l,a){A(l,e,a),G(t,e,null),r=!0},p:fe,i(l){r||(T(t.$$.fragment,l),r=!0)},o(l){P(t.$$.fragment,l),r=!1},d(l){l&&u(e),Y(t)}}}function yt(f){let e,t,r,l,a,s,n,o,h,d,D,i,_,g,B,S,j,I,E,N,V,M,F,J;function te(v){f[14](v)}let le={title:f[1].t("Delete note?"),$$slots:{default:[Dt]},$$scope:{ctx:f}};f[5]!==void 0&&(le.show=f[5]),e=new ht({props:le}),qe.push(()=>Ge(e,"show",te)),e.$on("confirm",f[15]),o=new _t({props:{className:"size-3.5"}});let U=f[0]&&je(f);const X=[It,Et],H=[];function ae(v,w){return w[0]&16&&(B=null),B==null&&(B=Object.keys(v[4]).length>0),B?0:1}return S=ae(f,[-1,-1]),j=H[S]=X[S](f),V=new ye({props:{content:f[1].t("Create Note"),$$slots:{default:[Ct]},$$scope:{ctx:f}}}),{c(){R(e.$$.fragment),r=x(),l=$("div"),a=$("div"),s=$("div"),n=$("div"),R(o.$$.fragment),h=x(),d=$("input"),i=x(),U&&U.c(),_=x(),g=$("div"),j.c(),I=x(),E=$("div"),N=$("div"),R(V.$$.fragment),this.h()},l(v){q(e.$$.fragment,v),r=W(v),l=b(v,"DIV",{class:!0});var w=y(l);a=b(w,"DIV",{class:!0});var L=y(a);s=b(L,"DIV",{class:!0});var c=y(s);n=b(c,"DIV",{class:!0});var k=y(n);q(o.$$.fragment,k),k.forEach(u),h=W(c),d=b(c,"INPUT",{class:!0,placeholder:!0}),i=W(c),U&&U.l(c),c.forEach(u),L.forEach(u),w.forEach(u),_=W(v),g=b(v,"DIV",{class:!0});var C=y(g);j.l(C),C.forEach(u),I=W(v),E=b(v,"DIV",{class:!0});var O=y(E);N=b(O,"DIV",{class:!0});var Q=y(N);q(V.$$.fragment,Q),Q.forEach(u),O.forEach(u),this.h()},h(){m(n,"class","self-center ml-1 mr-3"),m(d,"class","w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent"),m(d,"placeholder",D=f[1].t("Search Notes")),m(s,"class","flex flex-1 items-center"),m(a,"class","flex flex-1 items-center w-full space-x-2"),m(l,"class","flex flex-col gap-1 px-3.5"),m(g,"class","px-4.5 @container h-full pt-2"),m(N,"class","flex gap-0.5 justify-end w-full"),m(E,"class","absolute bottom-0 left-0 right-0 p-5 max-w-full flex justify-end")},m(v,w){G(e,v,w),A(v,r,w),A(v,l,w),p(l,a),p(a,s),p(s,n),G(o,n,null),p(s,h),p(s,d),Ee(d,f[0]),p(s,i),U&&U.m(s,null),A(v,_,w),A(v,g,w),H[S].m(g,null),A(v,I,w),A(v,E,w),p(E,N),G(V,N,null),M=!0,F||(J=_e(d,"input",f[16]),F=!0)},p(v,w){const L={};w[0]&2&&(L.title=v[1].t("Delete note?")),w[0]&10|w[1]&64&&(L.$$scope={dirty:w,ctx:v}),!t&&w[0]&32&&(t=!0,L.show=v[5],Ye(()=>t=!1)),e.$set(L),(!M||w[0]&2&&D!==(D=v[1].t("Search Notes")))&&m(d,"placeholder",D),w[0]&1&&d.value!==v[0]&&Ee(d,v[0]),v[0]?U?(U.p(v,w),w[0]&1&&T(U,1)):(U=je(v),U.c(),T(U,1),U.m(s,null)):U&&(oe(),P(U,1,1,()=>{U=null}),ie());let c=S;S=ae(v,w),S===c?H[S].p(v,w):(oe(),P(H[c],1,1,()=>{H[c]=null}),ie(),j=H[S],j?j.p(v,w):(j=H[S]=X[S](v),j.c()),T(j,1),j.m(g,null));const k={};w[0]&2&&(k.content=v[1].t("Create Note")),w[1]&64&&(k.$$scope={dirty:w,ctx:v}),V.$set(k)},i(v){M||(T(e.$$.fragment,v),T(o.$$.fragment,v),T(U),T(j),T(V.$$.fragment,v),M=!0)},o(v){P(e.$$.fragment,v),P(o.$$.fragment,v),P(U),P(j),P(V.$$.fragment,v),M=!1},d(v){v&&(u(r),u(l),u(_),u(g),u(I),u(E)),Y(e,v),Y(o),U&&U.d(),H[S].d(),Y(V),F=!1,J()}}}function Dt(f){let e,t=f[1].t("This will delete")+"",r,l,a,s=f[3].title+"",n,o;return{c(){e=$("div"),r=K(t),l=x(),a=$("span"),n=K(s),o=K("."),this.h()},l(h){e=b(h,"DIV",{class:!0});var d=y(e);r=z(d,t),l=W(d),a=b(d,"SPAN",{class:!0});var D=y(a);n=z(D,s),D.forEach(u),o=z(d,"."),d.forEach(u),this.h()},h(){m(a,"class","font-semibold"),m(e,"class","text-sm text-gray-500")},m(h,d){A(h,e,d),p(e,r),p(e,l),p(e,a),p(a,n),p(e,o)},p(h,d){d[0]&2&&t!==(t=h[1].t("This will delete")+"")&&ee(r,t),d[0]&8&&s!==(s=h[3].title+"")&&ee(n,s)},d(h){h&&u(e)}}}function je(f){let e,t,r,l,a,s;return r=new bt({props:{className:"size-3",strokeWidth:"2"}}),{c(){e=$("div"),t=$("button"),R(r.$$.fragment),this.h()},l(n){e=b(n,"DIV",{class:!0});var o=y(e);t=b(o,"BUTTON",{class:!0});var h=y(t);q(r.$$.fragment,h),h.forEach(u),o.forEach(u),this.h()},h(){m(t,"class","p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"),m(e,"class","self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent")},m(n,o){A(n,e,o),p(e,t),G(r,t,null),l=!0,a||(s=_e(t,"click",f[17]),a=!0)},p:fe,i(n){l||(T(r.$$.fragment,n),l=!0)},o(n){P(r.$$.fragment,n),l=!1},d(n){n&&u(e),Y(r),a=!1,s()}}}function Et(f){let e,t,r,l=f[1].t("No Notes")+"",a,s,n,o=f[1].t("Create your first note by clicking on the plus button below.")+"",h;return{c(){e=$("div"),t=$("div"),r=$("div"),a=K(l),s=x(),n=$("div"),h=K(o),this.h()},l(d){e=b(d,"DIV",{class:!0});var D=y(e);t=b(D,"DIV",{class:!0});var i=y(t);r=b(i,"DIV",{class:!0});var _=y(r);a=z(_,l),_.forEach(u),s=W(i),n=b(i,"DIV",{class:!0});var g=y(n);h=z(g,o),g.forEach(u),i.forEach(u),D.forEach(u),this.h()},h(){m(r,"class","text-xl font-medium text-gray-400 dark:text-gray-600"),m(n,"class","mt-1 text-sm text-gray-300 dark:text-gray-700"),m(t,"class","pb-20 text-center"),m(e,"class","w-full h-full flex flex-col items-center justify-center")},m(d,D){A(d,e,D),p(e,t),p(t,r),p(r,a),p(t,s),p(t,n),p(n,h)},p(d,D){D[0]&2&&l!==(l=d[1].t("No Notes")+"")&&ee(a,l),D[0]&2&&o!==(o=d[1].t("Create your first note by clicking on the plus button below.")+"")&&ee(h,o)},i:fe,o:fe,d(d){d&&u(e)}}}function It(f){let e,t,r=he(Object.keys(f[4])),l=[];for(let s=0;s<r.length;s+=1)l[s]=Oe(Ce(f,r,s));const a=s=>P(l[s],1,1,()=>{l[s]=null});return{c(){e=$("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var n=y(e);for(let o=0;o<l.length;o+=1)l[o].l(n);n.forEach(u),this.h()},h(){m(e,"class","pb-10")},m(s,n){A(s,e,n);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null);t=!0},p(s,n){if(n[0]&1082){r=he(Object.keys(s[4]));let o;for(o=0;o<r.length;o+=1){const h=Ce(s,r,o);l[o]?(l[o].p(h,n),T(l[o],1)):(l[o]=Oe(h),l[o].c(),T(l[o],1),l[o].m(e,null))}for(oe(),o=r.length;o<l.length;o+=1)a(o);ie()}},i(s){if(!t){for(let n=0;n<r.length;n+=1)T(l[n]);t=!0}},o(s){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)P(l[n]);t=!1},d(s){s&&u(e),Je(l,s)}}}function Nt(f){let e,t,r;return t=new mt({props:{className:"size-5"}}),{c(){e=$("button"),R(t.$$.fragment),this.h()},l(l){e=b(l,"BUTTON",{class:!0,type:!0});var a=y(e);q(t.$$.fragment,a),a.forEach(u),this.h()},h(){m(e,"class","self-center w-fit text-sm p-1 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),m(e,"type","button")},m(l,a){A(l,e,a),G(t,e,null),r=!0},p:fe,i(l){r||(T(t.$$.fragment,l),r=!0)},o(l){P(t.$$.fragment,l),r=!1},d(l){l&&u(e),Y(t)}}}function Vt(f){let e=f[1].t("No content")+"",t;return{c(){t=K(e)},l(r){t=z(r,e)},m(r,l){A(r,t,l)},p(r,l){l[0]&2&&e!==(e=r[1].t("No content")+"")&&ee(t,e)},d(r){r&&u(t)}}}function Tt(f){var r,l;let e=((l=(r=f[34].data)==null?void 0:r.content)==null?void 0:l.md)+"",t;return{c(){t=K(e)},l(a){t=z(a,e)},m(a,s){A(a,t,s)},p(a,s){var n,o;s[0]&16&&e!==(e=((o=(n=a[34].data)==null?void 0:n.content)==null?void 0:o.md)+"")&&ee(t,e)},d(a){a&&u(t)}}}function St(f){var l,a,s,n;let e,t=f[1].t("By {{name}}",{name:Se(((a=(l=f[34])==null?void 0:l.user)==null?void 0:a.name)??((n=(s=f[34])==null?void 0:s.user)==null?void 0:n.email)??f[1].t("Deleted User"))})+"",r;return{c(){e=$("div"),r=K(t),this.h()},l(o){e=b(o,"DIV",{class:!0});var h=y(e);r=z(h,t),h.forEach(u),this.h()},h(){m(e,"class","shrink-0 text-gray-500")},m(o,h){A(o,e,h),p(e,r)},p(o,h){var d,D,i,_;h[0]&18&&t!==(t=o[1].t("By {{name}}",{name:Se(((D=(d=o[34])==null?void 0:d.user)==null?void 0:D.name)??((_=(i=o[34])==null?void 0:i.user)==null?void 0:_.email)??o[1].t("Deleted User"))})+"")&&ee(r,t)},d(o){o&&u(e)}}}function Ue(f,e){var ae,v;let t,r,l,a,s,n,o=e[34].title+"",h,d,D,i,_,g,B,S,j,I=ue(e[34].updated_at/1e6).fromNow()+"",E,N,V,M,F;function J(...w){return e[18](e[34],...w)}function te(){return e[19](e[34])}function le(){return e[20](e[34])}i=new gt({props:{onDownload:J,onCopyLink:te,onDelete:le,$$slots:{default:[Nt]},$$scope:{ctx:e}}});function U(w,L){var c,k;return(k=(c=w[34].data)==null?void 0:c.content)!=null&&k.md?Tt:Vt}let X=U(e),H=X(e);return V=new ye({props:{content:((v=(ae=e[34])==null?void 0:ae.user)==null?void 0:v.email)??e[1].t("Deleted User"),className:"flex shrink-0",placement:"top-start",$$slots:{default:[St]},$$scope:{ctx:e}}}),{key:f,first:null,c(){t=$("div"),r=$("div"),l=$("a"),a=$("div"),s=$("div"),n=$("div"),h=K(o),d=x(),D=$("div"),R(i.$$.fragment),_=x(),g=$("div"),H.c(),B=x(),S=$("div"),j=$("div"),E=K(I),N=x(),R(V.$$.fragment),this.h()},l(w){t=b(w,"DIV",{class:!0});var L=y(t);r=b(L,"DIV",{class:!0});var c=y(r);l=b(c,"A",{href:!0,class:!0});var k=y(l);a=b(k,"DIV",{class:!0});var C=y(a);s=b(C,"DIV",{class:!0});var O=y(s);n=b(O,"DIV",{class:!0});var Q=y(n);h=z(Q,o),Q.forEach(u),d=W(O),D=b(O,"DIV",{});var ne=y(D);q(i.$$.fragment,ne),ne.forEach(u),O.forEach(u),_=W(C),g=b(C,"DIV",{class:!0});var de=y(g);H.l(de),de.forEach(u),C.forEach(u),B=W(k),S=b(k,"DIV",{class:!0});var Z=y(S);j=b(Z,"DIV",{});var re=y(j);E=z(re,I),re.forEach(u),N=W(Z),q(V.$$.fragment,Z),Z.forEach(u),k.forEach(u),c.forEach(u),L.forEach(u),this.h()},h(){m(n,"class","font-semibold line-clamp-1 capitalize"),m(s,"class","flex items-center gap-2 self-center mb-1 justify-between"),m(g,"class","text-xs text-gray-500 dark:text-gray-500 mb-3 line-clamp-3 min-h-10"),m(a,"class","flex-1"),m(S,"class","text-xs px-0.5 w-full flex justify-between items-center"),m(l,"href",M=`/notes/${e[34].id}`),m(l,"class","w-full -translate-y-0.5 flex flex-col justify-between"),m(r,"class","flex flex-1 space-x-4 cursor-pointer w-full"),m(t,"class","flex space-x-4 cursor-pointer w-full px-4.5 py-4 border border-gray-50 dark:border-gray-850 bg-transparent dark:hover:bg-gray-850 hover:bg-white rounded-2xl transition"),this.first=t},m(w,L){A(w,t,L),p(t,r),p(r,l),p(l,a),p(a,s),p(s,n),p(n,h),p(s,d),p(s,D),G(i,D,null),p(a,_),p(a,g),H.m(g,null),p(l,B),p(l,S),p(S,j),p(j,E),p(S,N),G(V,S,null),F=!0},p(w,L){var C,O;e=w,(!F||L[0]&16)&&o!==(o=e[34].title+"")&&ee(h,o);const c={};L[0]&24&&(c.onDownload=J),L[0]&18&&(c.onCopyLink=te),L[0]&56&&(c.onDelete=le),L[1]&64&&(c.$$scope={dirty:L,ctx:e}),i.$set(c),X===(X=U(e))&&H?H.p(e,L):(H.d(1),H=X(e),H&&(H.c(),H.m(g,null))),(!F||L[0]&16)&&I!==(I=ue(e[34].updated_at/1e6).fromNow()+"")&&ee(E,I);const k={};L[0]&18&&(k.content=((O=(C=e[34])==null?void 0:C.user)==null?void 0:O.email)??e[1].t("Deleted User")),L[0]&18|L[1]&64&&(k.$$scope={dirty:L,ctx:e}),V.$set(k),(!F||L[0]&16&&M!==(M=`/notes/${e[34].id}`))&&m(l,"href",M)},i(w){F||(T(i.$$.fragment,w),T(V.$$.fragment,w),F=!0)},o(w){P(i.$$.fragment,w),P(V.$$.fragment,w),F=!1},d(w){w&&u(t),Y(i),H.d(),Y(V)}}}function Oe(f){let e,t=f[1].t(f[31])+"",r,l,a,s=[],n=new Map,o,h,d=he(f[4][f[31]]);const D=i=>i[34].id;for(let i=0;i<d.length;i+=1){let _=Le(f,d,i),g=D(_);n.set(g,s[i]=Ue(g,_))}return{c(){e=$("div"),r=K(t),l=x(),a=$("div");for(let i=0;i<s.length;i+=1)s[i].c();o=x(),this.h()},l(i){e=b(i,"DIV",{class:!0});var _=y(e);r=z(_,t),_.forEach(u),l=W(i),a=b(i,"DIV",{class:!0});var g=y(a);for(let B=0;B<s.length;B+=1)s[B].l(g);o=W(g),g.forEach(u),this.h()},h(){m(e,"class","w-full text-xs text-gray-500 dark:text-gray-500 font-medium pb-2.5"),m(a,"class","mb-5 gap-2.5 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5")},m(i,_){A(i,e,_),p(e,r),A(i,l,_),A(i,a,_);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(a,null);p(a,o),h=!0},p(i,_){(!h||_[0]&18)&&t!==(t=i[1].t(i[31])+"")&&ee(r,t),_[0]&1082&&(d=he(i[4][i[31]]),oe(),s=tt(s,_,D,1,i,d,n,a,lt,Ue,o,Le),ie())},i(i){if(!h){for(let _=0;_<d.length;_+=1)T(s[_]);h=!0}},o(i){for(let _=0;_<s.length;_+=1)P(s[_]);h=!1},d(i){i&&(u(e),u(l),u(a));for(let _=0;_<s.length;_+=1)s[_].d()}}}function Ct(f){let e,t,r,l,a;return t=new pt({props:{className:"size-4.5",strokeWidth:"2.5"}}),{c(){e=$("button"),R(t.$$.fragment),this.h()},l(s){e=b(s,"BUTTON",{class:!0,type:!0});var n=y(e);q(t.$$.fragment,n),n.forEach(u),this.h()},h(){m(e,"class","cursor-pointer p-2.5 flex rounded-full border border-gray-50 bg-white dark:border-none dark:bg-gray-850 hover:bg-gray-50 dark:hover:bg-gray-800 transition shadow-xl"),m(e,"type","button")},m(s,n){A(s,e,n),G(t,e,null),r=!0,l||(a=_e(e,"click",f[21]),l=!0)},p:fe,i(s){r||(T(t.$$.fragment,s),r=!0)},o(s){P(t.$$.fragment,s),r=!1},d(s){s&&u(e),Y(t),l=!1,a()}}}function Lt(f){let e,t,r,l,a,s,n,o;ke.title=e=`
		`+f[1].t("Notes")+" • "+f[7]+`
	`,r=new $t({props:{show:f[6]}});const h=[yt,kt],d=[];function D(i,_){return i[2]?0:1}return s=D(f),n=d[s]=h[s](f),{c(){t=x(),R(r.$$.fragment),l=x(),a=$("div"),n.c(),this.h()},l(i){xe("svelte-16ir3op",ke.head).forEach(u),t=W(i),q(r.$$.fragment,i),l=W(i),a=b(i,"DIV",{id:!0,class:!0});var g=y(a);n.l(g),g.forEach(u),this.h()},h(){m(a,"id","notes-container"),m(a,"class","w-full min-h-full h-full")},m(i,_){A(i,t,_),G(r,i,_),A(i,l,_),A(i,a,_),d[s].m(a,null),o=!0},p(i,_){(!o||_[0]&130)&&e!==(e=`
		`+i[1].t("Notes")+" • "+i[7]+`
	`)&&(ke.title=e);const g={};_[0]&64&&(g.show=i[6]),r.$set(g);let B=s;s=D(i),s===B?d[s].p(i,_):(oe(),P(d[B],1,1,()=>{d[B]=null}),ie(),n=d[s],n?n.p(i,_):(n=d[s]=h[s](i),n.c()),T(n,1),n.m(a,null))},i(i){o||(T(r.$$.fragment,i),T(n),o=!0)},o(i){P(r.$$.fragment,i),P(n),o=!1},d(i){i&&(u(t),u(l),u(a)),Y(r,i),d[s].d()}}}function jt(f,e,t){let r,l;ce(f,Xe,c=>t(7,l=c));const{saveAs:a}=rt;ue.extend(nt),ue.extend(at);async function s(c){for(const k of c)try{ue.locale(k);break}catch(C){`${k}`}}const n=Fe("i18n");ce(f,n,c=>t(1,r=c));let o=!1,h="",d=[],D=null,i=null,_={},g=!1;const B=c=>{if(!Array.isArray(c))return{};const k={};for(const C of c){const O=ut(C.updated_at/1e9);k[O]||(k[O]=[]),k[O].push({...C,timeRange:O})}return k},S=async()=>{t(12,d=await it(localStorage.token,!0)),t(13,D=new st(d,{keys:["title"]}))},j=async()=>{const c=await Te(localStorage.token,{title:ue().format("YYYY-MM-DD"),data:{content:{json:null,html:"",md:""}},meta:null,access_control:{}}).catch(k=>(se.error(`${k}`),null));c&&ot(`/notes/${c.id}`)},I=async c=>{if(c==="md"){const k=new Blob([i.data.content.md],{type:"text/markdown"});a(k,`${i.title}.md`)}else c==="pdf"&&await E(i)},E=async c=>{var k,C;try{const[{default:O},{default:Q}]=await Promise.all([Ve(()=>import("../chunks/h22AL3a0.js"),__vite__mapDeps([0,1,2]),import.meta.url),Ve(()=>import("../chunks/BNVeY_Dn.js"),[],import.meta.url)]),ne=1024,de=1400,Z=((C=(k=c.data)==null?void 0:k.content)==null?void 0:C.html)??"";let re;Z instanceof HTMLElement?re=Z:(re=document.createElement("div"),re.innerHTML=Z,document.body.appendChild(re));const pe=await Q(re,{useCORS:!0,scale:2,width:ne,windowWidth:ne,windowHeight:de});Z instanceof HTMLElement||document.body.removeChild(re);const De=pe.toDataURL("image/jpeg",.7),me=new O("p","mm","a4"),ve=210,ge=297,$e=pe.height*ve/pe.width;let be=$e,we=0;for(me.addImage(De,"JPEG",0,we,ve,$e),be-=ge;be>0;)we-=ge,me.addPage(),me.addImage(De,"JPEG",0,we,ve,$e),be-=ge;me.save(`${c.title}.pdf`)}catch(O){se.error(`${O}`)}},N=async c=>{await ft(localStorage.token,c).catch(C=>(se.error(`${C}`),null))&&S()},V=async c=>{for(const k of c){if(k.type!=="text/markdown"){se.error(r.t("Only markdown files are allowed"));return}const C=new FileReader;C.onload=async O=>{const Q=O.target.result;let ne=k.name.replace(/\.md$/,"");if(typeof Q!="string"){se.error(r.t("Invalid file content"));return}await Te(localStorage.token,{title:ne,data:{content:{json:null,html:dt.parse(Q??""),md:Q}},meta:null,access_control:{}}).catch(Z=>(se.error(`${Z}`),null))&&S()},C.readAsText(k)}};let M=!1;const F=c=>{var k,C;c.preventDefault(),(C=(k=c.dataTransfer)==null?void 0:k.types)!=null&&C.includes("Files")?t(6,M=!0):t(6,M=!1)},J=()=>{t(6,M=!1)},te=async c=>{var k,C;if(c.preventDefault(),(k=c.dataTransfer)!=null&&k.files){const O=Array.from((C=c.dataTransfer)==null?void 0:C.files);O&&O.length>0&&V(O)}t(6,M=!1)};We(()=>{const c=document.getElementById("notes-container");c&&(c==null||c.removeEventListener("dragover",F),c==null||c.removeEventListener("drop",te),c==null||c.removeEventListener("dragleave",J))}),Re(async()=>{await S(),t(2,o=!0);const c=document.getElementById("notes-container");c==null||c.addEventListener("dragover",F),c==null||c.addEventListener("drop",te),c==null||c.addEventListener("dragleave",J)});function le(c){g=c,t(5,g)}const U=()=>{N(i.id),t(5,g=!1)};function X(){h=this.value,t(0,h)}const H=()=>{t(0,h="")},ae=(c,k)=>{t(3,i=c),I(k)},v=async c=>{const k=window.location.origin;await ct(`${k}/notes/${c.id}`)?se.success(r.t("Copied link to clipboard")):se.error(r.t("Failed to copy link"))},w=c=>{t(3,i=c),t(5,g=!0)},L=async()=>{j()};return f.$$.update=()=>{f.$$.dirty[0]&2&&s(r.languages),f.$$.dirty[0]&12289&&D&&t(4,_=B(h?D.search(h).map(c=>c.item):d))},[h,r,o,i,_,g,M,l,n,j,I,N,d,D,le,U,X,H,ae,v,w,L]}class Ut extends Be{constructor(e){super(),He(this,e,jt,Lt,Me,{},null,[-1,-1])}}function Pe(f){let e,t,r,l;return t=new ye({props:{content:f[0]?f[2].t("Close Sidebar"):f[2].t("Open Sidebar"),interactive:!0,$$slots:{default:[Ot]},$$scope:{ctx:f}}}),{c(){e=$("div"),R(t.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var s=y(e);q(t.$$.fragment,s),s.forEach(u),this.h()},h(){m(e,"class",r=(f[0]?"md:hidden":"")+" flex flex-none items-center")},m(a,s){A(a,e,s),G(t,e,null),l=!0},p(a,s){const n={};s&5&&(n.content=a[0]?a[2].t("Close Sidebar"):a[2].t("Open Sidebar")),s&129&&(n.$$scope={dirty:s,ctx:a}),t.$set(n),(!l||s&1&&r!==(r=(a[0]?"md:hidden":"")+" flex flex-none items-center"))&&m(e,"class",r)},i(a){l||(T(t.$$.fragment,a),l=!0)},o(a){P(t.$$.fragment,a),l=!1},d(a){a&&u(e),Y(t)}}}function Ot(f){let e,t,r,l,a,s;return r=new wt({}),{c(){e=$("button"),t=$("div"),R(r.$$.fragment),this.h()},l(n){e=b(n,"BUTTON",{id:!0,class:!0});var o=y(e);t=b(o,"DIV",{class:!0});var h=y(t);q(r.$$.fragment,h),h.forEach(u),o.forEach(u),this.h()},h(){m(t,"class","self-center p-1.5"),m(e,"id","sidebar-toggle-button"),m(e,"class","cursor-pointer flex rounded-lg hover:bg-gray-100 dark:hover:bg-gray-850 transition cursor-")},m(n,o){A(n,e,o),p(e,t),G(r,t,null),l=!0,a||(s=_e(e,"click",f[5]),a=!0)},p:fe,i(n){l||(T(r.$$.fragment,n),l=!0)},o(n){P(r.$$.fragment,n),l=!1},d(n){n&&u(e),Y(r),a=!1,s()}}}function Ae(f){var r;let e,t;return e=new Ze({props:{className:"max-w-[240px]",role:(r=f[3])==null?void 0:r.role,help:!0,$$slots:{default:[Pt]},$$scope:{ctx:f}}}),e.$on("show",f[6]),{c(){R(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){var n;const s={};a&8&&(s.role=(n=l[3])==null?void 0:n.role),a&136&&(s.$$scope={dirty:a,ctx:l}),e.$set(s)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Pt(f){let e,t,r,l;return{c(){e=$("button"),t=$("div"),r=$("img"),this.h()},l(a){e=b(a,"BUTTON",{class:!0,"aria-label":!0});var s=y(e);t=b(s,"DIV",{class:!0});var n=y(t);r=b(n,"IMG",{src:!0,class:!0,alt:!0,draggable:!0}),n.forEach(u),s.forEach(u),this.h()},h(){var a;Ie(r.src,l=(a=f[3])==null?void 0:a.profile_image_url)||m(r,"src",l),m(r,"class","size-6 object-cover rounded-full"),m(r,"alt","User profile"),m(r,"draggable","false"),m(t,"class","self-center"),m(e,"class","select-none flex rounded-xl p-1.5 w-full hover:bg-gray-50 dark:hover:bg-gray-850 transition"),m(e,"aria-label","User Menu")},m(a,s){A(a,e,s),p(e,t),p(t,r)},p(a,s){var n;s&8&&!Ie(r.src,l=(n=a[3])==null?void 0:n.profile_image_url)&&m(r,"src",l)},d(a){a&&u(e)}}}function At(f){let e,t,r,l,a,s,n,o,h=f[2].t("Notes")+"",d,D,i,_,g,B,S,j,I=f[1]&&Pe(f),E=f[3]!==void 0&&f[3]!==null&&Ae(f);return B=new Ut({}),{c(){e=$("div"),t=$("nav"),r=$("div"),I&&I.c(),l=x(),a=$("div"),s=$("div"),n=$("div"),o=$("a"),d=K(h),D=x(),i=$("div"),E&&E.c(),_=x(),g=$("div"),R(B.$$.fragment),this.h()},l(N){e=b(N,"DIV",{class:!0});var V=y(e);t=b(V,"NAV",{class:!0});var M=y(t);r=b(M,"DIV",{class:!0});var F=y(r);I&&I.l(F),l=W(F),a=b(F,"DIV",{class:!0});var J=y(a);s=b(J,"DIV",{class:!0});var te=y(s);n=b(te,"DIV",{class:!0});var le=y(n);o=b(le,"A",{class:!0,href:!0});var U=y(o);d=z(U,h),U.forEach(u),le.forEach(u),te.forEach(u),D=W(J),i=b(J,"DIV",{class:!0});var X=y(i);E&&E.l(X),X.forEach(u),J.forEach(u),F.forEach(u),M.forEach(u),_=W(V),g=b(V,"DIV",{class:!0});var H=y(g);q(B.$$.fragment,H),H.forEach(u),V.forEach(u),this.h()},h(){m(o,"class","min-w-fit transition"),m(o,"href","/notes"),m(n,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium bg-transparent py-1 touch-auto pointer-events-auto"),m(s,"class",""),m(i,"class","self-center flex items-center gap-1"),m(a,"class","ml-2 py-0.5 self-center flex items-center justify-between w-full"),m(r,"class","flex items-center"),m(t,"class","px-2 pt-1.5 backdrop-blur-xl w-full drag-region"),m(g,"class","pb-1 flex-1 max-h-full overflow-y-auto @container"),m(e,"class",S="flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out "+(f[0]?"md:max-w-[calc(100%-260px)]":"")+" max-w-full")},m(N,V){A(N,e,V),p(e,t),p(t,r),I&&I.m(r,null),p(r,l),p(r,a),p(a,s),p(s,n),p(n,o),p(o,d),p(a,D),p(a,i),E&&E.m(i,null),p(e,_),p(e,g),G(B,g,null),j=!0},p(N,[V]){N[1]?I?(I.p(N,V),V&2&&T(I,1)):(I=Pe(N),I.c(),T(I,1),I.m(r,l)):I&&(oe(),P(I,1,1,()=>{I=null}),ie()),(!j||V&4)&&h!==(h=N[2].t("Notes")+"")&&ee(d,h),N[3]!==void 0&&N[3]!==null?E?(E.p(N,V),V&8&&T(E,1)):(E=Ae(N),E.c(),T(E,1),E.m(i,null)):E&&(oe(),P(E,1,1,()=>{E=null}),ie()),(!j||V&1&&S!==(S="flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out "+(N[0]?"md:max-w-[calc(100%-260px)]":"")+" max-w-full"))&&m(e,"class",S)},i(N){j||(T(I),T(E),T(B.$$.fragment,N),j=!0)},o(N){P(I),P(E),P(B.$$.fragment,N),j=!1},d(N){N&&u(e),I&&I.d(),E&&E.d(),Y(B)}}}function Bt(f,e,t){let r,l,a,s;ce(f,Ne,d=>t(0,r=d)),ce(f,Ke,d=>t(1,l=d)),ce(f,ze,d=>t(3,s=d));const n=Fe("i18n");return ce(f,n,d=>t(2,a=d)),[r,l,a,s,n,()=>{Ne.set(!r)},d=>{d.detail==="archived-chat"&&Qe.set(!0)}]}class ul extends Be{constructor(e){super(),He(this,e,Bt,At,Me,{})}}export{ul as component};
//# sourceMappingURL=24.C3XeXbu-.js.map

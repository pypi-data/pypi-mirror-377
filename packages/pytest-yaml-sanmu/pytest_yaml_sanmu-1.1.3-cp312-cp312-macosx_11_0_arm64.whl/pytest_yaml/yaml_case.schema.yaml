$schema: https://json-schema.org/draft/2020-12/schema
type: object
required:
  - steps
  - name

properties:
  name:
    type: string
  vars:
    type: object
  mark:
    items:
      anyOf:
        - type: string
        - properties:
            order:
              type: integer
              description: '用例排序，依赖插件: pytest-order'
          required:
            - order
          type: object
        - properties:
            usefixtures:
              items:
                type: string
              type: array
              description: 调用fixtures，并保存于`item.usefixtures`
          required:
            - usefixtures
          type: object
        - properties:
            filterwarnings:
              items:
                type: string
              type: array
              description: 忽略指定的warning实例
          required:
            - filterwarnings
          type: object
        - properties:
            skip:
              type: string
              description: 跳过用例，并标注原因
          required:
            - skip
          type: object
        - properties:
            skipif:
              type: string
              description: 满足条件时跳过用例
          required:
            - skipif
          type: object
        - properties:
            skipif:
              type: object
              required:
                - conditions
                - reason
              description: 满足条件时跳过用例
          required:
            - skipif
          type: object
        - properties:
            xfail:
              type: string
              description: 预期本用例失败
          required:
            - xfail
          type: object
        - properties:
            parametrize:
              type: array
              maxItems: 2
              minItems: 2
              items:
                anyOf:
                  - type: string
                  - type: array
              description: 参数化测试
          required:
            - parametrize
          type: object
        - properties:
            parametrize:
              properties:
                argnames:
                  anyOf:
                    - type: string
                    - type: array
                      items:
                        type: string
                argvalues:
                  type: array
                  items:
                    anyOf:
                      - type: string
                      - type: integer
                      - type: array
              required:
                - argnames
                - argvalues
              type: object
          required:
            - parametrize
          type: object
    type: array
  steps:
    minItems: 1
    type: array

{% if page.toc %}
  {% set items = page.toc %}
  {% set first = items | first %}
  {% if first and first.level == 1 %}
    {% set items = first.children %}
  {% endif %}
  {% if items %}
    <nav class="py-4 ps-3">
      <h2 class="mt-1 text-body-secondary text-uppercase fw-bold small"><span class="small">On this page</span></h2>
      {% with items = items, first = true %}
        {% include 'includes/toc-items.html' %}
      {% endwith %}
      <ul class="nav flex-column border-top mt-3 pt-3">
        <li class="nav-item">
          <a class="nav-link" href="#top">
            Back to top
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5"/>
            </svg>
          </a>
        </li>
      </ul>
    </nav>
  {% endif %}
{% endif %}

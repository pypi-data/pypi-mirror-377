{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Samsara Alert Payload",
    "description": "Schema for Samsara alert action function payloads. All IDs are numeric values stored as strings.",
    "type": "object",
    "required": [
        "driverId",
        "assetId",
        "alertConfigurationId",
        "alertIncidentTime"
    ],
    "properties": {
        "$schema": {
            "type": "string",
            "description": "Reference to this schema file"
        },
        "driverId": {
            "type": "string",
            "description": "Numeric ID of the driver associated with the alert, stored as string. Can be empty if the driver is not known in the context of the alert.",
            "pattern": "^$|^\\d+$",
            "examples": ["123456"],
            "notes": [
                "Can be used with Samsara Drivers API to get driver details",
                "API endpoint: GET /fleet/drivers/{id}",
                "Documentation: https://developers.samsara.com/reference/getdriver"
            ]
        },
        "assetId": {
            "type": "string",
            "description": "Numeric ID of the asset associated with the alert, stored as string. Can be empty if the asset is not known in the context of the alert.",
            "pattern": "^$|^\\d+$",
            "examples": ["789012"],
            "notes": [
                "Can be used with Samsara Vehicles API to get asset details",
                "API endpoint: GET /fleet/vehicles/{id}",
                "Documentation: https://developers.samsara.com/reference/getvehicle"
            ]
        },
        "alertConfigurationId": {
            "type": "string",
            "description": "UUID of the alert configuration that triggered this alert, stored as string",
            "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
            "examples": ["51a1f7de-ca2d-414d-8a23-8e149a4d88be"],
            "notes": [
                "Can be used to get alert configuration details",
                "API endpoint: GET /alerts/configurations?ids={id}",
                "Documentation: https://developers.samsara.com/reference/getconfigurations"
            ]
        },
        "alertIncidentTime": {
            "type": "string",
            "description": "Timestamp of breaching alert threshold , stored as milliseconds since epoch",
            "format": "int64",
            "examples": ["1718236800000"]
        }
    },
    "additionalProperties": false,
    "examples": [
        {
            "driverId": "123456",
            "assetId": "789012",
            "alertConfigurationId": "51a1f7de-ca2d-414d-8a23-8e149a4d88be",
            "alertIncidentTime": "1718236800000"
        }
    ],
    "notes": [
        "Each ID can be used with corresponding Samsara API endpoints to get additional context",
        "For more information, see Samsara API documentation"
    ]
} 

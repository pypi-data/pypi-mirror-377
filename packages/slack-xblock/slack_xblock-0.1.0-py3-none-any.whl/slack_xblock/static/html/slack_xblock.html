<div class="slack-xblock">
    <div class="slack-header">
        <div class="slack-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path
                    d="M5.042 15.165a2.528 2.528 0 0 1-2.52-2.523c0-1.393 1.132-2.526 2.52-2.526h2.52v2.526c0 1.393-1.127 2.523-2.52 2.523z"
                    fill="#e01e5a" />
                <path
                    d="M5.042 5.039a2.528 2.528 0 0 1-2.52-2.523c0-1.393 1.132-2.526 2.52-2.526s2.52 1.133 2.52 2.526v2.523H5.042z"
                    fill="#36c5f0" />
                <path
                    d="M18.958 8.777a2.528 2.528 0 0 1 2.52-2.523c0-1.393-1.132-2.526-2.52-2.526s-2.52 1.133-2.52 2.526v2.523h2.52z"
                    fill="#2eb67d" />
                <path
                    d="M18.958 18.961a2.528 2.528 0 0 1 2.52 2.523c0 1.393-1.132 2.526-2.52 2.526s-2.52-1.133-2.52-2.526v-2.523h2.52z"
                    fill="#ecb22e" />
            </svg>
        </div>
        <h3 class="slack-title">{{ display_name }}</h3>
    </div>

    {% if workspace_configured %}
    <div class="slack-content">
        <div class="channel-info">
            <h4 class="channel-name">#{{ channel_name }}</h4>
            <p class="channel-description">{{ channel_description }}</p>

            {% if show_member_count %}
            <div class="member-count">
                <span class="member-indicator">●</span>
                <span class="member-text">Active members online</span>
            </div>
            {% endif %}
        </div>

        <div class="slack-actions">
            <a href="{{ channel_url }}" target="_blank" class="btn-slack-primary join-channel-btn"
                data-channel="{{ channel_name }}">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path
                        d="M8 0C3.58 0 0 3.58 0 8c0 4.42 3.58 8 8 8 4.42 0 8-3.58 8-8 0-4.42-3.58-8-8-8zm3.707 6.293l-4 4a1 1 0 01-1.414 0l-2-2a1 1 0 111.414-1.414L7 8.172l3.293-3.293a1 1 0 011.414 1.414z" />
                </svg>
                Join Channel
            </a>

            <a href="{{ invite_url }}" target="_blank" class="btn-slack-secondary">
                Need workspace access?
            </a>
        </div>

        <div class="slack-preview">
            <div class="preview-header">
                <span class="preview-title">Recent Activity</span>
                <span class="preview-subtitle">Join the conversation!</span>
            </div>
            <div class="preview-messages">
                <div class="preview-message">
                    <div class="message-indicator"></div>
                    <span>Active discussions happening now...</span>
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="slack-error">
        <p>⚠️ Slack workspace not configured. Please contact your instructor.</p>
    </div>
    {% endif %}
</div>
syntax = "proto3";

service CommService {
  rpc ChunkedMessageStream (stream ChunkMessage) returns (stream ChunkMessage);
}

message ChunkMessage {
  string message_id = 1;
  int32 chunk_index = 2;
  int32 total_chunks = 3;
  bytes chunk_data = 4;
  bool ack_only = 5; // send immediate ack
  bool heavy = 6;    // only first chunk carries this
}
Metadata-Version: 2.4
Name: swh.loader.mercurial
Version: 3.6.2
Summary: Software Heritage Mercurial Loader
Author-email: Software Heritage developers <swh-devel@inria.fr>
Project-URL: Homepage, https://gitlab.softwareheritage.org/swh/devel/swh-loader-mercurial
Project-URL: Bug Reports, https://gitlab.softwareheritage.org/swh/devel/swh-loader-mercurial/-/issues
Project-URL: Funding, https://www.softwareheritage.org/donate
Project-URL: Documentation, https://docs.softwareheritage.org/devel/swh-loader-mercurial/
Project-URL: Source, https://gitlab.softwareheritage.org/swh/devel/swh-loader-mercurial.git
Classifier: Programming Language :: Python :: 3
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: GNU General Public License v3 (GPLv3)
Classifier: Operating System :: OS Independent
Classifier: Development Status :: 4 - Beta
Requires-Python: >=3.9
Description-Content-Type: text/x-rst
License-File: LICENSE
License-File: AUTHORS
Requires-Dist: click
Requires-Dist: patool
Requires-Dist: python-dateutil
Requires-Dist: python-hglib
Requires-Dist: mercurial
Requires-Dist: swh.model>=6.13.0
Requires-Dist: swh.storage>=2.4.1
Requires-Dist: swh.scheduler>=0.0.39
Requires-Dist: swh.loader.core>=5.24.0
Provides-Extra: testing
Requires-Dist: click; extra == "testing"
Requires-Dist: patool; extra == "testing"
Requires-Dist: python-dateutil; extra == "testing"
Requires-Dist: python-hglib; extra == "testing"
Requires-Dist: mercurial; extra == "testing"
Requires-Dist: swh.model>=6.13.0; extra == "testing"
Requires-Dist: swh.storage>=2.4.1; extra == "testing"
Requires-Dist: swh.scheduler>=0.0.39; extra == "testing"
Requires-Dist: swh.loader.core>=5.24.0; extra == "testing"
Requires-Dist: celery-types; extra == "testing"
Requires-Dist: pytest; extra == "testing"
Requires-Dist: pytest-mock; extra == "testing"
Requires-Dist: swh.core[http]>=4.5.0; extra == "testing"
Requires-Dist: swh.loader.core[testing]>=5.24.0; extra == "testing"
Requires-Dist: swh.scheduler[pytest]>=3.1.0; extra == "testing"
Requires-Dist: swh.storage[pytest]>=3.1.0; extra == "testing"
Requires-Dist: types-deprecated; extra == "testing"
Requires-Dist: types-python-dateutil; extra == "testing"
Dynamic: license-file

swh-loader-mercurial
====================

The Software Heritage Mercurial Loader is a tool and a library to walk a local
mercurial repository and inject into the SWH dataset all contained files that
weren't known before.

The main entry points are:

- ``swh.loader.mercurial.loader.HgLoader`` which reads and loads a local
  repository into an SWH archive.

- ``swh.loader.mercurial.loader.HgArchiveLoader`` which reads and loads
  a local repository wrapped within a tarball

- ``swh.loader.mercurial.directory.HgCheckoutLoader`` which ingests the hg
  tree at a specific changeset or tag.

CLI run
-------

Configuration file
++++++++++++++++++

/tmp/mercurial.yml:

.. code-block:: yaml

   storage:
     cls: remote
     args:
       url: http://localhost:5002/


Basic use
+++++++++

.. code-block:: shell

   swh loader --C /tmp/mercurial.yml run mercurial https://www.mercurial-scm.org/repo/hello

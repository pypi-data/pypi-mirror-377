# Jupyter Book Configuration
# Learn more at https://jupyterbook.org/customize/config.html

title: Tellus Documentation
author: Paul Gierz
copyright: "2025"
logo: _static/logo.png

# Force re-execution of notebooks on each build.
# See https://jupyterbook.org/content/execute.html
execute:
  execute_notebooks: force
  timeout: 120

# Define the name of the latex output file for PDF builds
latex:
  latex_documents:
    targetname: tellus.tex

# Add a bibtex file so that we can create citations
bibtex_bibfiles:
  - references.bib

# Information about where the book exists on the web
repository:
  url: https://github.com/pgierz/tellus  # Online location of your book
  path_to_book: docs  # Optional path to your book, relative to the repository root
  branch: master  # Which branch of the repository should be used when creating links (optional)

# Add GitHub buttons to your book
# See https://jupyterbook.org/customize/config.html#add-a-link-to-your-repository
html:
  use_issues_button: true
  use_repository_button: true
  use_edit_page_button: true
  use_download_button: true
  home_page_in_navbar: false
  extra_footer: |
    <p>
    Built with <a href="https://jupyterbook.org/">Jupyter Book</a> and the 
    <a href="https://pydata-sphinx-theme.readthedocs.io/">PyData Sphinx Theme</a>.
    </p>

# Sphinx configuration
sphinx:
  config:
    html_theme: pydata_sphinx_theme
    html_theme_options:
      github_url: https://github.com/pgierz/tellus
      use_edit_page_button: true
      show_toc_level: 2
      navigation_with_keys: false
      navbar_start: ["navbar-logo"]
      navbar_center: ["navbar-nav"]
      navbar_end: ["navbar-icon-links"]
      footer_start: ["copyright"]
      footer_end: ["sphinx-version"]
      icon_links:
        - name: GitHub
          url: https://github.com/pgierz/tellus
          icon: fab fa-github-square
        - name: PyPI
          url: https://pypi.org/project/tellus/
          icon: fas fa-cube
      use_repository_button: true
      repository_url: https://github.com/pgierz/tellus
      repository_branch: master
      path_to_docs: docs/
    html_title: "Tellus Documentation"
    html_short_title: "Tellus"
    html_favicon: _static/favicon.ico
    html_last_updated_fmt: "%b %d, %Y"
    html_show_sourcelink: false
    html_sourcelink_suffix: ""
    
    # Autodoc configuration
    autodoc_default_options:
      members: true
      member-order: bysource
      special-members: "__init__"
      undoc-members: true
      exclude-members: "__weakref__"
      show-inheritance: true
    autodoc_typehints: description
    autodoc_typehints_description_target: documented
    autodoc_class_signature: mixed
    
    # Autosummary configuration  
    autosummary_generate: true
    autosummary_imported_members: true
    
    # Napoleon configuration for NumPy/Google style docstrings
    napoleon_google_docstring: true
    napoleon_numpy_docstring: true
    napoleon_include_init_with_doc: false
    napoleon_include_private_with_doc: false
    napoleon_include_special_with_doc: true
    napoleon_use_admonition_for_examples: false
    napoleon_use_admonition_for_notes: false
    napoleon_use_admonition_for_references: false
    napoleon_use_ivar: false
    napoleon_use_param: true
    napoleon_use_rtype: true
    napoleon_use_keyword: true
    napoleon_preprocess_types: true
    napoleon_type_aliases:
      PathLike: "Union[str, pathlib.Path]"
      Dict: Dict
      List: List
      Optional: Optional
      Union: Union
      
    # Intersphinx mapping for cross-references
    intersphinx_mapping:
      python: ["https://docs.python.org/3", null]
      numpy: ["https://numpy.org/doc/stable/", null]
      pandas: ["https://pandas.pydata.org/docs/", null]
      xarray: ["https://docs.xarray.dev/en/stable/", null]
      dask: ["https://docs.dask.org/en/stable/", null]
      fsspec: ["https://filesystem-spec.readthedocs.io/en/latest/", null]
      rich: ["https://rich.readthedocs.io/en/stable/", null]
      click: ["https://click.palletsprojects.com/en/8.1.x/", null]
      pydantic: ["https://docs.pydantic.dev/latest/", null]
    
  extra_extensions:
    - sphinx.ext.autodoc
    - sphinx.ext.autosummary
    - sphinx.ext.viewcode
    - sphinx.ext.napoleon
    - sphinx.ext.intersphinx
    - sphinx.ext.mathjax
    - sphinx.ext.doctest
    - sphinx.ext.coverage
    - sphinx.ext.linkcode
    - myst_nb
    - sphinx_copybutton
    - sphinx_design

# MyST configuration
parse:
  myst_enable_extensions:
    - amsmath
    - colon_fence
    - deflist
    - dollarmath
    - html_admonition
    - html_image
    - linkify
    - replacements
    - smartquotes
    - substitution
    - tasklist

# Exclude files from the build
exclude_patterns:
  - _build
  - .DS_Store
  - "**.ipynb_checkpoints"
  - ".pytest_cache"
  - ".ruff_cache"
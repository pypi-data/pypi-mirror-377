Metadata-Version: 2.4
Name: tyr-agent
Version: 1.0.2
Summary: Biblioteca para criaÃ§Ã£o de agentes LLM com suporte a Gemini e GPT, histÃ³rico persistente, execuÃ§Ã£o de funÃ§Ãµes e roteamento entre mÃºltiplos agentes.
Author-email: Witor Oliveira <witoredson@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/Drarlian/tyr-agent
Project-URL: Source, https://github.com/Drarlian/tyr-agent
Project-URL: Issues, https://github.com/Drarlian/tyr-agent/issues
Keywords: llm,agent,gemini,openai,function-calling,multi-agent,memory,orchestration
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: google-genai
Requires-Dist: openai
Requires-Dist: python-dotenv
Dynamic: license-file

# ðŸ¤– Tyr Agent

[![PyPI version](https://badge.fury.io/py/tyr-agent.svg)](https://pypi.org/project/tyr-agent/)
[![Python version](https://img.shields.io/badge/python-3.10%2B-blue)](https://www.python.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

TyrAgent Ã© uma biblioteca para criaÃ§Ã£o de agentes inteligentes com histÃ³rico, function-calling, suporte a arquivos e orquestraÃ§Ã£o de mÃºltiplos agentes. CompatÃ­vel com os modelos **Gemini** (Google) e **GPT** (OpenAI), com integraÃ§Ã£o nativa para ambos.

- ðŸ’¬ Conversas com ou sem `streaming`
- ðŸ§  `MemÃ³ria` persistente de interaÃ§Ãµes (por agente), com controle total de uso e armazenamento
- ðŸ“Š Sistema de `score` por interaÃ§Ã£o para qualificar e filtrar o histÃ³rico
- âš™ï¸ ExecuÃ§Ã£o de funÃ§Ãµes Python com suporte a `function calling`
- ðŸ§‘ðŸ»â€ðŸ’¼ `OrquestraÃ§Ã£o` de mÃºltiplos agentes com roteamento automÃ¡tico de mensagens
- ðŸ–¼ï¸ Suporte a mÃºltiplos tipos de `arquivo`
- ðŸ§© Estrutura modular e extensÃ­vel

---

## ðŸ“¦ InstalaÃ§Ã£o via PyPI

```bash
pip install tyr-agent
```

> ðŸ” Ã‰ necessÃ¡rio definir as variÃ¡veis de ambiente:
> - `GEMINI_KEY` para uso com modelos Gemini
> - `OPENAI_API_KEY` para uso com modelos GPT (OpenAI)

---

## ðŸ’¡ Exemplos de uso

### ðŸ“˜ SimpleAgent

```python
from tyr_agent import SimpleAgent, GeminiModel, GPTModel
import asyncio

agent = SimpleAgent(
    prompt_build="VocÃª Ã© um agente especializado em aÃ§Ãµes brasileiras.",
    agent_name="FinanceAgent",
    model=GeminiModel("gemini-2.5-flash"),  # ou GPTModel("modelo_desejado")
    use_storage=True,
    use_history=True,
    use_score=True,
)

response = asyncio.run(agent.chat("Me fale sobre a WEGE3.", save_history=True))
print(response)
```

### âš™ï¸ ComplexAgent com funÃ§Ãµes

```python
from tyr_agent import ComplexAgent, GeminiModel, GPTModel
from typing import List
import asyncio

def somar(nums: List[float]) -> float: return sum(nums)
def subtrair(nums: List[float]) -> float: return nums[0] - sum(nums[1:])

agent = ComplexAgent(
    prompt_build="VocÃª faz cÃ¡lculos precisos com base nas funÃ§Ãµes disponÃ­veis.",
    agent_name="MathAgent",
    model=GeminiModel("gemini-2.5-flash"),  # ou GPTModel("modelo_desejado")
    functions=[somar, subtrair],
    use_storage=True,
    use_history=True,
    use_score=True,
)

response = asyncio.run(agent.chat("Quanto Ã© 14+18+24 e 18-6-2?", save_history=True))
print(response)
```

### ðŸ§‘ðŸ»â€ðŸ’¼ ManagerAgent (Orquestrador)

```python
from tyr_agent import SimpleAgent, ComplexAgent, ManagerAgent, GPTModel, GeminiModel
import asyncio

def get_clima(cidade: str) -> str: return f"O clima na cidade {cidade} Ã© de 25ÂºC e esta ensolarado."

finance_agent = SimpleAgent(
    prompt_build="VocÃª Ã© um agente especializado em aÃ§Ãµes brasileiras.",
    agent_name="FinanceAgent",
    model=GeminiModel("gemini-2.5-flash"),  # ou GPTModel("modelo_desejado")
    use_storage=True,
    use_history=True,
    use_score=True,
)

weather_agent = ComplexAgent(
    prompt_build="VocÃª Ã© um agente do clima.",
    agent_name="WeatherAgent",
    model=GPTModel("gpt-4o"),  # ou GeminiModel("modelo_desejado")
    functions=[get_clima],
)

manager = ManagerAgent(
    agent_name="Manager",
    model=GPTModel("quality"),
    agents=[finance_agent, weather_agent],
    use_history=True
)

response = asyncio.run(manager.chat("Quanto Ã© 10+10? E o clima no Rio?", save_history=True))
print(response)
```

### ðŸ“Ž Envio de arquivos

```python
from tyr_agent import SimpleAgent, GeminiModel, GPTModel
import asyncio

agent = SimpleAgent(
    prompt_build="VocÃª Ã© um agente especializado em leitura de documentos.",
    agent_name="FileAgent",
    model=GeminiModel("gemini-2.5-flash"),  # ou GPTModel("modelo_desejado")
    use_storage=True,
    use_history=True,
    use_score=True,
)

files_info = [
    {
        "file": "D:\\caminho\\para\\meu_arquivo1.png",  # Pode ser um path, base64 ou BytesIO
        "file_name": "Documento1.png"
    },
    {
        "file": "D:\\caminho\\para\\meu_arquivo2.png",  # Pode ser um path, base64 ou BytesIO
        "file_name": "Documento2.png"
    },
]

response = asyncio.run(agent.chat("Sobre o que Ã© esses documentos?", save_history=True, files=files_info))
print(response)
```

---

## ðŸ”§ Modelos disponÃ­veis

- `GeminiModel(model_name: str, temperature=0.4, max_tokens=600)`
- `GPTModel(model_name: str, temperature=0.4, max_tokens=600)`
- `GPTModel("economy")` â†’ usa `gpt-3.5-turbo`
- `GPTModel("quality")` â†’ usa `gpt-4o`
- Ambos assumem as chaves das variÃ¡veis `GEMINI_KEY` ou `OPENAI_API_KEY` automaticamente.

---

## ðŸ§  Principais recursos

- `SimpleAgent`: Respostas simples com ou sem histÃ³rico
- `ComplexAgent`: Permite execuÃ§Ã£o de funÃ§Ãµes e resposta final combinada
- `ManagerAgent`: Gerencia e delega perguntas entre mÃºltiplos agentes
- Suporte completo a arquivos (path, base64, BytesIO)
- Sistema de notas (score 0 a 5) para filtrar interaÃ§Ãµes Ãºteis
- HistÃ³rico persistente e controlÃ¡vel por agente

---

## ðŸ“„ LicenÃ§a

Este repositÃ³rio estÃ¡ licenciado sob os termos da MIT License.

---

## ðŸ“¬ Contato

Criado por **Witor Oliveira**  
ðŸ”— [LinkedIn](https://www.linkedin.com/in/witoroliveira/)  
ðŸ“« [Contato por e-mail](mailto:witoredson@gmail.com)

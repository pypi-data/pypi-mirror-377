{ "abi": [ { "type": "constructor", "inputs": [ { "name": "_policyManager", "type": "address", "internalType": "address" } ], "stateMutability": "nonpayable" }, { "type": "function", "name": "activateForFund", "inputs": [ { "name": "", "type": "address", "internalType": "address" } ], "outputs": [], "stateMutability": "nonpayable" }, { "type": "function", "name": "addFundSettings", "inputs": [ { "name": "_comptrollerProxy", "type": "address", "internalType": "address" }, { "name": "_encodedSettings", "type": "bytes", "internalType": "bytes" } ], "outputs": [], "stateMutability": "nonpayable" }, { "type": "function", "name": "canDisable", "inputs": [], "outputs": [ { "name": "canDisable_", "type": "bool", "internalType": "bool" } ], "stateMutability": "pure" }, { "type": "function", "name": "getFundSettings", "inputs": [ { "name": "_comptrollerProxy", "type": "address", "internalType": "address" } ], "outputs": [ { "name": "fundSettings_", "type": "tuple", "internalType": "struct MinMaxInvestmentPolicy.FundSettings", "components": [ { "name": "minInvestmentAmount", "type": "uint256", "internalType": "uint256" }, { "name": "maxInvestmentAmount", "type": "uint256", "internalType": "uint256" } ] } ], "stateMutability": "view" }, { "type": "function", "name": "getPolicyManager", "inputs": [], "outputs": [ { "name": "policyManager_", "type": "address", "internalType": "address" } ], "stateMutability": "view" }, { "type": "function", "name": "identifier", "inputs": [], "outputs": [ { "name": "identifier_", "type": "string", "internalType": "string" } ], "stateMutability": "pure" }, { "type": "function", "name": "implementedHooks", "inputs": [], "outputs": [ { "name": "implementedHooks_", "type": "uint8[]", "internalType": "enum IPolicyManager.PolicyHook[]" } ], "stateMutability": "pure" }, { "type": "function", "name": "passesRule", "inputs": [ { "name": "_comptrollerProxy", "type": "address", "internalType": "address" }, { "name": "_investmentAmount", "type": "uint256", "internalType": "uint256" } ], "outputs": [ { "name": "isValid_", "type": "bool", "internalType": "bool" } ], "stateMutability": "view" }, { "type": "function", "name": "updateFundSettings", "inputs": [ { "name": "_comptrollerProxy", "type": "address", "internalType": "address" }, { "name": "_encodedSettings", "type": "bytes", "internalType": "bytes" } ], "outputs": [], "stateMutability": "nonpayable" }, { "type": "function", "name": "validateRule", "inputs": [ { "name": "_comptrollerProxy", "type": "address", "internalType": "address" }, { "name": "", "type": "uint8", "internalType": "enum IPolicyManager.PolicyHook" }, { "name": "_encodedArgs", "type": "bytes", "internalType": "bytes" } ], "outputs": [ { "name": "isValid_", "type": "bool", "internalType": "bool" } ], "stateMutability": "nonpayable" }, { "type": "event", "name": "FundSettingsSet", "inputs": [ { "name": "comptrollerProxy", "type": "address", "indexed": true, "internalType": "address" }, { "name": "minInvestmentAmount", "type": "uint256", "indexed": false, "internalType": "uint256" }, { "name": "maxInvestmentAmount", "type": "uint256", "indexed": false, "internalType": "uint256" } ], "anonymous": false } ], "bytecode": { "object": "0x60a060405234801561001057600080fd5b50604051610a88380380610a8883398101604081905261002f91610055565b60601b6001600160601b0319166080526100a3565b805161004f8161008c565b92915050565b60006020828403121561006757600080fd5b60006100738484610044565b949350505050565b60006001600160a01b03821661004f565b6100958161007b565b81146100a057600080fd5b50565b60805160601c6109c36100c560003980610179528061038552506109c36000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c80636e3a9982116100665780636e3a9982146101095780637998a1c41461011c578063cbf54bb214610131578063ceb9a0ad14610146578063d44ad6cb146101595761009e565b80630d4d7510146100a35780630f5f6b4f146100a35780631ef92578146100b85780634fa4e54b146100d6578063579be718146100f6575b600080fd5b6100b66100b1366004610597565b61016e565b005b6100c0610204565b6040516100cd919061089d565b60405180910390f35b6100e96100e4366004610510565b610209565b6040516100cd91906108dc565b6100c06101043660046105ed565b610246565b6100c0610117366004610655565b6102a1565b6101246102fd565b6040516100cd91906108ab565b610139610329565b6040516100cd9190610885565b6100b6610154366004610510565b610380565b610161610383565b6040516100cd9190610877565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146101bf5760405162461bcd60e51b81526004016101b6906108bc565b60405180910390fd5b6101ff8383838080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152506103a792505050565b505050565b600190565b610211610476565b506001600160a01b0381166000908152602081815260409182902082518084019093528054835260010154908201525b919050565b60008061028884848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061044d92505050565b505091505061029786826102a1565b9695505050505050565b6001600160a01b03821660009081526020819052604081208054600190910154816102d25783111591506102f79050565b806102e2575082101590506102f7565b8184101580156102f25750808411155b925050505b92915050565b60408051808201909152601281527113525397d3505617d253959154d51351539560721b602082015290565b6040805160018082528183019092526060916020808301908036833701905050905060008160008151811061035a57fe5b6020026020010190600981111561036d57fe5b9081600981111561037a57fe5b90525090565b50565b7f000000000000000000000000000000000000000000000000000000000000000090565b600080828060200190518101906103be919061068f565b9150915080600014806103d057508082105b6103ec5760405162461bcd60e51b81526004016101b6906108cc565b6001600160a01b03841660008181526020819052604090819020848155600101839055517fed112d6c0e84b6900209ce5a4c04541bc63a517e0160888c447ee70be47ce60f9061043f90859085906108ea565b60405180910390a250505050565b600080600080848060200190518101906104679190610536565b93509350935093509193509193565b604051806040016040528060008152602001600081525090565b80356102f78161098c565b80516102f78161098c565b60008083601f8401126104b857600080fd5b50813567ffffffffffffffff8111156104d057600080fd5b6020830191508360018202830111156104e857600080fd5b9250929050565b80356102f7816109a0565b80356102f7816109ad565b80516102f7816109ad565b60006020828403121561052257600080fd5b600061052e8484610490565b949350505050565b6000806000806080858703121561054c57600080fd5b6000610558878761049b565b945050602061056987828801610505565b935050604061057a87828801610505565b925050606061058b87828801610505565b91505092959194509250565b6000806000604084860312156105ac57600080fd5b60006105b88686610490565b935050602084013567ffffffffffffffff8111156105d557600080fd5b6105e1868287016104a6565b92509250509250925092565b6000806000806060858703121561060357600080fd5b600061060f8787610490565b9450506020610620878288016104ef565b935050604085013567ffffffffffffffff81111561063d57600080fd5b610649878288016104a6565b95989497509550505050565b6000806040838503121561066857600080fd5b60006106748585610490565b9250506020610685858286016104fa565b9150509250929050565b600080604083850312156106a257600080fd5b60006106ae8585610505565b925050602061068585828601610505565b60006106cb8383610744565b505060200190565b6106dc81610918565b82525050565b60006106ed8261090b565b6106f7818561090f565b935061070283610905565b8060005b8381101561073057815161071a88826106bf565b975061072583610905565b925050600101610706565b509495945050505050565b6106dc81610923565b6106dc81610941565b60006107588261090b565b610762818561090f565b935061077281856020860161094c565b61077b81610978565b9093019392505050565b600061079260298361090f565b7f4f6e6c792074686520506f6c6963794d616e616765722063616e206d616b65208152681d1a1a5cc818d85b1b60ba1b602082015260400192915050565b60006107dd604c8361090f565b7f5f5f73657446756e6453657474696e67733a206d696e496e766573746d656e7481527f416d6f756e74206d757374206265206c657373207468616e206d6178496e766560208201526b1cdd1b595b9d105b5bdd5b9d60a21b604082015260600192915050565b80516040830190610855848261086e565b506020820151610868602085018261086e565b50505050565b6106dc8161093e565b602081016102f782846106d3565b6020808252810161089681846106e2565b9392505050565b602081016102f7828461073b565b60208082528101610896818461074d565b602080825281016102f781610785565b602080825281016102f7816107d0565b604081016102f78284610844565b604081016108f8828561086e565b610896602083018461086e565b60200190565b5190565b90815260200190565b60006102f782610932565b151590565b8061024181610982565b6001600160a01b031690565b90565b60006102f782610928565b60005b8381101561096757818101518382015260200161094f565b838111156108685750506000910152565b601f01601f191690565b600a811061038057fe5b61099581610918565b811461038057600080fd5b600a811061038057600080fd5b6109958161093e56fea164736f6c634300060c000a", "sourceMap": "591:5561:219:-:0;;;978:72;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;737:31:223;;-1:-1:-1;;;;;;737:31:223;;;591:5561:219;;5:134:-1;83:13;;101:33;83:13;101:33;:::i;:::-;68:71;;;;:::o;146:263::-;;261:2;249:9;240:7;236:23;232:32;229:2;;;277:1;274;267:12;229:2;312:1;329:64;385:7;365:9;329:64;:::i;:::-;319:74;223:186;-1:-1;;;;223:186::o;416:91::-;;-1:-1;;;;;576:54;;478:24;559:76::o;642:117::-;711:24;729:5;711:24;:::i;:::-;704:5;701:35;691:2;;750:1;747;740:12;691:2;685:74;:::o;:::-;591:5561:219;;;;;;;;;;;", "linkReferences": {} }, "deployedBytecode": { "object": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c80636e3a9982116100665780636e3a9982146101095780637998a1c41461011c578063cbf54bb214610131578063ceb9a0ad14610146578063d44ad6cb146101595761009e565b80630d4d7510146100a35780630f5f6b4f146100a35780631ef92578146100b85780634fa4e54b146100d6578063579be718146100f6575b600080fd5b6100b66100b1366004610597565b61016e565b005b6100c0610204565b6040516100cd919061089d565b60405180910390f35b6100e96100e4366004610510565b610209565b6040516100cd91906108dc565b6100c06101043660046105ed565b610246565b6100c0610117366004610655565b6102a1565b6101246102fd565b6040516100cd91906108ab565b610139610329565b6040516100cd9190610885565b6100b6610154366004610510565b610380565b610161610383565b6040516100cd9190610877565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146101bf5760405162461bcd60e51b81526004016101b6906108bc565b60405180910390fd5b6101ff8383838080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152506103a792505050565b505050565b600190565b610211610476565b506001600160a01b0381166000908152602081815260409182902082518084019093528054835260010154908201525b919050565b60008061028884848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061044d92505050565b505091505061029786826102a1565b9695505050505050565b6001600160a01b03821660009081526020819052604081208054600190910154816102d25783111591506102f79050565b806102e2575082101590506102f7565b8184101580156102f25750808411155b925050505b92915050565b60408051808201909152601281527113525397d3505617d253959154d51351539560721b602082015290565b6040805160018082528183019092526060916020808301908036833701905050905060008160008151811061035a57fe5b6020026020010190600981111561036d57fe5b9081600981111561037a57fe5b90525090565b50565b7f000000000000000000000000000000000000000000000000000000000000000090565b600080828060200190518101906103be919061068f565b9150915080600014806103d057508082105b6103ec5760405162461bcd60e51b81526004016101b6906108cc565b6001600160a01b03841660008181526020819052604090819020848155600101839055517fed112d6c0e84b6900209ce5a4c04541bc63a517e0160888c447ee70be47ce60f9061043f90859085906108ea565b60405180910390a250505050565b600080600080848060200190518101906104679190610536565b93509350935093509193509193565b604051806040016040528060008152602001600081525090565b80356102f78161098c565b80516102f78161098c565b60008083601f8401126104b857600080fd5b50813567ffffffffffffffff8111156104d057600080fd5b6020830191508360018202830111156104e857600080fd5b9250929050565b80356102f7816109a0565b80356102f7816109ad565b80516102f7816109ad565b60006020828403121561052257600080fd5b600061052e8484610490565b949350505050565b6000806000806080858703121561054c57600080fd5b6000610558878761049b565b945050602061056987828801610505565b935050604061057a87828801610505565b925050606061058b87828801610505565b91505092959194509250565b6000806000604084860312156105ac57600080fd5b60006105b88686610490565b935050602084013567ffffffffffffffff8111156105d557600080fd5b6105e1868287016104a6565b92509250509250925092565b6000806000806060858703121561060357600080fd5b600061060f8787610490565b9450506020610620878288016104ef565b935050604085013567ffffffffffffffff81111561063d57600080fd5b610649878288016104a6565b95989497509550505050565b6000806040838503121561066857600080fd5b60006106748585610490565b9250506020610685858286016104fa565b9150509250929050565b600080604083850312156106a257600080fd5b60006106ae8585610505565b925050602061068585828601610505565b60006106cb8383610744565b505060200190565b6106dc81610918565b82525050565b60006106ed8261090b565b6106f7818561090f565b935061070283610905565b8060005b8381101561073057815161071a88826106bf565b975061072583610905565b925050600101610706565b509495945050505050565b6106dc81610923565b6106dc81610941565b60006107588261090b565b610762818561090f565b935061077281856020860161094c565b61077b81610978565b9093019392505050565b600061079260298361090f565b7f4f6e6c792074686520506f6c6963794d616e616765722063616e206d616b65208152681d1a1a5cc818d85b1b60ba1b602082015260400192915050565b60006107dd604c8361090f565b7f5f5f73657446756e6453657474696e67733a206d696e496e766573746d656e7481527f416d6f756e74206d757374206265206c657373207468616e206d6178496e766560208201526b1cdd1b595b9d105b5bdd5b9d60a21b604082015260600192915050565b80516040830190610855848261086e565b506020820151610868602085018261086e565b50505050565b6106dc8161093e565b602081016102f782846106d3565b6020808252810161089681846106e2565b9392505050565b602081016102f7828461073b565b60208082528101610896818461074d565b602080825281016102f781610785565b602080825281016102f7816107d0565b604081016102f78284610844565b604081016108f8828561086e565b610896602083018461086e565b60200190565b5190565b90815260200190565b60006102f782610932565b151590565b8061024181610982565b6001600160a01b031690565b90565b60006102f782610928565b60005b8381101561096757818101518382015260200161094f565b838111156108685750506000910152565b601f01601f191690565b600a811061038057fe5b61099581610918565b811461038057600080fd5b600a811061038057600080fd5b6109958161093e56fea164736f6c634300060c000a", "sourceMap": "591:5561:219:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2611:223;;;;;;:::i;:::-;;:::i;:::-;;1600:108;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;5939:211;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;4353:343::-;;;;;;:::i;:::-;;:::i;3133:841::-;;;;;;:::i;:::-;;:::i;1830:125::-;;;:::i;:::-;;;;;;;:::i;2085:328::-;;;:::i;:::-;;;;;;;:::i;941:83:223:-;;;;;;:::i;:::-;;:::i;6755:113::-;;;:::i;:::-;;;;;;;:::i;2611:223:219:-;586:10:223;-1:-1:-1;;;;;600:14:223;586:28;;578:82;;;;-1:-1:-1;;;578:82:223;;;;;;;:::i;:::-;;;;;;;;;2773:54:219::1;2791:17;2810:16;;2773:54;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;::::0;::::1;::::0;;;;-1:-1:-1;2773:17:219::1;::::0;-1:-1:-1;;;2773:54:219:i:1;:::-;2611:223:::0;;;:::o;1600:108::-;1697:4;1600:108;:::o;5939:211::-;6038:33;;:::i;:::-;-1:-1:-1;;;;;;6094:49:219;;:30;:49;;;;;;;;;;;;6087:56;;;;;;;;;;;;;;;;;;;5939:211;;;;:::o;4353:343::-;4515:13;4543:24;4575:49;4611:12;;4575:49;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;4575:35:219;;-1:-1:-1;;;4575:49:219:i;:::-;4540:84;;;;;4642:47;4653:17;4672:16;4642:10;:47::i;:::-;4635:54;4353:343;-1:-1:-1;;;;;;4353:343:219:o;3133:841::-;-1:-1:-1;;;;;3311:49:219;;3252:13;3311:49;;;;;;;;;;:82;;3433;;;;;3649:24;3645:210;;3696:40;;;;-1:-1:-1;3689:47:219;;-1:-1:-1;3689:47:219;3645:210;3757:24;3753:102;;-1:-1:-1;3804:40:219;;;;-1:-1:-1;3797:47:219;;3753:102;3904:19;3883:17;:40;;:84;;;;;3948:19;3927:17;:40;;3883:84;3864:103;;;;3133:841;;;;;:::o;1830:125::-;1921:27;;;;;;;;;;;;-1:-1:-1;;;1921:27:219;;;;1830:125;:::o;2085:328::-;2265:34;;;2297:1;2265:34;;;;;;;;;2177:52;;2265:34;;;;;;;;;;;-1:-1:-1;2265:34:219;2245:54;;2332:39;2309:17;2327:1;2309:20;;;;;;;;;;;;;:62;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;2085:328:219;:::o;941:83:223:-;;:::o;6755:113::-;6847:14;6755:113;:::o;4897:777:219:-;5001:27;5030;5085:16;5061:82;;;;;;;;;;;;:::i;:::-;5000:143;;;;5175:19;5198:1;5175:24;:69;;;;5225:19;5203;:41;5175:69;5154:192;;;;-1:-1:-1;;;5154:192:219;;;;;;;:::i;:::-;-1:-1:-1;;;;;5357:49:219;;:30;:49;;;;;;;;;;;;:104;;;5471:82;;:104;;;5591:76;;;;;5442:19;;5556;;5591:76;:::i;:::-;;;;;;;;4897:777;;;;:::o;3033:353:223:-;3168:14;3196:25;3235:21;3270:12;3325:15;3314:65;;;;;;;;;;;;:::i;:::-;3307:72;;;;;;;;3033:353;;;;;:::o;-1:-1:-1:-;;;;;;;;;;;;;;;;;;;:::o;5:130::-;72:20;;97:33;72:20;97:33;:::i;142:150::-;228:13;;246:41;228:13;246:41;:::i;313:336::-;;;427:3;420:4;412:6;408:17;404:27;394:2;;445:1;442;435:12;394:2;-1:-1;465:20;;505:18;494:30;;491:2;;;537:1;534;527:12;491:2;571:4;563:6;559:17;547:29;;622:3;614:4;606:6;602:17;592:8;588:32;585:41;582:2;;;639:1;636;629:12;582:2;387:262;;;;;:::o;657:162::-;740:20;;765:49;740:20;765:49;:::i;826:130::-;893:20;;918:33;893:20;918:33;:::i;963:134::-;1041:13;;1059:33;1041:13;1059:33;:::i;1104:241::-;;1208:2;1196:9;1187:7;1183:23;1179:32;1176:2;;;1224:1;1221;1214:12;1176:2;1259:1;1276:53;1321:7;1301:9;1276:53;:::i;:::-;1266:63;1170:175;-1:-1;;;;1170:175::o;1352:688::-;;;;;1526:3;1514:9;1505:7;1501:23;1497:33;1494:2;;;1543:1;1540;1533:12;1494:2;1578:1;1595:72;1659:7;1639:9;1595:72;:::i;:::-;1585:82;;1557:116;1704:2;1722:64;1778:7;1769:6;1758:9;1754:22;1722:64;:::i;:::-;1712:74;;1683:109;1823:2;1841:64;1897:7;1888:6;1877:9;1873:22;1841:64;:::i;:::-;1831:74;;1802:109;1942:2;1960:64;2016:7;2007:6;1996:9;1992:22;1960:64;:::i;:::-;1950:74;;1921:109;1488:552;;;;;;;:::o;2047:490::-;;;;2187:2;2175:9;2166:7;2162:23;2158:32;2155:2;;;2203:1;2200;2193:12;2155:2;2238:1;2255:53;2300:7;2280:9;2255:53;:::i;:::-;2245:63;;2217:97;2373:2;2362:9;2358:18;2345:32;2397:18;2389:6;2386:30;2383:2;;;2429:1;2426;2419:12;2383:2;2457:64;2513:7;2504:6;2493:9;2489:22;2457:64;:::i;:::-;2439:82;;;;2324:203;2149:388;;;;;:::o;2544:647::-;;;;;2717:2;2705:9;2696:7;2692:23;2688:32;2685:2;;;2733:1;2730;2723:12;2685:2;2768:1;2785:53;2830:7;2810:9;2785:53;:::i;:::-;2775:63;;2747:97;2875:2;2893:69;2954:7;2945:6;2934:9;2930:22;2893:69;:::i;:::-;2883:79;;2854:114;3027:2;3016:9;3012:18;2999:32;3051:18;3043:6;3040:30;3037:2;;;3083:1;3080;3073:12;3037:2;3111:64;3167:7;3158:6;3147:9;3143:22;3111:64;:::i;:::-;2679:512;;;;-1:-1;3093:82;-1:-1;;;;2679:512::o;3198:366::-;;;3319:2;3307:9;3298:7;3294:23;3290:32;3287:2;;;3335:1;3332;3325:12;3287:2;3370:1;3387:53;3432:7;3412:9;3387:53;:::i;:::-;3377:63;;3349:97;3477:2;3495:53;3540:7;3531:6;3520:9;3516:22;3495:53;:::i;:::-;3485:63;;3456:98;3281:283;;;;;:::o;3571:399::-;;;3703:2;3691:9;3682:7;3678:23;3674:32;3671:2;;;3719:1;3716;3709:12;3671:2;3754:1;3771:64;3827:7;3807:9;3771:64;:::i;:::-;3761:74;;3733:108;3872:2;3890:64;3946:7;3937:6;3926:9;3922:22;3890:64;:::i;3978:201::-;;4079:60;4135:3;4127:6;4079:60;:::i;:::-;-1:-1;;4168:4;4159:14;;4072:107::o;4187:113::-;4270:24;4288:5;4270:24;:::i;:::-;4265:3;4258:37;4252:48;;:::o;4359:764::-;;4518:70;4582:5;4518:70;:::i;:::-;4601:84;4678:6;4673:3;4601:84;:::i;:::-;4594:91;;4706:72;4772:5;4706:72;:::i;:::-;4798:7;4826:1;4811:290;4836:6;4833:1;4830:13;4811:290;;;4903:6;4897:13;4924:77;4997:3;4982:13;4924:77;:::i;:::-;4917:84;;5018:76;5087:6;5018:76;:::i;:::-;5008:86;-1:-1;;4858:1;4851:9;4811:290;;;-1:-1;5114:3;;4497:626;-1:-1;;;;;4497:626::o;5131:104::-;5208:21;5223:5;5208:21;:::i;5242:144::-;5329:51;5374:5;5329:51;:::i;5393:347::-;;5505:39;5538:5;5505:39;:::i;:::-;5556:71;5620:6;5615:3;5556:71;:::i;:::-;5549:78;;5632:52;5677:6;5672:3;5665:4;5658:5;5654:16;5632:52;:::i;:::-;5705:29;5727:6;5705:29;:::i;:::-;5696:39;;;;5485:255;-1:-1;;;5485:255::o;5748:378::-;;5908:67;5972:2;5967:3;5908:67;:::i;:::-;6008:34;5988:55;;-1:-1;;;6072:2;6063:12;;6056:33;6117:2;6108:12;;5894:232;-1:-1;;5894:232::o;6135:450::-;;6295:67;6359:2;6354:3;6295:67;:::i;:::-;6395:34;6375:55;;6464:34;6459:2;6450:12;;6443:56;-1:-1;;;6528:2;6519:12;;6512:36;6576:2;6567:12;;6281:304;-1:-1;;6281:304::o;6688:518::-;6924:23;;6843:4;6834:14;;;6953:63;6838:3;6924:23;6953:63;:::i;:::-;6863:159;7110:4;7103:5;7099:16;7093:23;7122:63;7179:4;7174:3;7170:14;7156:12;7122:63;:::i;:::-;7032:159;6816:390;;;:::o;7213:103::-;7286:24;7304:5;7286:24;:::i;7443:222::-;7570:2;7555:18;;7584:71;7559:9;7628:6;7584:71;:::i;7672:398::-;7863:2;7877:47;;;7848:18;;7938:122;7848:18;8046:6;7938:122;:::i;:::-;7930:130;7834:236;-1:-1;;;7834:236::o;8077:210::-;8198:2;8183:18;;8212:65;8187:9;8250:6;8212:65;:::i;8294:310::-;8441:2;8455:47;;;8426:18;;8516:78;8426:18;8580:6;8516:78;:::i;8611:416::-;8811:2;8825:47;;;8796:18;;8886:131;8796:18;8886:131;:::i;9034:416::-;9234:2;9248:47;;;9219:18;;9309:131;9219:18;9309:131;:::i;9457:346::-;9646:2;9631:18;;9660:133;9635:9;9766:6;9660:133;:::i;9810:333::-;9965:2;9950:18;;9979:71;9954:9;10023:6;9979:71;:::i;:::-;10061:72;10129:2;10118:9;10114:18;10105:6;10061:72;:::i;10150:167::-;10290:4;10281:14;;10238:79::o;10324:153::-;10443:12;;10414:63::o;10745:176::-;10861:19;;;10910:4;10901:14;;10854:67::o;11101:91::-;;11163:24;11181:5;11163:24;:::i;11305:85::-;11371:13;11364:21;;11347:43::o;11397:138::-;11475:5;11481:49;11475:5;11481:49;:::i;11542:121::-;-1:-1;;;;;11604:54;;11587:76::o;11670:72::-;11732:5;11715:27::o;11749:138::-;;11842:40;11876:5;11842:40;:::i;11895:268::-;11960:1;11967:101;11981:6;11978:1;11975:13;11967:101;;;12048:11;;;12042:18;12029:11;;;12022:39;12003:2;11996:10;11967:101;;;12083:6;12080:1;12077:13;12074:2;;;-1:-1;;12148:1;12130:16;;12123:27;11944:219::o;12171:97::-;12259:2;12239:14;-1:-1;;12235:28;;12219:49::o;12276:108::-;12361:2;12354:5;12351:13;12341:2;;12368:9;12391:117;12460:24;12478:5;12460:24;:::i;:::-;12453:5;12450:35;12440:2;;12499:1;12496;12489:12;12655:111;12740:2;12733:5;12730:13;12720:2;;12757:1;12754;12747:12;12773:117;12842:24;12860:5;12842:24;:::i", "linkReferences": {}, "immutableReferences": { "59893": [ { "start": 377, "length": 32 }, { "start": 901, "length": 32 } ] } }, "methodIdentifiers": { "activateForFund(address)": "ceb9a0ad", "addFundSettings(address,bytes)": "0f5f6b4f", "canDisable()": "1ef92578", "getFundSettings(address)": "4fa4e54b", "getPolicyManager()": "d44ad6cb", "identifier()": "7998a1c4", "implementedHooks()": "cbf54bb2", "passesRule(address,uint256)": "6e3a9982", "updateFundSettings(address,bytes)": "0d4d7510", "validateRule(address,uint8,bytes)": "579be718" }, "rawMetadata": "{\"compiler\":{\"version\":\"0.6.12+commit.27d51765\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_policyManager\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"comptrollerProxy\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"minInvestmentAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maxInvestmentAmount\",\"type\":\"uint256\"}],\"name\":\"FundSettingsSet\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"activateForFund\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_comptrollerProxy\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_encodedSettings\",\"type\":\"bytes\"}],\"name\":\"addFundSettings\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"canDisable\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"canDisable_\",\"type\":\"bool\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_comptrollerProxy\",\"type\":\"address\"}],\"name\":\"getFundSettings\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"minInvestmentAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxInvestmentAmount\",\"type\":\"uint256\"}],\"internalType\":\"struct MinMaxInvestmentPolicy.FundSettings\",\"name\":\"fundSettings_\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPolicyManager\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"policyManager_\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"identifier\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"identifier_\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"implementedHooks\",\"outputs\":[{\"internalType\":\"enum IPolicyManager.PolicyHook[]\",\"name\":\"implementedHooks_\",\"type\":\"uint8[]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_comptrollerProxy\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_investmentAmount\",\"type\":\"uint256\"}],\"name\":\"passesRule\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"isValid_\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_comptrollerProxy\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_encodedSettings\",\"type\":\"bytes\"}],\"name\":\"updateFundSettings\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_comptrollerProxy\",\"type\":\"address\"},{\"internalType\":\"enum IPolicyManager.PolicyHook\",\"name\":\"\",\"type\":\"uint8\"},{\"internalType\":\"bytes\",\"name\":\"_encodedArgs\",\"type\":\"bytes\"}],\"name\":\"validateRule\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"isValid_\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Enzyme Council <security@enzyme.finance>\",\"kind\":\"dev\",\"methods\":{\"activateForFund(address)\":{\"details\":\"Unimplemented by default, can be overridden by the policy\"},\"addFundSettings(address,bytes)\":{\"params\":{\"_comptrollerProxy\":\"The fund's ComptrollerProxy address\",\"_encodedSettings\":\"Encoded settings to apply to a fund\"}},\"canDisable()\":{\"returns\":{\"canDisable_\":\"True if the policy can be disabled\"}},\"getFundSettings(address)\":{\"params\":{\"_comptrollerProxy\":\"The ComptrollerProxy of the fund\"},\"returns\":{\"fundSettings_\":\"The fund settings\"}},\"getPolicyManager()\":{\"returns\":{\"policyManager_\":\"The `POLICY_MANAGER` variable value\"}},\"identifier()\":{\"returns\":{\"identifier_\":\"The identifer string\"}},\"implementedHooks()\":{\"returns\":{\"implementedHooks_\":\"The implemented PolicyHooks\"}},\"passesRule(address,uint256)\":{\"params\":{\"_comptrollerProxy\":\"The fund's ComptrollerProxy address\",\"_investmentAmount\":\"The investment amount for which to check the rule\"},\"returns\":{\"isValid_\":\"True if the rule passes\"}},\"updateFundSettings(address,bytes)\":{\"params\":{\"_comptrollerProxy\":\"The fund's ComptrollerProxy address\",\"_encodedSettings\":\"Encoded settings to apply to a fund\"}},\"validateRule(address,uint8,bytes)\":{\"details\":\"onlyPolicyManager validation not necessary, as state is not updated and no events are fired\",\"params\":{\"_comptrollerProxy\":\"The fund's ComptrollerProxy address\",\"_encodedArgs\":\"Encoded args with which to validate the rule\"},\"returns\":{\"isValid_\":\"True if the rule passes\"}}},\"title\":\"MinMaxInvestmentPolicy Contract\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"activateForFund(address)\":{\"notice\":\"Validates and initializes a policy as necessary prior to fund activation\"},\"addFundSettings(address,bytes)\":{\"notice\":\"Adds the initial policy settings for a fund\"},\"canDisable()\":{\"notice\":\"Whether or not the policy can be disabled\"},\"getFundSettings(address)\":{\"notice\":\"Gets the min and max investment amount for a given fund\"},\"getPolicyManager()\":{\"notice\":\"Gets the `POLICY_MANAGER` variable value\"},\"identifier()\":{\"notice\":\"Provides a constant string identifier for a policy\"},\"implementedHooks()\":{\"notice\":\"Gets the implemented PolicyHooks for a policy\"},\"passesRule(address,uint256)\":{\"notice\":\"Checks whether a particular condition passes the rule for a particular fund\"},\"updateFundSettings(address,bytes)\":{\"notice\":\"Updates the policy settings for a fund\"},\"validateRule(address,uint8,bytes)\":{\"notice\":\"Apply the rule with the specified parameters of a PolicyHook\"}},\"notice\":\"A policy that restricts the amount of the fund's denomination asset that a user can send in a single call to buy shares in a fund\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/release/extensions/policy-manager/policies/new-shareholders/MinMaxInvestmentPolicy.sol\":\"MinMaxInvestmentPolicy\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"details\":{\"constantOptimizer\":true,\"cse\":true,\"deduplicate\":true,\"jumpdestRemover\":true,\"orderLiterals\":true,\"peephole\":true,\"yul\":false},\"runs\":200},\"remappings\":[\":@enzyme/=contracts/\",\":@openzeppelin-solc-0.7/=node_modules/@openzeppelin-solc-0.7/\",\":@openzeppelin/=node_modules/@openzeppelin/\",\":@uniswap/=node_modules/@uniswap/\",\":base64-sol/=node_modules/base64-sol/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":hardhat-deploy/=node_modules/hardhat-deploy/\",\":hardhat/=node_modules/hardhat/\"]},\"sources\":{\"contracts/release/extensions/policy-manager/IPolicy.sol\":{\"keccak256\":\"0xc12663ca72065b256c3b934ab738fde26c147c7b0399de43650df89dd52ee467\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://be8fecfcba0f3fda615f0a1bb3c766750c23761ef751d7c4472dfe540e460cd1\",\"dweb:/ipfs/QmaarPoRTsX6NiJ8V4u2f3Qh6d7tUs28bw9R14An3t5Bs1\"]},\"contracts/release/extensions/policy-manager/IPolicyManager.sol\":{\"keccak256\":\"0x1ed5fff925cdfa8808a65aa4c1e45813d87c1f462fc6740be670065ed2f6fd32\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://3cf584b792bc5321930a1c4c7ec22aa23a7ad8e09483694bb6f5968dca0132aa\",\"dweb:/ipfs/QmbNeaENye3NtnG3fRD7QtDSKUm2knBxUDdeuWicCMzcHb\"]},\"contracts/release/extensions/policy-manager/policies/new-shareholders/MinMaxInvestmentPolicy.sol\":{\"keccak256\":\"0x259befdb6d6c019f7b2269f5d9a4456a2cbfc111bbfcda128d57e80bb4b261c5\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://ee07f0fcceb5cc72727cf8a60b6a49d14da6f4a2ca14763606997febbfdd177c\",\"dweb:/ipfs/QmaYPG2u1P8GTrW7KDmWhbsWSnjKVyYokHffSXmu86YtWf\"]},\"contracts/release/extensions/policy-manager/policies/utils/PolicyBase.sol\":{\"keccak256\":\"0x972311abb98f0da815b4aca83d5afdd219d3604ec19cf5e3773c0c305bd9b3f1\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://2452f3d1f3b1d8e8459a07489146a2d0d8a10463715937995cbe77ee5de8c069\",\"dweb:/ipfs/Qmf2hhd2DVbjpxmbNGAhRZNZkqpGZA2mX3eA1WNwtv6t5Y\"]}},\"version\":1}", "metadata": { "compiler": { "version": "0.6.12+commit.27d51765" }, "language": "Solidity", "output": { "abi": [ { "inputs": [ { "internalType": "address", "name": "_policyManager", "type": "address" } ], "stateMutability": "nonpayable", "type": "constructor" }, { "inputs": [ { "internalType": "address", "name": "comptrollerProxy", "type": "address", "indexed": true }, { "internalType": "uint256", "name": "minInvestmentAmount", "type": "uint256", "indexed": false }, { "internalType": "uint256", "name": "maxInvestmentAmount", "type": "uint256", "indexed": false } ], "type": "event", "name": "FundSettingsSet", "anonymous": false }, { "inputs": [ { "internalType": "address", "name": "", "type": "address" } ], "stateMutability": "nonpayable", "type": "function", "name": "activateForFund" }, { "inputs": [ { "internalType": "address", "name": "_comptrollerProxy", "type": "address" }, { "internalType": "bytes", "name": "_encodedSettings", "type": "bytes" } ], "stateMutability": "nonpayable", "type": "function", "name": "addFundSettings" }, { "inputs": [], "stateMutability": "pure", "type": "function", "name": "canDisable", "outputs": [ { "internalType": "bool", "name": "canDisable_", "type": "bool" } ] }, { "inputs": [ { "internalType": "address", "name": "_comptrollerProxy", "type": "address" } ], "stateMutability": "view", "type": "function", "name": "getFundSettings", "outputs": [ { "internalType": "struct MinMaxInvestmentPolicy.FundSettings", "name": "fundSettings_", "type": "tuple", "components": [ { "internalType": "uint256", "name": "minInvestmentAmount", "type": "uint256" }, { "internalType": "uint256", "name": "maxInvestmentAmount", "type": "uint256" } ] } ] }, { "inputs": [], "stateMutability": "view", "type": "function", "name": "getPolicyManager", "outputs": [ { "internalType": "address", "name": "policyManager_", "type": "address" } ] }, { "inputs": [], "stateMutability": "pure", "type": "function", "name": "identifier", "outputs": [ { "internalType": "string", "name": "identifier_", "type": "string" } ] }, { "inputs": [], "stateMutability": "pure", "type": "function", "name": "implementedHooks", "outputs": [ { "internalType": "enum IPolicyManager.PolicyHook[]", "name": "implementedHooks_", "type": "uint8[]" } ] }, { "inputs": [ { "internalType": "address", "name": "_comptrollerProxy", "type": "address" }, { "internalType": "uint256", "name": "_investmentAmount", "type": "uint256" } ], "stateMutability": "view", "type": "function", "name": "passesRule", "outputs": [ { "internalType": "bool", "name": "isValid_", "type": "bool" } ] }, { "inputs": [ { "internalType": "address", "name": "_comptrollerProxy", "type": "address" }, { "internalType": "bytes", "name": "_encodedSettings", "type": "bytes" } ], "stateMutability": "nonpayable", "type": "function", "name": "updateFundSettings" }, { "inputs": [ { "internalType": "address", "name": "_comptrollerProxy", "type": "address" }, { "internalType": "enum IPolicyManager.PolicyHook", "name": "", "type": "uint8" }, { "internalType": "bytes", "name": "_encodedArgs", "type": "bytes" } ], "stateMutability": "nonpayable", "type": "function", "name": "validateRule", "outputs": [ { "internalType": "bool", "name": "isValid_", "type": "bool" } ] } ], "devdoc": { "kind": "dev", "methods": { "activateForFund(address)": { "details": "Unimplemented by default, can be overridden by the policy" }, "addFundSettings(address,bytes)": { "params": { "_comptrollerProxy": "The fund's ComptrollerProxy address", "_encodedSettings": "Encoded settings to apply to a fund" } }, "canDisable()": { "returns": { "canDisable_": "True if the policy can be disabled" } }, "getFundSettings(address)": { "params": { "_comptrollerProxy": "The ComptrollerProxy of the fund" }, "returns": { "fundSettings_": "The fund settings" } }, "getPolicyManager()": { "returns": { "policyManager_": "The `POLICY_MANAGER` variable value" } }, "identifier()": { "returns": { "identifier_": "The identifer string" } }, "implementedHooks()": { "returns": { "implementedHooks_": "The implemented PolicyHooks" } }, "passesRule(address,uint256)": { "params": { "_comptrollerProxy": "The fund's ComptrollerProxy address", "_investmentAmount": "The investment amount for which to check the rule" }, "returns": { "isValid_": "True if the rule passes" } }, "updateFundSettings(address,bytes)": { "params": { "_comptrollerProxy": "The fund's ComptrollerProxy address", "_encodedSettings": "Encoded settings to apply to a fund" } }, "validateRule(address,uint8,bytes)": { "details": "onlyPolicyManager validation not necessary, as state is not updated and no events are fired", "params": { "_comptrollerProxy": "The fund's ComptrollerProxy address", "_encodedArgs": "Encoded args with which to validate the rule" }, "returns": { "isValid_": "True if the rule passes" } } }, "version": 1 }, "userdoc": { "kind": "user", "methods": { "activateForFund(address)": { "notice": "Validates and initializes a policy as necessary prior to fund activation" }, "addFundSettings(address,bytes)": { "notice": "Adds the initial policy settings for a fund" }, "canDisable()": { "notice": "Whether or not the policy can be disabled" }, "getFundSettings(address)": { "notice": "Gets the min and max investment amount for a given fund" }, "getPolicyManager()": { "notice": "Gets the `POLICY_MANAGER` variable value" }, "identifier()": { "notice": "Provides a constant string identifier for a policy" }, "implementedHooks()": { "notice": "Gets the implemented PolicyHooks for a policy" }, "passesRule(address,uint256)": { "notice": "Checks whether a particular condition passes the rule for a particular fund" }, "updateFundSettings(address,bytes)": { "notice": "Updates the policy settings for a fund" }, "validateRule(address,uint8,bytes)": { "notice": "Apply the rule with the specified parameters of a PolicyHook" } }, "version": 1 } }, "settings": { "remappings": [ "@enzyme/=contracts/", "@openzeppelin-solc-0.7/=node_modules/@openzeppelin-solc-0.7/", "@openzeppelin/=node_modules/@openzeppelin/", "@uniswap/=node_modules/@uniswap/", "base64-sol/=node_modules/base64-sol/", "ds-test/=lib/forge-std/lib/ds-test/src/", "forge-std/=lib/forge-std/src/", "hardhat-deploy/=node_modules/hardhat-deploy/", "hardhat/=node_modules/hardhat/" ], "optimizer": { "runs": 200, "details": { "peephole": true, "jumpdestRemover": true, "orderLiterals": true, "deduplicate": true, "cse": true, "constantOptimizer": true, "yul": false } }, "metadata": { "bytecodeHash": "none" }, "compilationTarget": { "contracts/release/extensions/policy-manager/policies/new-shareholders/MinMaxInvestmentPolicy.sol": "MinMaxInvestmentPolicy" }, "evmVersion": "istanbul", "libraries": {} }, "sources": { "contracts/release/extensions/policy-manager/IPolicy.sol": { "keccak256": "0xc12663ca72065b256c3b934ab738fde26c147c7b0399de43650df89dd52ee467", "urls": [ "bzz-raw://be8fecfcba0f3fda615f0a1bb3c766750c23761ef751d7c4472dfe540e460cd1", "dweb:/ipfs/QmaarPoRTsX6NiJ8V4u2f3Qh6d7tUs28bw9R14An3t5Bs1" ], "license": "GPL-3.0" }, "contracts/release/extensions/policy-manager/IPolicyManager.sol": { "keccak256": "0x1ed5fff925cdfa8808a65aa4c1e45813d87c1f462fc6740be670065ed2f6fd32", "urls": [ "bzz-raw://3cf584b792bc5321930a1c4c7ec22aa23a7ad8e09483694bb6f5968dca0132aa", "dweb:/ipfs/QmbNeaENye3NtnG3fRD7QtDSKUm2knBxUDdeuWicCMzcHb" ], "license": "GPL-3.0" }, "contracts/release/extensions/policy-manager/policies/new-shareholders/MinMaxInvestmentPolicy.sol": { "keccak256": "0x259befdb6d6c019f7b2269f5d9a4456a2cbfc111bbfcda128d57e80bb4b261c5", "urls": [ "bzz-raw://ee07f0fcceb5cc72727cf8a60b6a49d14da6f4a2ca14763606997febbfdd177c", "dweb:/ipfs/QmaYPG2u1P8GTrW7KDmWhbsWSnjKVyYokHffSXmu86YtWf" ], "license": "GPL-3.0" }, "contracts/release/extensions/policy-manager/policies/utils/PolicyBase.sol": { "keccak256": "0x972311abb98f0da815b4aca83d5afdd219d3604ec19cf5e3773c0c305bd9b3f1", "urls": [ "bzz-raw://2452f3d1f3b1d8e8459a07489146a2d0d8a10463715937995cbe77ee5de8c069", "dweb:/ipfs/Qmf2hhd2DVbjpxmbNGAhRZNZkqpGZA2mX3eA1WNwtv6t5Y" ], "license": "GPL-3.0" } }, "version": 1 }, "id": 219 }
